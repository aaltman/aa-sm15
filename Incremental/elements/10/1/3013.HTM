<b> : </b><SPAN role=heading aria-level=3 class=devsite-heading>Setting the priority of a message</SPAN></H3>
<P></P>
<P></P>
<P>You have two options for assigning delivery priority to downstream messages: normal and high priority. Though the behavior differs slightly across platforms, delivery of normal and high priority messages works like this:</P>
<UL>
<LI>
<P><STRONG>Normal priority.</STRONG> Normal priority messages are delivered immediately when the app is in the foreground. For backgrounded apps, delivery may be delayed. For less time-sensitive messages, such as notifications of new email, keeping your UI in sync, or syncing app data in the background, choose normal delivery priority. </P></LI>
<LI>
<P><STRONG>High priority. </STRONG>FCM attempts to deliver high priority messages immediately even if the device is in Doze mode. High priority messages are for time-sensitive, user visible content.</P></LI></UL>
<P></P><ASIDE class=warning>When sending data messages to Apple devices, the priority <B>must</B> be set to 5, or normal priority. Messages sent with high priority are rejected by the <SPAN class=notranslate>FCM</SPAN> backend with the error <CODE dir=ltr translate="no">INVALID_ARGUMENT</CODE>.</ASIDE> 
<P>Here is an example of a normal priority message sent via the <SPAN class=notranslate>FCM</SPAN> HTTP v1 protocol to notify a magazine subscriber that new content is available to download:</P><DEVSITE-CODE data-copy-event-label="">
<DIV role=group aria-label="Action buttons" class=devsite-code-buttons-container></DIV></DEVSITE-CODE><DEVSITE-CODE data-copy-event-label=""><PRE class=notranslate dir=ltr translate="no" is-upgraded=""><SPAN class=pun>{</SPAN><SPAN class=pln><BR>&nbsp; </SPAN><SPAN class=str>"message"</SPAN><SPAN class=pun>:{</SPAN><SPAN class=pln><BR>&nbsp; &nbsp; </SPAN><SPAN class=str>"topic"</SPAN><SPAN class=pun>:</SPAN><SPAN class=str>"subscriber-updates"</SPAN><SPAN class=pun>,</SPAN><SPAN class=pln><BR>&nbsp; &nbsp; </SPAN><SPAN class=str>"notification"</SPAN><SPAN class=pun>:{</SPAN><SPAN class=pln><BR>&nbsp; &nbsp; &nbsp; </SPAN><SPAN class=str>"body"</SPAN><SPAN class=pln> </SPAN><SPAN class=pun>:</SPAN><SPAN class=pln> </SPAN><SPAN class=str>"This week's edition is now available."</SPAN><SPAN class=pun>,</SPAN><SPAN class=pln><BR>&nbsp; &nbsp; &nbsp; </SPAN><SPAN class=str>"title"</SPAN><SPAN class=pln> </SPAN><SPAN class=pun>:</SPAN><SPAN class=pln> </SPAN><SPAN class=str>"NewsMagazine.com"</SPAN><SPAN class=pun>,</SPAN><SPAN class=pln><BR>&nbsp; &nbsp; </SPAN><SPAN class=pun>},</SPAN><SPAN class=pln><BR>&nbsp; &nbsp; </SPAN><SPAN class=str>"data"</SPAN><SPAN class=pln> </SPAN><SPAN class=pun>:</SPAN><SPAN class=pln> </SPAN><SPAN class=pun>{</SPAN><SPAN class=pln><BR>&nbsp; &nbsp; &nbsp; </SPAN><SPAN class=str>"volume"</SPAN><SPAN class=pln> </SPAN><SPAN class=pun>:</SPAN><SPAN class=pln> </SPAN><SPAN class=str>"3.21.15"</SPAN><SPAN class=pun>,</SPAN><SPAN class=pln><BR>&nbsp; &nbsp; &nbsp; </SPAN><SPAN class=str>"contents"</SPAN><SPAN class=pln> </SPAN><SPAN class=pun>:</SPAN><SPAN class=pln> </SPAN><SPAN class=str>"http://www.news-magazine.com/world-week/21659772"</SPAN><SPAN class=pln><BR>&nbsp; &nbsp; </SPAN><SPAN class=pun>},</SPAN><SPAN class=pln><BR>&nbsp; &nbsp; </SPAN><SPAN class=str>"android"</SPAN><SPAN class=pun>:{</SPAN><SPAN class=pln><BR>&nbsp; &nbsp; &nbsp; </SPAN><SPAN class=str>"priority"</SPAN><SPAN class=pun>:</SPAN><SPAN class=str>"normal"</SPAN><SPAN class=pln><BR>&nbsp; &nbsp; </SPAN><SPAN class=pun>},</SPAN><SPAN class=pln><BR>&nbsp; &nbsp; </SPAN><SPAN class=str>"apns"</SPAN><SPAN class=pun>:{</SPAN><SPAN class=pln><BR>&nbsp; &nbsp; &nbsp; </SPAN><SPAN class=str>"headers"</SPAN><SPAN class=pun>:{</SPAN><SPAN class=pln><BR>&nbsp; &nbsp; &nbsp; &nbsp; </SPAN><SPAN class=str>"apns-priority"</SPAN><SPAN class=pun>:</SPAN><SPAN class=str>"5"</SPAN><SPAN class=pln><BR>&nbsp; &nbsp; &nbsp; </SPAN><SPAN class=pun>}</SPAN><SPAN class=pln><BR>&nbsp; &nbsp; </SPAN><SPAN class=pun>},</SPAN><SPAN class=pln><BR>&nbsp; &nbsp; </SPAN><SPAN class=str>"webpush"</SPAN><SPAN class=pun>:</SPAN><SPAN class=pln> </SPAN><SPAN class=pun>{</SPAN><SPAN class=pln><BR>&nbsp; &nbsp; &nbsp; </SPAN><SPAN class=str>"headers"</SPAN><SPAN class=pun>:</SPAN><SPAN class=pln> </SPAN><SPAN class=pun>{</SPAN><SPAN class=pln><BR>&nbsp; &nbsp; &nbsp; &nbsp; </SPAN><SPAN class=str>"Urgency"</SPAN><SPAN class=pun>:</SPAN><SPAN class=pln> </SPAN><SPAN class=str>"high"</SPAN><SPAN class=pln><BR>&nbsp; &nbsp; &nbsp; </SPAN><SPAN class=pun>}</SPAN><SPAN class=pln><BR>&nbsp; &nbsp; </SPAN><SPAN class=pun>}</SPAN><SPAN class=pln><BR>&nbsp; </SPAN><SPAN class=pun>}</SPAN><SPAN class=pln><BR></SPAN><SPAN class=pun>}</SPAN><SPAN class=pln><BR></SPAN></PRE></DEVSITE-CODE>
<P>For more platform-specific detail on setting message priority: </P>
<UL>
<LI><A href="https://developer.apple.com/library/prerelease/content/documentation/NetworkingInternet/Conceptual/RemoteNotificationsPG/CommunicatingwithAPNs.html#//apple_ref/doc/uid/TP40008194-CH11-SW1">APNs documentation</A></LI>
<LI><A href="https://firebase.google.com/docs/cloud-messaging/android/message-priority">Set and manage message priority</A> (Android)</LI>
<LI><A href="https://tools.ietf.org/html/rfc8030#section-5.3">Web push message urgency</A></LI></UL>