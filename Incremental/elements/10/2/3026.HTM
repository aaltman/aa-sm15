<b> : </b><SPAN role=heading aria-level=2 class=devsite-heading>VPN interactions and bypassability</SPAN></H2>
<P><SPAN class=notranslate>Firebase Cloud Messaging</SPAN> takes various steps to ensure that the push messaging connection from the phone to the server is reliable and available as often as possible. The use of a VPN complicates this effort.</P>
<P>VPNs mask the underlying information that <SPAN class=notranslate>FCM</SPAN> needs to tune its connection to maximize reliability &amp; battery life. In some cases VPNs actively break long lived connections resulting in a bad user experience due to missed or delayed messages or a high battery cost. When the VPN is configured to allow us to do so, we bypass the VPN using an encrypted connection (over the base network wifi or LTE) so as to ensure a reliable, battery friendly experience. <SPAN class=notranslate>FCM</SPAN>'s usage of bypassable VPNs is specific to the <SPAN class=notranslate>FCM</SPAN> Push Notification channel. Other <SPAN class=notranslate>FCM</SPAN> traffic, such as registration traffic, uses the VPN if it is active. When the <SPAN class=notranslate>FCM</SPAN> connection bypasses the VPN it loses additional benefits the VPN may provide, such as IP masking.</P>
<P>Different VPNs will have different methods for controlling whether or not it can be bypassed. Consult the documentation for your specific VPN for instructions.</P>
<P>If the VPN is not configured to be bypassable then <SPAN class=notranslate>Firebase Cloud Messaging</SPAN> will use the VPN network in order to connect to the server. This may result in periods of time where messages are delayed and may result in more battery usage as <SPAN class=notranslate>Cloud Messaging</SPAN> works to maintain the connection over the VPN connection.