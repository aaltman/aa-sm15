<b> : </b><A class=anchor style="BOX-SIZING: border-box; FONT-SIZE: 30px; TEXT-DECORATION: none; WIDTH: 2ex; VERTICAL-ALIGN: baseline; POSITION: absolute; FONT-WEIGHT: 400; COLOR: rgb(234,35,40); OUTLINE-WIDTH: medium; PADDING-BOTTOM: 0px; TEXT-ALIGN: center; PADDING-TOP: 0px; OUTLINE-STYLE: none; PADDING-LEFT: 0px; MARGIN: 0px 0px 0px -1.75ex; OUTLINE-COLOR: invert; PADDING-RIGHT: 0px; VISIBILITY: hidden; transition: 0.2s ease-out; -webkit-text-fill-color: transparent; transform: scale(0.9)" href="https://cassandra.apache.org/doc/stable/cassandra/operating/read_repair.html#read-repair-example"></A>Read Repair Example</H2>
<DIV class=sectionbody style="BOX-SIZING: border-box; FONT-SIZE: 18px; BORDER-TOP: 0px; BORDER-RIGHT: 0px; VERTICAL-ALIGN: baseline; BACKGROUND: none transparent scroll repeat 0% 0%; BORDER-BOTTOM: 0px; OUTLINE-WIDTH: 0px; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; OUTLINE-STYLE: none; PADDING-LEFT: 0px; BORDER-LEFT: 0px; MARGIN: 0px; OUTLINE-COLOR: invert; PADDING-RIGHT: 0px">
<DIV class=paragraph style="BOX-SIZING: border-box; FONT-SIZE: 18px; BORDER-TOP: 0px; BORDER-RIGHT: 0px; VERTICAL-ALIGN: baseline; BACKGROUND: none transparent scroll repeat 0% 0%; MARGIN-TOP: 1px; BORDER-BOTTOM: 0px; OUTLINE-WIDTH: 0px; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; OUTLINE-STYLE: none; PADDING-LEFT: 0px; MARGIN-LEFT: 1px; BORDER-LEFT: 0px; OUTLINE-COLOR: invert; PADDING-RIGHT: 0px; MARGIN-RIGHT: 1px">
<P style="BOX-SIZING: border-box; FONT-SIZE: 18px; BORDER-TOP: 0px; BORDER-RIGHT: 0px; VERTICAL-ALIGN: baseline; BACKGROUND: none transparent scroll repeat 0% 0%; BORDER-BOTTOM: 0px; COLOR: rgb(117,117,117); OUTLINE-WIDTH: 0px; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; OUTLINE-STYLE: none; PADDING-LEFT: 0px; BORDER-LEFT: 0px; MARGIN: 0px; OUTLINE-COLOR: invert; LINE-HEIGHT: 1.6em; PADDING-RIGHT: 0px; hyphens: auto">To illustrate read repair with an example, consider that a client sends a read request with read consistency level<SPAN>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-SIZE: 0.8em; BORDER-TOP: 0px; FONT-FAMILY: courier, monospace; BORDER-RIGHT: 0px; VERTICAL-ALIGN: baseline; BACKGROUND: rgb(238,238,238); WORD-SPACING: -0.12em; BORDER-BOTTOM: 0px; FONT-WEIGHT: 500; COLOR: rgb(199,37,78); OUTLINE-WIDTH: 0px; PADDING-BOTTOM: 5px; PADDING-TOP: 5px; OUTLINE-STYLE: none; PADDING-LEFT: 5px; BORDER-LEFT: 0px; MARGIN: 20px 0px; OUTLINE-COLOR: invert; LINE-HEIGHT: 1.6em; PADDING-RIGHT: 5px; hyphens: none; border-radius: 4px">TWO</CODE><SPAN>&nbsp;</SPAN>to a 5-node cluster as illustrated in Figure 1. Read consistency level determines how many replica nodes must return a response before the read request is considered successful.</P></DIV>
<DIV class=imageblock style="BOX-SIZING: border-box; FONT-SIZE: 18px; BORDER-TOP: 0px; BORDER-RIGHT: 0px; VERTICAL-ALIGN: baseline; BACKGROUND: none transparent scroll repeat 0% 0%; MARGIN-TOP: 1px; BORDER-BOTTOM: 0px; OUTLINE-WIDTH: 0px; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; OUTLINE-STYLE: none; PADDING-LEFT: 0px; MARGIN-LEFT: 1px; BORDER-LEFT: 0px; DISPLAY: flex; OUTLINE-COLOR: invert; PADDING-RIGHT: 0px; MARGIN-RIGHT: 1px; -webkit-box-orient: vertical; -webkit-box-direction: normal; flex-direction: column">
<DIV class=content style="BOX-SIZING: border-box; FONT-SIZE: 18px; BORDER-TOP: 0px; BORDER-RIGHT: 0px; VERTICAL-ALIGN: baseline; BACKGROUND: none transparent scroll repeat 0% 0%; BORDER-BOTTOM: 0px; OUTLINE-WIDTH: 0px; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; OUTLINE-STYLE: none; PADDING-LEFT: 0px; BORDER-LEFT: 0px; MARGIN: 0px; OUTLINE-COLOR: invert; PADDING-RIGHT: 0px"><IMG style="BOX-SIZING: border-box; FONT-SIZE: 18px; MAX-WIDTH: 100%; BORDER-TOP: 0px; HEIGHT: auto; BORDER-RIGHT: 0px; VERTICAL-ALIGN: middle; BACKGROUND: none transparent scroll repeat 0% 0%; BORDER-BOTTOM: 0px; OUTLINE-WIDTH: 0px; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; OUTLINE-STYLE: none; PADDING-LEFT: 0px; BORDER-LEFT: 0px; MARGIN: 0px auto; DISPLAY: block; OUTLINE-COLOR: invert; PADDING-RIGHT: 0px" alt=image src="https://cassandra.apache.org/doc/stable/cassandra/_images/Figure_1_read_repair.jpg"></DIV></DIV>
<DIV class=paragraph style="BOX-SIZING: border-box; FONT-SIZE: 18px; BORDER-TOP: 0px; BORDER-RIGHT: 0px; VERTICAL-ALIGN: baseline; BACKGROUND: none transparent scroll repeat 0% 0%; MARGIN-TOP: 1px; BORDER-BOTTOM: 0px; OUTLINE-WIDTH: 0px; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; OUTLINE-STYLE: none; PADDING-LEFT: 0px; MARGIN-LEFT: 1px; BORDER-LEFT: 0px; OUTLINE-COLOR: invert; PADDING-RIGHT: 0px; MARGIN-RIGHT: 1px">
<P style="BOX-SIZING: border-box; FONT-SIZE: 18px; BORDER-TOP: 0px; BORDER-RIGHT: 0px; VERTICAL-ALIGN: baseline; BACKGROUND: none transparent scroll repeat 0% 0%; BORDER-BOTTOM: 0px; COLOR: rgb(117,117,117); OUTLINE-WIDTH: 0px; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; OUTLINE-STYLE: none; PADDING-LEFT: 0px; BORDER-LEFT: 0px; MARGIN: 0px; OUTLINE-COLOR: invert; LINE-HEIGHT: 1.6em; PADDING-RIGHT: 0px; hyphens: auto">Figure 1. Client sends read request to a 5-node Cluster</P></DIV>
<DIV class=paragraph style="BOX-SIZING: border-box; FONT-SIZE: 18px; BORDER-TOP: 0px; BORDER-RIGHT: 0px; VERTICAL-ALIGN: baseline; BACKGROUND: none transparent scroll repeat 0% 0%; MARGIN-TOP: 1px; BORDER-BOTTOM: 0px; OUTLINE-WIDTH: 0px; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; OUTLINE-STYLE: none; PADDING-LEFT: 0px; MARGIN-LEFT: 1px; BORDER-LEFT: 0px; OUTLINE-COLOR: invert; PADDING-RIGHT: 0px; MARGIN-RIGHT: 1px">
<P style="BOX-SIZING: border-box; FONT-SIZE: 18px; BORDER-TOP: 0px; BORDER-RIGHT: 0px; VERTICAL-ALIGN: baseline; BACKGROUND: none transparent scroll repeat 0% 0%; BORDER-BOTTOM: 0px; COLOR: rgb(117,117,117); OUTLINE-WIDTH: 0px; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; OUTLINE-STYLE: none; PADDING-LEFT: 0px; BORDER-LEFT: 0px; MARGIN: 0px; OUTLINE-COLOR: invert; LINE-HEIGHT: 1.6em; PADDING-RIGHT: 0px; hyphens: auto">Three nodes host replicas for the requested data as illustrated in Figure 2. With a read consistency level of<SPAN>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-SIZE: 0.8em; BORDER-TOP: 0px; FONT-FAMILY: courier, monospace; BORDER-RIGHT: 0px; VERTICAL-ALIGN: baseline; BACKGROUND: rgb(238,238,238); WORD-SPACING: -0.12em; BORDER-BOTTOM: 0px; FONT-WEIGHT: 500; COLOR: rgb(199,37,78); OUTLINE-WIDTH: 0px; PADDING-BOTTOM: 5px; PADDING-TOP: 5px; OUTLINE-STYLE: none; PADDING-LEFT: 5px; BORDER-LEFT: 0px; MARGIN: 20px 0px; OUTLINE-COLOR: invert; LINE-HEIGHT: 1.6em; PADDING-RIGHT: 5px; hyphens: none; border-radius: 4px">TWO</CODE><SPAN>&nbsp;</SPAN>two replica nodes must return a response for the read request to be considered successful. If the node the client sends request to hosts a replica of the data requested only one other replica node needs to be sent a read request to. But if the receiving node does not host a replica for the requested data the node becomes a coordinator node and forwards the read request to a node that hosts a replica. A direct read request is forwarded to the fastest node (as determined by dynamic snitch) as shown in Figure 2. A direct read request is a full read and returns the requested data.</P></DIV>
<DIV class=imageblock style="BOX-SIZING: border-box; FONT-SIZE: 18px; BORDER-TOP: 0px; BORDER-RIGHT: 0px; VERTICAL-ALIGN: baseline; BACKGROUND: none transparent scroll repeat 0% 0%; MARGIN-TOP: 1px; BORDER-BOTTOM: 0px; OUTLINE-WIDTH: 0px; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; OUTLINE-STYLE: none; PADDING-LEFT: 0px; MARGIN-LEFT: 1px; BORDER-LEFT: 0px; DISPLAY: flex; OUTLINE-COLOR: invert; PADDING-RIGHT: 0px; MARGIN-RIGHT: 1px; -webkit-box-orient: vertical; -webkit-box-direction: normal; flex-direction: column">
<DIV class=content style="BOX-SIZING: border-box; FONT-SIZE: 18px; BORDER-TOP: 0px; BORDER-RIGHT: 0px; VERTICAL-ALIGN: baseline; BACKGROUND: none transparent scroll repeat 0% 0%; BORDER-BOTTOM: 0px; OUTLINE-WIDTH: 0px; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; OUTLINE-STYLE: none; PADDING-LEFT: 0px; BORDER-LEFT: 0px; MARGIN: 0px; OUTLINE-COLOR: invert; PADDING-RIGHT: 0px"><IMG style="BOX-SIZING: border-box; FONT-SIZE: 18px; MAX-WIDTH: 100%; BORDER-TOP: 0px; HEIGHT: auto; BORDER-RIGHT: 0px; VERTICAL-ALIGN: middle; BACKGROUND: none transparent scroll repeat 0% 0%; BORDER-BOTTOM: 0px; OUTLINE-WIDTH: 0px; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; OUTLINE-STYLE: none; PADDING-LEFT: 0px; BORDER-LEFT: 0px; MARGIN: 0px auto; DISPLAY: block; OUTLINE-COLOR: invert; PADDING-RIGHT: 0px" alt=image src="https://cassandra.apache.org/doc/stable/cassandra/_images/Figure_2_read_repair.jpg"></DIV></DIV>
<DIV class=paragraph style="BOX-SIZING: border-box; FONT-SIZE: 18px; BORDER-TOP: 0px; BORDER-RIGHT: 0px; VERTICAL-ALIGN: baseline; BACKGROUND: none transparent scroll repeat 0% 0%; MARGIN-TOP: 1px; BORDER-BOTTOM: 0px; OUTLINE-WIDTH: 0px; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; OUTLINE-STYLE: none; PADDING-LEFT: 0px; MARGIN-LEFT: 1px; BORDER-LEFT: 0px; OUTLINE-COLOR: invert; PADDING-RIGHT: 0px; MARGIN-RIGHT: 1px">
<P style="BOX-SIZING: border-box; FONT-SIZE: 18px; BORDER-TOP: 0px; BORDER-RIGHT: 0px; VERTICAL-ALIGN: baseline; BACKGROUND: none transparent scroll repeat 0% 0%; BORDER-BOTTOM: 0px; COLOR: rgb(117,117,117); OUTLINE-WIDTH: 0px; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; OUTLINE-STYLE: none; PADDING-LEFT: 0px; BORDER-LEFT: 0px; MARGIN: 0px; OUTLINE-COLOR: invert; LINE-HEIGHT: 1.6em; PADDING-RIGHT: 0px; hyphens: auto">Figure 2. Direct Read Request sent to Fastest Replica Node</P></DIV>
<DIV class=paragraph style="BOX-SIZING: border-box; FONT-SIZE: 18px; BORDER-TOP: 0px; BORDER-RIGHT: 0px; VERTICAL-ALIGN: baseline; BACKGROUND: none transparent scroll repeat 0% 0%; MARGIN-TOP: 1px; BORDER-BOTTOM: 0px; OUTLINE-WIDTH: 0px; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; OUTLINE-STYLE: none; PADDING-LEFT: 0px; MARGIN-LEFT: 1px; BORDER-LEFT: 0px; OUTLINE-COLOR: invert; PADDING-RIGHT: 0px; MARGIN-RIGHT: 1px">
<P style="BOX-SIZING: border-box; FONT-SIZE: 18px; BORDER-TOP: 0px; BORDER-RIGHT: 0px; VERTICAL-ALIGN: baseline; BACKGROUND: none transparent scroll repeat 0% 0%; BORDER-BOTTOM: 0px; COLOR: rgb(117,117,117); OUTLINE-WIDTH: 0px; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; OUTLINE-STYLE: none; PADDING-LEFT: 0px; BORDER-LEFT: 0px; MARGIN: 0px; OUTLINE-COLOR: invert; LINE-HEIGHT: 1.6em; PADDING-RIGHT: 0px; hyphens: auto">Next, the coordinator node sends the requisite number of additional requests to satisfy the consistency level, which is<SPAN>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-SIZE: 0.8em; BORDER-TOP: 0px; FONT-FAMILY: courier, monospace; BORDER-RIGHT: 0px; VERTICAL-ALIGN: baseline; BACKGROUND: rgb(238,238,238); WORD-SPACING: -0.12em; BORDER-BOTTOM: 0px; FONT-WEIGHT: 500; COLOR: rgb(199,37,78); OUTLINE-WIDTH: 0px; PADDING-BOTTOM: 5px; PADDING-TOP: 5px; OUTLINE-STYLE: none; PADDING-LEFT: 5px; BORDER-LEFT: 0px; MARGIN: 20px 0px; OUTLINE-COLOR: invert; LINE-HEIGHT: 1.6em; PADDING-RIGHT: 5px; hyphens: none; border-radius: 4px">TWO</CODE>. The coordinator node needs to send one more read request for a total of two. All read requests additional to the first direct read request are digest read requests. A digest read request is not a full read and only returns the hash value of the data. Only a hash value is returned to reduce the network data traffic. In the example being discussed the coordinator node sends one digest read request to a node hosting a replica as illustrated in Figure 3.</P></DIV>
<DIV class=imageblock style="BOX-SIZING: border-box; FONT-SIZE: 18px; BORDER-TOP: 0px; BORDER-RIGHT: 0px; VERTICAL-ALIGN: baseline; BACKGROUND: none transparent scroll repeat 0% 0%; MARGIN-TOP: 1px; BORDER-BOTTOM: 0px; OUTLINE-WIDTH: 0px; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; OUTLINE-STYLE: none; PADDING-LEFT: 0px; MARGIN-LEFT: 1px; BORDER-LEFT: 0px; DISPLAY: flex; OUTLINE-COLOR: invert; PADDING-RIGHT: 0px; MARGIN-RIGHT: 1px; -webkit-box-orient: vertical; -webkit-box-direction: normal; flex-direction: column">
<DIV class=content style="BOX-SIZING: border-box; FONT-SIZE: 18px; BORDER-TOP: 0px; BORDER-RIGHT: 0px; VERTICAL-ALIGN: baseline; BACKGROUND: none transparent scroll repeat 0% 0%; BORDER-BOTTOM: 0px; OUTLINE-WIDTH: 0px; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; OUTLINE-STYLE: none; PADDING-LEFT: 0px; BORDER-LEFT: 0px; MARGIN: 0px; OUTLINE-COLOR: invert; PADDING-RIGHT: 0px"><IMG style="BOX-SIZING: border-box; FONT-SIZE: 18px; MAX-WIDTH: 100%; BORDER-TOP: 0px; HEIGHT: auto; BORDER-RIGHT: 0px; VERTICAL-ALIGN: middle; BACKGROUND: none transparent scroll repeat 0% 0%; BORDER-BOTTOM: 0px; OUTLINE-WIDTH: 0px; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; OUTLINE-STYLE: none; PADDING-LEFT: 0px; BORDER-LEFT: 0px; MARGIN: 0px auto; DISPLAY: block; OUTLINE-COLOR: invert; PADDING-RIGHT: 0px" alt=image src="https://cassandra.apache.org/doc/stable/cassandra/_images/Figure_3_read_repair.jpg"></DIV></DIV>
<DIV class=paragraph style="BOX-SIZING: border-box; FONT-SIZE: 18px; BORDER-TOP: 0px; BORDER-RIGHT: 0px; VERTICAL-ALIGN: baseline; BACKGROUND: none transparent scroll repeat 0% 0%; MARGIN-TOP: 1px; BORDER-BOTTOM: 0px; OUTLINE-WIDTH: 0px; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; OUTLINE-STYLE: none; PADDING-LEFT: 0px; MARGIN-LEFT: 1px; BORDER-LEFT: 0px; OUTLINE-COLOR: invert; PADDING-RIGHT: 0px; MARGIN-RIGHT: 1px">
<P style="BOX-SIZING: border-box; FONT-SIZE: 18px; BORDER-TOP: 0px; BORDER-RIGHT: 0px; VERTICAL-ALIGN: baseline; BACKGROUND: none transparent scroll repeat 0% 0%; BORDER-BOTTOM: 0px; COLOR: rgb(117,117,117); OUTLINE-WIDTH: 0px; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; OUTLINE-STYLE: none; PADDING-LEFT: 0px; BORDER-LEFT: 0px; MARGIN: 0px; OUTLINE-COLOR: invert; LINE-HEIGHT: 1.6em; PADDING-RIGHT: 0px; hyphens: auto">Figure 3. Coordinator Sends a Digest Read Request</P></DIV>
<DIV class=paragraph style="BOX-SIZING: border-box; FONT-SIZE: 18px; BORDER-TOP: 0px; BORDER-RIGHT: 0px; VERTICAL-ALIGN: baseline; BACKGROUND: none transparent scroll repeat 0% 0%; MARGIN-TOP: 1px; BORDER-BOTTOM: 0px; OUTLINE-WIDTH: 0px; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; OUTLINE-STYLE: none; PADDING-LEFT: 0px; MARGIN-LEFT: 1px; BORDER-LEFT: 0px; OUTLINE-COLOR: invert; PADDING-RIGHT: 0px; MARGIN-RIGHT: 1px">
<P style="BOX-SIZING: border-box; FONT-SIZE: 18px; BORDER-TOP: 0px; BORDER-RIGHT: 0px; VERTICAL-ALIGN: baseline; BACKGROUND: none transparent scroll repeat 0% 0%; BORDER-BOTTOM: 0px; COLOR: rgb(117,117,117); OUTLINE-WIDTH: 0px; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; OUTLINE-STYLE: none; PADDING-LEFT: 0px; BORDER-LEFT: 0px; MARGIN: 0px; OUTLINE-COLOR: invert; LINE-HEIGHT: 1.6em; PADDING-RIGHT: 0px; hyphens: auto">The coordinator node has received a full copy of data from one node and a hash value for the data from another node. To compare the data returned a hash value is calculated for the full copy of data. The two hash values are compared. If the hash values are the same no read repair is needed and the full copy of requested data is returned to the client. The coordinator node only performed a total of two replica read request because the read consistency level is<SPAN>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-SIZE: 0.8em; BORDER-TOP: 0px; FONT-FAMILY: courier, monospace; BORDER-RIGHT: 0px; VERTICAL-ALIGN: baseline; BACKGROUND: rgb(238,238,238); WORD-SPACING: -0.12em; BORDER-BOTTOM: 0px; FONT-WEIGHT: 500; COLOR: rgb(199,37,78); OUTLINE-WIDTH: 0px; PADDING-BOTTOM: 5px; PADDING-TOP: 5px; OUTLINE-STYLE: none; PADDING-LEFT: 5px; BORDER-LEFT: 0px; MARGIN: 20px 0px; OUTLINE-COLOR: invert; LINE-HEIGHT: 1.6em; PADDING-RIGHT: 5px; hyphens: none; border-radius: 4px">TWO</CODE><SPAN>&nbsp;</SPAN>in the example. If the consistency level were higher such as<SPAN>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-SIZE: 0.8em; BORDER-TOP: 0px; FONT-FAMILY: courier, monospace; BORDER-RIGHT: 0px; VERTICAL-ALIGN: baseline; BACKGROUND: rgb(238,238,238); WORD-SPACING: -0.12em; BORDER-BOTTOM: 0px; FONT-WEIGHT: 500; COLOR: rgb(199,37,78); OUTLINE-WIDTH: 0px; PADDING-BOTTOM: 5px; PADDING-TOP: 5px; OUTLINE-STYLE: none; PADDING-LEFT: 5px; BORDER-LEFT: 0px; MARGIN: 20px 0px; OUTLINE-COLOR: invert; LINE-HEIGHT: 1.6em; PADDING-RIGHT: 5px; hyphens: none; border-radius: 4px">THREE</CODE>, three replica nodes would need to respond to a read request and only if all digest or hash values were to match with the hash value of the full copy of data would the read request be considered successful and the data returned to the client.</P></DIV>
<DIV class=paragraph style="BOX-SIZING: border-box; FONT-SIZE: 18px; BORDER-TOP: 0px; BORDER-RIGHT: 0px; VERTICAL-ALIGN: baseline; BACKGROUND: none transparent scroll repeat 0% 0%; MARGIN-TOP: 1px; BORDER-BOTTOM: 0px; OUTLINE-WIDTH: 0px; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; OUTLINE-STYLE: none; PADDING-LEFT: 0px; MARGIN-LEFT: 1px; BORDER-LEFT: 0px; OUTLINE-COLOR: invert; PADDING-RIGHT: 0px; MARGIN-RIGHT: 1px">
<P style="BOX-SIZING: border-box; FONT-SIZE: 18px; BORDER-TOP: 0px; BORDER-RIGHT: 0px; VERTICAL-ALIGN: baseline; BACKGROUND: none transparent scroll repeat 0% 0%; BORDER-BOTTOM: 0px; COLOR: rgb(117,117,117); OUTLINE-WIDTH: 0px; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; OUTLINE-STYLE: none; PADDING-LEFT: 0px; BORDER-LEFT: 0px; MARGIN: 0px; OUTLINE-COLOR: invert; LINE-HEIGHT: 1.6em; PADDING-RIGHT: 0px; hyphens: auto">But, if the hash value/s from the digest read request/s are not the same as the hash value of the data from the full read request of the first replica node it implies that an inconsistency in the replicas exists. To fix the inconsistency a read repair is performed.</P></DIV>
<DIV class=paragraph style="BOX-SIZING: border-box; FONT-SIZE: 18px; BORDER-TOP: 0px; BORDER-RIGHT: 0px; VERTICAL-ALIGN: baseline; BACKGROUND: none transparent scroll repeat 0% 0%; MARGIN-TOP: 1px; BORDER-BOTTOM: 0px; OUTLINE-WIDTH: 0px; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; OUTLINE-STYLE: none; PADDING-LEFT: 0px; MARGIN-LEFT: 1px; BORDER-LEFT: 0px; OUTLINE-COLOR: invert; PADDING-RIGHT: 0px; MARGIN-RIGHT: 1px">
<P style="BOX-SIZING: border-box; FONT-SIZE: 18px; BORDER-TOP: 0px; BORDER-RIGHT: 0px; VERTICAL-ALIGN: baseline; BACKGROUND: none transparent scroll repeat 0% 0%; BORDER-BOTTOM: 0px; COLOR: rgb(117,117,117); OUTLINE-WIDTH: 0px; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; OUTLINE-STYLE: none; PADDING-LEFT: 0px; BORDER-LEFT: 0px; MARGIN: 0px; OUTLINE-COLOR: invert; LINE-HEIGHT: 1.6em; PADDING-RIGHT: 0px; hyphens: auto">For example, consider that that digest request returns a hash value that is not the same as the hash value of the data from the direct full read request. We would need to make the replicas consistent for which the coordinator node sends a direct (full) read request to the replica node that it sent a digest read request to earlier as illustrated in Figure 4.</P></DIV>
<DIV class=imageblock style="BOX-SIZING: border-box; FONT-SIZE: 18px; BORDER-TOP: 0px; BORDER-RIGHT: 0px; VERTICAL-ALIGN: baseline; BACKGROUND: none transparent scroll repeat 0% 0%; MARGIN-TOP: 1px; BORDER-BOTTOM: 0px; OUTLINE-WIDTH: 0px; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; OUTLINE-STYLE: none; PADDING-LEFT: 0px; MARGIN-LEFT: 1px; BORDER-LEFT: 0px; DISPLAY: flex; OUTLINE-COLOR: invert; PADDING-RIGHT: 0px; MARGIN-RIGHT: 1px; -webkit-box-orient: vertical; -webkit-box-direction: normal; flex-direction: column">
<DIV class=content style="BOX-SIZING: border-box; FONT-SIZE: 18px; BORDER-TOP: 0px; BORDER-RIGHT: 0px; VERTICAL-ALIGN: baseline; BACKGROUND: none transparent scroll repeat 0% 0%; BORDER-BOTTOM: 0px; OUTLINE-WIDTH: 0px; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; OUTLINE-STYLE: none; PADDING-LEFT: 0px; BORDER-LEFT: 0px; MARGIN: 0px; OUTLINE-COLOR: invert; PADDING-RIGHT: 0px"><IMG style="BOX-SIZING: border-box; FONT-SIZE: 18px; MAX-WIDTH: 100%; BORDER-TOP: 0px; HEIGHT: auto; BORDER-RIGHT: 0px; VERTICAL-ALIGN: middle; BACKGROUND: none transparent scroll repeat 0% 0%; BORDER-BOTTOM: 0px; OUTLINE-WIDTH: 0px; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; OUTLINE-STYLE: none; PADDING-LEFT: 0px; BORDER-LEFT: 0px; MARGIN: 0px auto; DISPLAY: block; OUTLINE-COLOR: invert; PADDING-RIGHT: 0px" alt=image src="https://cassandra.apache.org/doc/stable/cassandra/_images/Figure_4_read_repair.jpg"></DIV></DIV>
<DIV class=paragraph style="BOX-SIZING: border-box; FONT-SIZE: 18px; BORDER-TOP: 0px; BORDER-RIGHT: 0px; VERTICAL-ALIGN: baseline; BACKGROUND: none transparent scroll repeat 0% 0%; MARGIN-TOP: 1px; BORDER-BOTTOM: 0px; OUTLINE-WIDTH: 0px; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; OUTLINE-STYLE: none; PADDING-LEFT: 0px; MARGIN-LEFT: 1px; BORDER-LEFT: 0px; OUTLINE-COLOR: invert; PADDING-RIGHT: 0px; MARGIN-RIGHT: 1px">
<P style="BOX-SIZING: border-box; FONT-SIZE: 18px; BORDER-TOP: 0px; BORDER-RIGHT: 0px; VERTICAL-ALIGN: baseline; BACKGROUND: none transparent scroll repeat 0% 0%; BORDER-BOTTOM: 0px; COLOR: rgb(117,117,117); OUTLINE-WIDTH: 0px; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; OUTLINE-STYLE: none; PADDING-LEFT: 0px; BORDER-LEFT: 0px; MARGIN: 0px; OUTLINE-COLOR: invert; LINE-HEIGHT: 1.6em; PADDING-RIGHT: 0px; hyphens: auto">Figure 4. Coordinator sends Direct Read Request to Replica Node it had sent Digest Read Request to</P></DIV>
<DIV class=paragraph style="BOX-SIZING: border-box; FONT-SIZE: 18px; BORDER-TOP: 0px; BORDER-RIGHT: 0px; VERTICAL-ALIGN: baseline; BACKGROUND: none transparent scroll repeat 0% 0%; MARGIN-TOP: 1px; BORDER-BOTTOM: 0px; OUTLINE-WIDTH: 0px; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; OUTLINE-STYLE: none; PADDING-LEFT: 0px; MARGIN-LEFT: 1px; BORDER-LEFT: 0px; OUTLINE-COLOR: invert; PADDING-RIGHT: 0px; MARGIN-RIGHT: 1px">
<P style="BOX-SIZING: border-box; FONT-SIZE: 18px; BORDER-TOP: 0px; BORDER-RIGHT: 0px; VERTICAL-ALIGN: baseline; BACKGROUND: none transparent scroll repeat 0% 0%; BORDER-BOTTOM: 0px; COLOR: rgb(117,117,117); OUTLINE-WIDTH: 0px; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; OUTLINE-STYLE: none; PADDING-LEFT: 0px; BORDER-LEFT: 0px; MARGIN: 0px; OUTLINE-COLOR: invert; LINE-HEIGHT: 1.6em; PADDING-RIGHT: 0px; hyphens: auto">After receiving the data from the second replica node the coordinator has data from two of the replica nodes. It only needs two replicas as the read consistency level is<SPAN>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-SIZE: 0.8em; BORDER-TOP: 0px; FONT-FAMILY: courier, monospace; BORDER-RIGHT: 0px; VERTICAL-ALIGN: baseline; BACKGROUND: rgb(238,238,238); WORD-SPACING: -0.12em; BORDER-BOTTOM: 0px; FONT-WEIGHT: 500; COLOR: rgb(199,37,78); OUTLINE-WIDTH: 0px; PADDING-BOTTOM: 5px; PADDING-TOP: 5px; OUTLINE-STYLE: none; PADDING-LEFT: 5px; BORDER-LEFT: 0px; MARGIN: 20px 0px; OUTLINE-COLOR: invert; LINE-HEIGHT: 1.6em; PADDING-RIGHT: 5px; hyphens: none; border-radius: 4px">TWO</CODE><SPAN>&nbsp;</SPAN>in the example. Data from the two replicas is compared and based on the timestamps the most recent replica is selected. Data may need to be merged to construct an up-to-date copy of data if one replica has data for only some of the columns. In the example, if the data from the first direct read request is found to be outdated and the data from the second full read request to be the latest read, repair needs to be performed on Replica 2. If a new up-to-date data is constructed by merging the two replicas a read repair would be needed on both the replicas involved. For example, a read repair is performed on Replica 2 as illustrated in Figure 5.</P></DIV>
<DIV class=imageblock style="BOX-SIZING: border-box; FONT-SIZE: 18px; BORDER-TOP: 0px; BORDER-RIGHT: 0px; VERTICAL-ALIGN: baseline; BACKGROUND: none transparent scroll repeat 0% 0%; MARGIN-TOP: 1px; BORDER-BOTTOM: 0px; OUTLINE-WIDTH: 0px; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; OUTLINE-STYLE: none; PADDING-LEFT: 0px; MARGIN-LEFT: 1px; BORDER-LEFT: 0px; DISPLAY: flex; OUTLINE-COLOR: invert; PADDING-RIGHT: 0px; MARGIN-RIGHT: 1px; -webkit-box-orient: vertical; -webkit-box-direction: normal; flex-direction: column">
<DIV class=content style="BOX-SIZING: border-box; FONT-SIZE: 18px; BORDER-TOP: 0px; BORDER-RIGHT: 0px; VERTICAL-ALIGN: baseline; BACKGROUND: none transparent scroll repeat 0% 0%; BORDER-BOTTOM: 0px; OUTLINE-WIDTH: 0px; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; OUTLINE-STYLE: none; PADDING-LEFT: 0px; BORDER-LEFT: 0px; MARGIN: 0px; OUTLINE-COLOR: invert; PADDING-RIGHT: 0px"><IMG style="BOX-SIZING: border-box; FONT-SIZE: 18px; MAX-WIDTH: 100%; BORDER-TOP: 0px; HEIGHT: auto; BORDER-RIGHT: 0px; VERTICAL-ALIGN: middle; BACKGROUND: none transparent scroll repeat 0% 0%; BORDER-BOTTOM: 0px; OUTLINE-WIDTH: 0px; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; OUTLINE-STYLE: none; PADDING-LEFT: 0px; BORDER-LEFT: 0px; MARGIN: 0px auto; DISPLAY: block; OUTLINE-COLOR: invert; PADDING-RIGHT: 0px" alt=image src="https://cassandra.apache.org/doc/stable/cassandra/_images/Figure_5_read_repair.jpg"></DIV></DIV>
<DIV class=paragraph style="BOX-SIZING: border-box; FONT-SIZE: 18px; BORDER-TOP: 0px; BORDER-RIGHT: 0px; VERTICAL-ALIGN: baseline; BACKGROUND: none transparent scroll repeat 0% 0%; MARGIN-TOP: 1px; BORDER-BOTTOM: 0px; OUTLINE-WIDTH: 0px; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; OUTLINE-STYLE: none; PADDING-LEFT: 0px; MARGIN-LEFT: 1px; BORDER-LEFT: 0px; OUTLINE-COLOR: invert; PADDING-RIGHT: 0px; MARGIN-RIGHT: 1px">
<P style="BOX-SIZING: border-box; FONT-SIZE: 18px; BORDER-TOP: 0px; BORDER-RIGHT: 0px; VERTICAL-ALIGN: baseline; BACKGROUND: none transparent scroll repeat 0% 0%; BORDER-BOTTOM: 0px; COLOR: rgb(117,117,117); OUTLINE-WIDTH: 0px; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; OUTLINE-STYLE: none; PADDING-LEFT: 0px; BORDER-LEFT: 0px; MARGIN: 0px; OUTLINE-COLOR: invert; LINE-HEIGHT: 1.6em; PADDING-RIGHT: 0px; hyphens: auto">Figure 5. Coordinator performs Read Repair</P></DIV>
<DIV class=paragraph style="BOX-SIZING: border-box; FONT-SIZE: 18px; BORDER-TOP: 0px; BORDER-RIGHT: 0px; VERTICAL-ALIGN: baseline; BACKGROUND: none transparent scroll repeat 0% 0%; MARGIN-TOP: 1px; BORDER-BOTTOM: 0px; OUTLINE-WIDTH: 0px; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; OUTLINE-STYLE: none; PADDING-LEFT: 0px; MARGIN-LEFT: 1px; BORDER-LEFT: 0px; OUTLINE-COLOR: invert; PADDING-RIGHT: 0px; MARGIN-RIGHT: 1px">
<P style="BOX-SIZING: border-box; FONT-SIZE: 18px; BORDER-TOP: 0px; BORDER-RIGHT: 0px; VERTICAL-ALIGN: baseline; BACKGROUND: none transparent scroll repeat 0% 0%; BORDER-BOTTOM: 0px; COLOR: rgb(117,117,117); OUTLINE-WIDTH: 0px; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; OUTLINE-STYLE: none; PADDING-LEFT: 0px; BORDER-LEFT: 0px; MARGIN: 0px; OUTLINE-COLOR: invert; LINE-HEIGHT: 1.6em; PADDING-RIGHT: 0px; hyphens: auto">The most up-to-date data is returned to the client as illustrated in Figure 6. From the three replicas Replica 1 is not even read and thus not repaired. Replica 2 is repaired. Replica 3 is the most up-to-date and returned to client.</P></DIV>
<DIV class=imageblock style="BOX-SIZING: border-box; FONT-SIZE: 18px; BORDER-TOP: 0px; BORDER-RIGHT: 0px; VERTICAL-ALIGN: baseline; BACKGROUND: none transparent scroll repeat 0% 0%; MARGIN-TOP: 1px; BORDER-BOTTOM: 0px; OUTLINE-WIDTH: 0px; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; OUTLINE-STYLE: none; PADDING-LEFT: 0px; MARGIN-LEFT: 1px; BORDER-LEFT: 0px; DISPLAY: flex; OUTLINE-COLOR: invert; PADDING-RIGHT: 0px; MARGIN-RIGHT: 1px; -webkit-box-orient: vertical; -webkit-box-direction: normal; flex-direction: column">
<DIV class=content style="BOX-SIZING: border-box; FONT-SIZE: 18px; BORDER-TOP: 0px; BORDER-RIGHT: 0px; VERTICAL-ALIGN: baseline; BACKGROUND: none transparent scroll repeat 0% 0%; BORDER-BOTTOM: 0px; OUTLINE-WIDTH: 0px; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; OUTLINE-STYLE: none; PADDING-LEFT: 0px; BORDER-LEFT: 0px; MARGIN: 0px; OUTLINE-COLOR: invert; PADDING-RIGHT: 0px"><IMG style="BOX-SIZING: border-box; FONT-SIZE: 18px; MAX-WIDTH: 100%; BORDER-TOP: 0px; HEIGHT: auto; BORDER-RIGHT: 0px; VERTICAL-ALIGN: middle; BACKGROUND: none transparent scroll repeat 0% 0%; BORDER-BOTTOM: 0px; OUTLINE-WIDTH: 0px; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; OUTLINE-STYLE: none; PADDING-LEFT: 0px; BORDER-LEFT: 0px; MARGIN: 0px auto; DISPLAY: block; OUTLINE-COLOR: invert; PADDING-RIGHT: 0px" alt=image src="https://cassandra.apache.org/doc/stable/cassandra/_images/Figure_6_read_repair.jpg"></DIV></DIV>
<DIV class=paragraph style="BOX-SIZING: border-box; FONT-SIZE: 18px; BORDER-TOP: 0px; BORDER-RIGHT: 0px; VERTICAL-ALIGN: baseline; BACKGROUND: none transparent scroll repeat 0% 0%; MARGIN-TOP: 1px; BORDER-BOTTOM: 0px; OUTLINE-WIDTH: 0px; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; OUTLINE-STYLE: none; PADDING-LEFT: 0px; MARGIN-LEFT: 1px; BORDER-LEFT: 0px; OUTLINE-COLOR: invert; PADDING-RIGHT: 0px; MARGIN-RIGHT: 1px">
<P style="BOX-SIZING: border-box; FONT-SIZE: 18px; BORDER-TOP: 0px; BORDER-RIGHT: 0px; VERTICAL-ALIGN: baseline; BACKGROUND: none transparent scroll repeat 0% 0%; BORDER-BOTTOM: 0px; COLOR: rgb(117,117,117); OUTLINE-WIDTH: 0px; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; OUTLINE-STYLE: none; PADDING-LEFT: 0px; BORDER-LEFT: 0px; MARGIN: 0px; OUTLINE-COLOR: invert; LINE-HEIGHT: 1.6em; PADDING-RIGHT: 0px; hyphens: auto">Figure 6. Most up-to-date Data returned to Client</P></DIV></DIV></DIV>
<DIV class=sect1 style='BOX-SIZING: border-box; FONT-SIZE: 18px; BORDER-TOP: 0px; FONT-FAMILY: "Open Sans", sans-serif; BORDER-RIGHT: 0px; VERTICAL-ALIGN: baseline; BACKGROUND: rgb(255,255,255); WHITE-SPACE: normal; WORD-SPACING: 0px; BORDER-BOTTOM: 0px; TEXT-TRANSFORM: none; FONT-WEIGHT: 400; COLOR: rgb(117,117,117); OUTLINE-WIDTH: 0px; PADDING-BOTTOM: 0px; FONT-STYLE: normal; PADDING-TOP: 0px; OUTLINE-STYLE: none; PADDING-LEFT: 0px; BORDER-LEFT: 0px; ORPHANS: 2; WIDOWS: 2; MARGIN: 0px; LETTER-SPACING: normal; OUTLINE-COLOR: invert; PADDING-RIGHT: 0px; TEXT-INDENT: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial'>