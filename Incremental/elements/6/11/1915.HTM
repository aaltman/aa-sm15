<b> : </b>Storage</H2>
<P style="MARGIN: 0px 0px 20px">Tasks can use the local disk on machines as a scratch pad, but we have several cluster storage options for permanent storage (and even scratch space will eventually move to the cluster storage model). These are comparable to Lustre and the Hadoop Distributed File System (HDFS), which are both open source cluster filesystems.</P>
<P style="MARGIN: 0px 0px 20px">The storage layer is responsible for offering users easy and reliable access to the storage available for a cluster. As shown in<SPAN>&nbsp;</SPAN><A style="TEXT-DECORATION: none; COLOR: rgb(67,136,255)" href="https://sre.google/sre-book/production-environment/#fig_production-environment_storage-stack" data-type="xref">Figure 2-3</A>, storage has many layers:</P>
<OL style="PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN: 10px 10px 10px 30px; PADDING-RIGHT: 0px">
<LI>The lowest layer is called<SPAN>&nbsp;</SPAN><EM style="FONT-WEIGHT: bold; FONT-STYLE: normal">D</EM><SPAN>&nbsp;</SPAN>(for<SPAN>&nbsp;</SPAN><EM style="FONT-WEIGHT: bold; FONT-STYLE: normal">disk</EM>, although D uses both spinning disks and flash storage). D is a fileserver running on almost all machines in a cluster. However, users who want to access their data don&#8217;t want to have to remember which machine is storing their data, which is where the next layer comes into play.</LI>
<LI>A layer on top of D called<SPAN>&nbsp;</SPAN><EM style="FONT-WEIGHT: bold; FONT-STYLE: normal">Colossus</EM><SPAN>&nbsp;</SPAN>creates a cluster-wide filesystem that offers usual filesystem semantics, as well as replication and encryption. Colossus is the successor to GFS, the Google File System<SPAN>&nbsp;</SPAN><A style="TEXT-DECORATION: none; COLOR: rgb(67,136,255)" href="https://sre.google/sre-book/bibliography#Ghe03" data-type="xref">[Ghe03]</A>.</LI>
<LI>
<P style="MARGIN: 0px">There are several database-like services built on top of Colossus:</P>
<OL style="PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN: 0px 10px 0px 30px; PADDING-RIGHT: 0px">
<LI>Bigtable<SPAN>&nbsp;</SPAN><A style="TEXT-DECORATION: none; COLOR: rgb(67,136,255)" href="https://sre.google/sre-book/bibliography#Cha06" data-type="xref">[Cha06]</A><SPAN>&nbsp;</SPAN>is a NoSQL database system that can handle databases that are petabytes in size. A Bigtable is a sparse, distributed, persistent multidimensional sorted map that is indexed by row key, column key, and timestamp; each value in the map is an uninterpreted array of bytes. Bigtable supports eventually consistent, cross-datacenter replication.</LI>
<LI>Spanner<SPAN>&nbsp;</SPAN><A style="TEXT-DECORATION: none; COLOR: rgb(67,136,255)" href="https://sre.google/sre-book/bibliography#Cor12" data-type="xref">[Cor12]</A><SPAN>&nbsp;</SPAN>offers an SQL-like interface for users that require real consistency across the world.</LI>
<LI>Several other database systems, such as<SPAN>&nbsp;</SPAN><EM style="FONT-WEIGHT: bold; FONT-STYLE: normal">Blobstore</EM>, are available. Each of these options comes with its own set of trade-offs (see<SPAN>&nbsp;</SPAN><A style="TEXT-DECORATION: none; COLOR: rgb(67,136,255)" href="https://sre.google/sre-book/data-integrity/" data-type="xref">Data Integrity: What You Read Is What You Wrote</A>).</LI></OL></LI></OL><FIGURE id=fig_production-environment_storage-stack class="horizontal vertical jumptarget" style="FONT-WEIGHT: 700; OUTLINE-WIDTH: 0px; TEXT-ALIGN: center; PADDING-TOP: 50px; OUTLINE-STYLE: none; MARGIN: 20px auto; OUTLINE-COLOR: invert"><IMG style="MARGIN-BOTTOM: 20px; MAX-WIDTH: 820px; BORDER-TOP: 0px; BORDER-RIGHT: 0px; BORDER-BOTTOM: 0px; BORDER-LEFT: 0px; MAX-HEIGHT: 440px" alt="Portions of the Google storage stack." src="https://lh3.googleusercontent.com/vRFHzV6MGcmYL3af2KVAHkj4ODl5EcNAAlKV28S0cpf1dBvQii8SV_dguh9-8SqJFbFFhvI_wqlld1NsK2U5N3CYR6s8FRhRE8c=s901"><FIGCAPTION><SPAN class=label>Figure 2-3.<SPAN>&nbsp;</SPAN></SPAN>Portions of the Google storage stack</FIGCAPTION></FIGURE></SECTION><SECTION id=networking-2ksZhrT8 data-type="sect2">