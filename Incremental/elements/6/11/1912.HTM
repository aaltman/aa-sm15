<b> : </b>Hardware</H1>
<P style="MARGIN: 0px 0px 20px">Most of Google&#8217;s compute resources are in Google-designed datacenters with proprietary power distribution, cooling, networking, and compute hardware (see<SPAN>&nbsp;</SPAN><A style="TEXT-DECORATION: none; COLOR: rgb(67,136,255)" href="https://sre.google/sre-book/bibliography#Bar13" data-type="xref">[Bar13]</A>). Unlike "standard" colocation datacenters, the compute hardware in a Google-designed datacenter is the same across the board.<SUP style="FONT-SIZE: 11px; TEXT-DECORATION: none; COLOR: rgb(67,136,255); LINE-HEIGHT: 0"><A id=id-N1KFQTnFxhW-marker class=jumptarget style="TEXT-DECORATION: none; COLOR: rgb(67,136,255); OUTLINE-WIDTH: 0px; OUTLINE-STYLE: none; OUTLINE-COLOR: invert" href="https://sre.google/sre-book/production-environment/#id-N1KFQTnFxhW" data-type="noteref">9</A></SUP><SPAN>&nbsp;</SPAN>To eliminate the confusion between server hardware and server software, we use the following terminology throughout the book:</P>
<DL class=desc-list style="MARGIN-BOTTOM: 50px">
<DT id=machine class="subheaders jumptargets" style="FONT-SIZE: 32px; MARGIN-BOTTOM: 20px; FONT-FAMILY: Roboto; FONT-WEIGHT: 400; COLOR: rgb(66,66,66); LINE-HEIGHT: 44px">Machine</DT>
<DD style="MARGIN-BOTTOM: 20px">A piece of hardware (or perhaps a VM)</DD>
<DT id=server class="subheaders jumptargets" style="FONT-SIZE: 32px; MARGIN-BOTTOM: 20px; FONT-FAMILY: Roboto; FONT-WEIGHT: 400; COLOR: rgb(66,66,66); LINE-HEIGHT: 44px">Server</DT>
<DD style="MARGIN-BOTTOM: 20px">A piece of software that implements a service</DD></DL>
<P style="MARGIN: 0px 0px 20px">Machines can run any server, so we don&#8217;t dedicate specific machines to specific server programs. There&#8217;s no specific machine that runs our mail server, for example. Instead, resource allocation is handled by our cluster operating system,<SPAN>&nbsp;</SPAN><EM style="FONT-WEIGHT: bold; FONT-STYLE: normal">Borg</EM>.</P>
<P style="MARGIN: 0px 0px 20px">We realize this use of the word<SPAN>&nbsp;</SPAN><EM style="FONT-WEIGHT: bold; FONT-STYLE: normal">server</EM><SPAN>&nbsp;</SPAN>is unusual. The common use of the word conflates &#8220;binary that accepts network connection&#8221; with<SPAN>&nbsp;</SPAN><EM style="FONT-WEIGHT: bold; FONT-STYLE: normal">machine</EM>, but differentiating between the two is important when talking about computing at Google. Once you get used to our usage of<SPAN>&nbsp;</SPAN><EM style="FONT-WEIGHT: bold; FONT-STYLE: normal">server</EM>, it becomes more apparent why it makes sense to use this specialized terminology, not just within Google but also in the rest of this book.</P>
<P style="MARGIN: 0px 0px 20px"><A style="TEXT-DECORATION: none; COLOR: rgb(67,136,255)" href="https://sre.google/sre-book/production-environment/#fig_production-environment_topology" data-type="xref">Figure 2-1</A><SPAN>&nbsp;</SPAN>illustrates the topology of a Google datacenter:</P>
<UL style="PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN: 0px 0px 0px 55px; PADDING-RIGHT: 0px">
<LI style="PADDING-BOTTOM: 25px">Tens of machines are placed in a<SPAN>&nbsp;</SPAN><EM style="FONT-WEIGHT: bold; FONT-STYLE: normal">rack</EM>.</LI>
<LI style="PADDING-BOTTOM: 25px">Racks stand in a<SPAN>&nbsp;</SPAN><EM style="FONT-WEIGHT: bold; FONT-STYLE: normal">row</EM>.</LI>
<LI style="PADDING-BOTTOM: 25px">One or more rows form a<SPAN>&nbsp;</SPAN><EM style="FONT-WEIGHT: bold; FONT-STYLE: normal">cluster</EM>.</LI>
<LI style="PADDING-BOTTOM: 25px">Usually a<SPAN>&nbsp;</SPAN><EM style="FONT-WEIGHT: bold; FONT-STYLE: normal">datacenter</EM><SPAN>&nbsp;</SPAN>building houses multiple clusters.</LI>
<LI style="PADDING-BOTTOM: 25px">Multiple datacenter buildings that are located close together form a<SPAN>&nbsp;</SPAN><EM style="FONT-WEIGHT: bold; FONT-STYLE: normal">campus</EM>.</LI></UL><FIGURE id=fig_production-environment_topology class="horizontal vertical jumptarget" style="FONT-WEIGHT: 700; OUTLINE-WIDTH: 0px; TEXT-ALIGN: center; PADDING-TOP: 50px; OUTLINE-STYLE: none; MARGIN: 20px auto; OUTLINE-COLOR: invert"><IMG style="MARGIN-BOTTOM: 20px; MAX-WIDTH: 820px; BORDER-TOP: 0px; BORDER-RIGHT: 0px; BORDER-BOTTOM: 0px; BORDER-LEFT: 0px; MAX-HEIGHT: 440px" alt="Example Google datacenter campus topology." src="https://lh3.googleusercontent.com/reety2gbKIv2DsOTZ_xlGO4NwoGNVMRJUchhm6Ov1PiOODJc5svag80YGi1W_-iIXpKjtR_5dU9PsvSoUnRCRMXeJzvbslEjwr6FUQ=s900"><FIGCAPTION><SPAN class=label>Figure 2-1.<SPAN>&nbsp;</SPAN></SPAN>Example Google datacenter campus topology</FIGCAPTION></FIGURE>
<P style="MARGIN: 0px 0px 20px">Machines within a given datacenter need to be able to talk with each other, so we created a very fast virtual switch with tens of thousands of ports. We accomplished this by connecting hundreds of Google-built switches in a Clos network fabric<SPAN>&nbsp;</SPAN><A style="TEXT-DECORATION: none; COLOR: rgb(67,136,255)" href="https://sre.google/sre-book/bibliography#Clos53" data-type="xref">[Clos53]</A><SPAN>&nbsp;</SPAN>named<SPAN>&nbsp;</SPAN><EM style="FONT-WEIGHT: bold; FONT-STYLE: normal">Jupiter</EM><SPAN>&nbsp;</SPAN><A style="TEXT-DECORATION: none; COLOR: rgb(67,136,255)" href="https://sre.google/sre-book/bibliography#Sin15" data-type="xref">[Sin15]</A>. In its largest configuration, Jupiter supports 1.3 Pbps bisection bandwidth among servers.</P>
<P style="MARGIN: 0px 0px 20px">Datacenters are connected to each other with our globe-spanning backbone network<SPAN>&nbsp;</SPAN><EM style="FONT-WEIGHT: bold; FONT-STYLE: normal">B4</EM><SPAN>&nbsp;</SPAN><A style="TEXT-DECORATION: none; COLOR: rgb(67,136,255)" href="https://sre.google/sre-book/bibliography#Jai13" data-type="xref">[Jai13]</A>. B4 is a software-defined networking architecture (and uses the OpenFlow open-standard communications protocol). It supplies massive bandwidth to a modest number of sites, and uses elastic bandwidth allocation to maximize average bandwidth<SPAN>&nbsp;</SPAN><A style="TEXT-DECORATION: none; COLOR: rgb(67,136,255)" href="https://sre.google/sre-book/bibliography#Kum15" data-type="xref">[Kum15]</A>.</P></SECTION><SECTION id=system-software-that-organizes-the-hardware-PasaTg style="FONT-SIZE: 18px; FONT-FAMILY: Roboto; WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; FONT-WEIGHT: 400; COLOR: rgb(81,81,84); FONT-STYLE: normal; ORPHANS: 2; WIDOWS: 2; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial" data-type="sect1">