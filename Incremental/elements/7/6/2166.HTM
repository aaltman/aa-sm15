<b> : </b>Disks<A tabIndex=-1 aria-hidden=true style="BOX-SIZING: border-box; TEXT-DECORATION: none; COLOR: rgb(37,123,215); BACKGROUND-COLOR: transparent" href="https://developer.confluent.io/learn/kafka-performance/#disks" data-original-href="#disks"><SPAN class=header-link style="BOX-SIZING: border-box; FONT-SIZE: 14px; MARGIN-LEFT: 5px; opacity: 0"></SPAN></A></H3>
<P style="BOX-SIZING: border-box; FONT-SIZE: 16px; FONT-FAMILY: Inter-Regular, Arial, sans-serif; WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; FONT-WEIGHT: 400; COLOR: rgb(21,32,43); FONT-STYLE: normal; ORPHANS: 2; WIDOWS: 2; MARGIN: 15px 0px; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial">The<SPAN>&nbsp;</SPAN><A style="BOX-SIZING: border-box; TEXT-DECORATION: none; COLOR: rgb(37,123,215); BACKGROUND-COLOR: transparent" href="https://aws.amazon.com/ec2/instance-types/i3en/" rel="nofollow noopener noreferrer" target=_blank data-original-href="https://aws.amazon.com/ec2/instance-types/i3en/">i3en.2xlarge</A><SPAN>&nbsp;</SPAN>instance type (with 8 vCores, 64 GB RAM, 2 x 2,500 GB NVMe SSDs) was selected for its high 25 Gbps network transfer limit that ensures that the test setup is not network bound. This means that the tests measure the respective maximum server performance measures, not simply how fast the network is.<SPAN>&nbsp;</SPAN><SPAN class=language-text style='BOX-SIZING: border-box; FONT-SIZE: 14px; FONT-FAMILY: Menlo, Monaco, Consolas, "Courier New", monospace; FONT-WEIGHT: 400; COLOR: rgb(216,54,93); PADDING-BOTTOM: 0.1em; PADDING-TOP: 0.1em; PADDING-LEFT: 0.1em; LINE-HEIGHT: 26px; PADDING-RIGHT: 0.1em; border-radius: 4px'>i3en.2xlarge</SPAN><SPAN>&nbsp;</SPAN>instances support up to ~655 MB/s of write throughput across two disks, which is plenty to stress the servers. See the full<SPAN>&nbsp;</SPAN><A style="BOX-SIZING: border-box; TEXT-DECORATION: none; COLOR: rgb(37,123,215); BACKGROUND-COLOR: transparent" href="https://aws.amazon.com/ec2/instance-types/i3en/" rel="nofollow noopener noreferrer" target=_blank data-original-href="https://aws.amazon.com/ec2/instance-types/i3en/">instance type definition</A><SPAN>&nbsp;</SPAN>for details.</P>
<DIV style="BOX-SIZING: border-box; FONT-SIZE: 16px; FONT-FAMILY: Inter-Regular, Arial, sans-serif; WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; FONT-WEIGHT: 400; COLOR: rgb(21,32,43); FONT-STYLE: normal; ORPHANS: 2; WIDOWS: 2; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial"><IMG style="BORDER-TOP-STYLE: none; BOX-SIZING: border-box; CURSOR: zoom-in; MAX-WIDTH: 100%; BORDER-LEFT-STYLE: none; HEIGHT: auto; MIN-WIDTH: 300px; BORDER-BOTTOM-STYLE: none; POSITION: relative; BORDER-RIGHT-STYLE: none; LEFT: 0px; MARGIN: auto; DISPLAY: block; transform: translateX(-50%)" alt="Kafka Performance: Disk IO" src="https://images.contentful.com/gt6dp23g0g38/2ch8jGPvYmBgZ2xM5iwnRg/b6736e6937d89657318cab4c26a78de5/unnamed-5.png"></DIV>
<P style="BOX-SIZING: border-box; FONT-SIZE: 16px; FONT-FAMILY: Inter-Regular, Arial, sans-serif; WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; FONT-WEIGHT: 400; COLOR: rgb(21,32,43); FONT-STYLE: normal; ORPHANS: 2; WIDOWS: 2; MARGIN: 15px 0px; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial"><EM style="BOX-SIZING: border-box">Figure 1. Establishing the maximum disk bandwidth of<SPAN>&nbsp;</SPAN><SPAN class=language-text style='BOX-SIZING: border-box; FONT-SIZE: 14px; FONT-FAMILY: Menlo, Monaco, Consolas, "Courier New", monospace; FONT-WEIGHT: 400; COLOR: rgb(216,54,93); PADDING-BOTTOM: 0.1em; PADDING-TOP: 0.1em; PADDING-LEFT: 0.1em; LINE-HEIGHT: 26px; PADDING-RIGHT: 0.1em; border-radius: 4px'>i3en.2xlarge</SPAN><SPAN>&nbsp;</SPAN>instances across two disks, tested using the<SPAN>&nbsp;</SPAN><SPAN class=language-text style='BOX-SIZING: border-box; FONT-SIZE: 14px; FONT-FAMILY: Menlo, Monaco, Consolas, "Courier New", monospace; FONT-WEIGHT: 400; COLOR: rgb(216,54,93); PADDING-BOTTOM: 0.1em; PADDING-TOP: 0.1em; PADDING-LEFT: 0.1em; LINE-HEIGHT: 26px; PADDING-RIGHT: 0.1em; border-radius: 4px'>dd</SPAN><SPAN>&nbsp;</SPAN>Linux command, to serve as a north star for throughput tests</EM></P>
<P style="BOX-SIZING: border-box; FONT-SIZE: 16px; FONT-FAMILY: Inter-Regular, Arial, sans-serif; WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; FONT-WEIGHT: 400; COLOR: rgb(21,32,43); FONT-STYLE: normal; ORPHANS: 2; WIDOWS: 2; MARGIN: 15px 0px; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial">The maximum disk bandwidth of the selected instances was established with the following<SPAN>&nbsp;</SPAN><SPAN class=language-text style='BOX-SIZING: border-box; FONT-SIZE: 14px; FONT-FAMILY: Menlo, Monaco, Consolas, "Courier New", monospace; FONT-WEIGHT: 400; COLOR: rgb(216,54,93); PADDING-BOTTOM: 0.1em; PADDING-TOP: 0.1em; PADDING-LEFT: 0.1em; LINE-HEIGHT: 26px; PADDING-RIGHT: 0.1em; border-radius: 4px'>dd</SPAN><SPAN>&nbsp;</SPAN>Linux commands, which is a metric of the environment setup that we need for e.g. interpreting the benchmarking results:</P>
<DIV class=gatsby-highlight style="BOX-SIZING: border-box; FONT-SIZE: 16px; FONT-FAMILY: Inter-Regular, Arial, sans-serif; WHITE-SPACE: normal; WORD-SPACING: 0px; POSITION: relative; TEXT-TRANSFORM: none; FONT-WEIGHT: 400; COLOR: rgb(21,32,43); FONT-STYLE: normal; ORPHANS: 2; WIDOWS: 2; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial" data-language="text">
<DIV class=copy-container style="BOX-SIZING: border-box; CURSOR: pointer; RIGHT: 10px; POSITION: absolute; COLOR: rgb(130,148,148); DISPLAY: flex; TOP: 10px; align-items: center" data-block="1"><SPAN class=copy style="BOX-SIZING: border-box"><IMG class=no-zoom style="BORDER-TOP-STYLE: none; BOX-SIZING: border-box; CURSOR: inherit; MAX-WIDTH: 100%; BORDER-LEFT-STYLE: none; HEIGHT: auto; WIDTH: auto; BORDER-BOTTOM-STYLE: none; BORDER-RIGHT-STYLE: none; LEFT: auto; MARGIN: auto; DISPLAY: block; transform: none; margin-inline-end: 2px" src="https://developer.confluent.io/images/icons/icon-copy.svg">Copy</SPAN></DIV><PRE class=language-text style='BOX-SIZING: border-box; FONT-SIZE: 12px; OVERFLOW: auto; MAX-WIDTH: 100%; FONT-FAMILY: Consolas, Monaco, "Andale Mono", "Ubuntu Mono", monospace; BACKGROUND: rgb(245,242,240); WHITE-SPACE: pre; WORD-SPACING: normal; WORD-BREAK: normal; COLOR: rgb(0,0,0); PADDING-BOTTOM: 25px; TEXT-ALIGN: left; PADDING-TOP: 40px; PADDING-LEFT: 25px; MARGIN: 0.5em 0px; LINE-HEIGHT: 1.5; PADDING-RIGHT: 25px; overflow-wrap: normal; hyphens: none; tab-size: 4; text-shadow: rgb(255, 255, 255) 0px 1px'><SPAN class=language-text style='BOX-SIZING: border-box; FONT-SIZE: 14px; FONT-FAMILY: Menlo, Monaco, Consolas, "Courier New", monospace; FONT-WEIGHT: 400; COLOR: rgb(0,0,0); PADDING-BOTTOM: 0.1em; PADDING-TOP: 0.1em; PADDING-LEFT: 0.1em; LINE-HEIGHT: 26px; PADDING-RIGHT: 0.1em; BACKGROUND-COLOR: transparent; border-radius: 4px'>Disk 1
dd if=/dev/zero of=/mnt/data-1/test bs=1M count=65536 oflag=direct
65536+0 records in
65536+0 records out
68719476736 bytes (69 GB) copied, 210.278 s, 327 MB/s

Disk 2
dd if=/dev/zero of=/mnt/data-2/test bs=1M count=65536 oflag=direct
65536+0 records in
65536+0 records out
68719476736 bytes (69 GB) copied, 209.594 s, 328 MB/s</SPAN></PRE></DIV>