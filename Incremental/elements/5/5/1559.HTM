<b> : </b><SPAN><SPAN>Staleness, Correctness, and Speed</SPAN></SPAN></H3>
<P>Rollouts are an example of the need to think about orchestration, service discovery and load balancing in a holistic way. If we have a service with N instances, and we turn down and replace all of them with N other instances in a very short period of time &#8212; of the order of seconds, rather than minutes &#8212;&nbsp; then in many cases, our systems will have problems, even if the new instances are ready and able to serve traffic.&nbsp;</P>
<P><SPAN>Each new instance of the service needs to be registered with whatever service is managing service discovery. Service discovery is a problem that is best considered an<SPAN>&nbsp;</SPAN></SPAN><A style="TEXT-DECORATION: none; COLOR: rgb(3,57,216); BACKGROUND-COLOR: transparent" href="https://blog.envoyproxy.io/embracing-eventual-consistency-in-soa-networking-32a5ee5d443d" rel=nofollow target=_blank><SPAN>eventually-consistent</SPAN></A><SPAN><SPAN>&nbsp;</SPAN>problem. Slightly-stale results (a few seconds old) should normally be usable, but if an entire service can be replaced in seconds, then slightly-stale results may now become entirely incorrect and clients may not be able to locate any healthy instance of the service (here is another example of how signals may break &#8212; through simply becoming stale). Rollout speed cannot be considered in isolation from the rest of the orchestration, including configuration such as DNS TTLs and any other caching layers.</SPAN></P>
<P>Another staleness problem that can arise is that health checks are typically done periodically. If an instance becomes unhealthy between health checks, then it may still receive requests for some period of time, potentially creating user impact. Implicit health checking (such as Envoy Proxy&#8217;s<SPAN>&nbsp;</SPAN><A style="TEXT-DECORATION: none; COLOR: rgb(3,57,216); BACKGROUND-COLOR: transparent" href="https://www.envoyproxy.io/docs/envoy/latest/intro/arch_overview/upstream/outlier#arch-overview-outlier-detection" rel=nofollow><SPAN>outlier detection</SPAN></A>) can help to create a higher-fidelity signal.</P></DIV></DIV></DIV></DIV></DIV></DIV>
<DIV class="field-item even">
<DIV class="entity entity-paragraphs-item paragraphs-item-single-column-text view-mode-full view-mode-full--paragraphs_item view-mode-full--paragraphs_item--single_column_text" style="PADDING-BOTTOM: 20px; PADDING-TOP: 20px">
<DIV class=content>
<DIV class="field field-name-field-single-column-text field-type-text-long field-label-hidden">
<DIV class=field-items>
<DIV class="field-item odd">