<b> : </b><A name="Version Chaining"></A><SPAN class=sd-abs-pos style="WIDTH: 49px; POSITION: absolute; LEFT: 2.45in; TOP: 0.95in"></SPAN><SPAN class=sd-abs-pos style="WIDTH: 31px; POSITION: absolute; LEFT: 2.17in; TOP: 0.87in"></SPAN><FONT face="Palatino Linotype, serif">Version</FONT><FONT face="Palatino Linotype, serif"><SPAN style="LETTER-SPACING: 1.6pt"> </SPAN></FONT><FONT face="Palatino Linotype, serif"><SPAN style="LETTER-SPACING: -0.1pt">Chaining</SPAN></FONT></H2></LI></OL></OL>
<P class=western style="MARGIN-TOP: 0.12in"><SPAN class=sd-abs-pos style="WIDTH: 75px; POSITION: absolute; LEFT: 2.36in; TOP: 0.34in"></SPAN><SPAN id=Frame5 style="BORDER-TOP: medium none; BORDER-RIGHT: medium none; WIDTH: 0.52in; BACKGROUND: #ffffff; BORDER-BOTTOM: medium none; POSITION: absolute; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0in; LEFT: 3.53in; BORDER-LEFT: medium none; TOP: 4.57in; PADDING-RIGHT: 0in" dir=ltr>
<TABLE dir=ltr cellSpacing=2 cellPadding=1 width=74>
<COLGROUP>
<COL width=64>
<TBODY>
<TR>
<TD style="BORDER-TOP: #000000 0.75pt solid; BORDER-RIGHT: #000000 0.75pt solid; BORDER-BOTTOM: #000000 2.25pt double; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0in; BORDER-LEFT: #000000 0.75pt solid; PADDING-RIGHT: 0in" height=4 vAlign=top width=64>
<P style="MARGIN-LEFT: 0.02in; ORPHANS: 0; WIDOWS: 0"><FONT style="FONT-SIZE: 11pt" size=2><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: -0.1pt">Header</SPAN></FONT></FONT></P></TD></TR>
<TR>
<TD style="BORDER-TOP: #000000 2.25pt double; BORDER-RIGHT: #000000 0.75pt solid; BORDER-BOTTOM: #000000 0.75pt solid; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0in; BORDER-LEFT: #000000 0.75pt solid; PADDING-RIGHT: 0in" height=28 vAlign=top width=64>
<P style="MARGIN-LEFT: 0.03in; ORPHANS: 0; WIDOWS: 0"><FONT style="FONT-SIZE: 11pt" size=2><FONT style="FONT-SIZE: 6pt" size=1><I>V</I></FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: -0.1pt">(100,110)</SPAN></FONT></FONT></P>
<P style="MARGIN-LEFT: 0.11in; ORPHANS: 0; WIDOWS: 0"><FONT style="FONT-SIZE: 11pt" size=2><FONT style="FONT-SIZE: 6pt" size=1>10</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: 1.7pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: -0.3pt">111</SPAN></FONT></FONT></P></TD></TR>
<TR>
<TD style="BORDER-TOP: #000000 0.75pt solid; BORDER-RIGHT: #000000 0.75pt solid; BORDER-BOTTOM: #000000 1pt solid; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0in; BORDER-LEFT: #000000 0.75pt solid; PADDING-RIGHT: 0in" height=28 vAlign=top width=64>
<P style="MARGIN-LEFT: 0.03in; ORPHANS: 0; WIDOWS: 0"><FONT style="FONT-SIZE: 11pt" size=2><FONT style="FONT-SIZE: 6pt" size=1><I>V</I></FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: -0.1pt">(110,120)</SPAN></FONT></FONT></P>
<P style="MARGIN-LEFT: 0.11in; ORPHANS: 0; WIDOWS: 0"><FONT style="FONT-SIZE: 11pt" size=2><FONT style="FONT-SIZE: 6pt" size=1>10</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: 1.7pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: -0.3pt">112</SPAN></FONT></FONT></P></TD></TR>
<TR>
<TD style="BORDER-TOP: #000000 1pt solid; BORDER-RIGHT: #000000 0.75pt solid; BORDER-BOTTOM: #000000 0.75pt solid; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0in; BORDER-LEFT: #000000 0.75pt solid; PADDING-RIGHT: 0in" height=28 vAlign=top width=64>
<P style="MARGIN-LEFT: 0.03in; ORPHANS: 0; WIDOWS: 0"><FONT style="FONT-SIZE: 11pt" size=2><FONT style="FONT-SIZE: 6pt" size=1><I>V</I></FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: -0.1pt">(120,130)</SPAN></FONT></FONT></P>
<P style="MARGIN-LEFT: 0.11in; ORPHANS: 0; WIDOWS: 0"><FONT style="FONT-SIZE: 11pt" size=2><FONT style="FONT-SIZE: 6pt" size=1>10</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: 1.7pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: -0.3pt">114</SPAN></FONT></FONT></P></TD></TR>
<TR>
<TD style="BORDER-TOP: #000000 0.75pt solid; BORDER-RIGHT: #000000 0.75pt solid; BORDER-BOTTOM: #000000 0.75pt solid; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0in; BORDER-LEFT: #000000 0.75pt solid; PADDING-RIGHT: 0in" height=27 vAlign=top width=64>
<P style="MARGIN-LEFT: 0.04in; ORPHANS: 0; WIDOWS: 0"><FONT style="FONT-SIZE: 11pt" size=2><FONT style="FONT-SIZE: 6pt" size=1><I>V</I></FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: -0.1pt">(130,INF)</SPAN></FONT></FONT></P>
<P style="MARGIN-LEFT: 0.11in; ORPHANS: 0; WIDOWS: 0"><FONT style="FONT-SIZE: 11pt" size=2><FONT style="FONT-SIZE: 6pt" size=1>10</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: 1.7pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: -0.3pt">115</SPAN></FONT></FONT></P></TD></TR></TBODY></TABLE>
<P class=western><BR></P></SPAN><SPAN class=sd-abs-pos style="WIDTH: 99px; POSITION: absolute; LEFT: 3.15in; TOP: 0.33in"></SPAN><BR>
<P></P>
<P class=western style="MARGIN-TOP: 0.12in"><BR></P>
<P class=western style="MARGIN-LEFT: 0.56in" align=left><SPAN class=sd-abs-pos style="WIDTH: 49px; POSITION: absolute; LEFT: 2.45in; TOP: -0.86in"></SPAN><SPAN class=sd-abs-pos style="WIDTH: 49px; POSITION: absolute; LEFT: 2.45in; TOP: -0.62in"></SPAN><SPAN class=sd-abs-pos style="WIDTH: 49px; POSITION: absolute; LEFT: 2.45in; TOP: -0.39in"></SPAN><SPAN class=sd-abs-pos style="WIDTH: 31px; POSITION: absolute; LEFT: 2.17in; TOP: -0.47in"></SPAN><SPAN class=sd-abs-pos style="WIDTH: 353px; POSITION: absolute; LEFT: 1.84in; TOP: -1.35in"></SPAN><FONT style="FONT-SIZE: 11pt" size=2><FONT face="Georgia, serif"><FONT style="FONT-SIZE: 8pt" size=1>Fig.</FONT></FONT><FONT face="Georgia, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.7pt"> </SPAN></FONT></FONT><FONT face="Georgia, serif"><FONT style="FONT-SIZE: 8pt" size=1>5</FONT></FONT><FONT face="Georgia, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 3.3pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 8pt" size=1>Version</FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.5pt"> </SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1>Chain</FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.5pt"> </SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1>Layout</FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.5pt"> </SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1>in</FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.5pt"> </SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1>MVCC</FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.5pt"> </SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.1pt">databases.</SPAN></FONT></FONT></P>
<P class=western style="MARGIN-TOP: 0.11in"><BR></P>
<P class=western style="MARGIN-LEFT: 0.56in; LINE-HEIGHT: 98%; MARGIN-RIGHT: 0.22in; TEXT-INDENT: 0.21in" align=justify><A name=_bookmark5></A>Under MVCC, a logical tuple corresponds to one or more tuple versions, which forms a version chain. As shown in Figure <A href="file:///C:/SuperMemo/systems/Incremental/temp/HTMLFile.htm#_bookmark5"><FONT color=#0000ff>5</FONT></A>, there are two possible physical organi- zations of a version chain: array-like or linked list-like. The former implies that each version of the tuple is stored in consecutive memory addresses on the version stor- age. The version storage maintains a number of fixed-size blocks of allocated memory. Typical implementations of the array-like layout append a newly inserted version at<SPAN style="LETTER-SPACING: 2pt"> </SPAN>the end of the slotted block and use cursors to reference the <I>oldest </I>and <I>latest </I>version slots,<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>respectively.<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>One<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>alternative<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>to<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>retrieving<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>a<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>desired<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>version<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>is<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>to<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>iterate<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>the<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>chain from the oldest version to the latest version. Another alternative is to follow the <I>latest version cursor </I>to traverse the chain from the latest version to the oldest version. The advantage of this layout is that the system does not need to modify the version chain header to point to a newer version of the tuple whenever it is updated.</P>
<P class=western style="MARGIN-TOP: 0.01in; MARGIN-LEFT: 0.56in; LINE-HEIGHT: 98%; MARGIN-RIGHT: 0.22in; TEXT-INDENT: 0.21in" align=justify>The latter implies that each version of a tuple is stored in a separately allocated memory<SPAN style="LETTER-SPACING: 0.9pt"> </SPAN>address<SPAN style="LETTER-SPACING: 0.9pt"> </SPAN>on<SPAN style="LETTER-SPACING: 0.9pt"> </SPAN>the<SPAN style="LETTER-SPACING: 0.8pt"> </SPAN>version<SPAN style="LETTER-SPACING: 0.9pt"> </SPAN>storage.<SPAN style="LETTER-SPACING: 0.9pt"> </SPAN>Consequently,<SPAN style="LETTER-SPACING: 0.9pt"> </SPAN>a<SPAN style="LETTER-SPACING: 0.8pt"> </SPAN>tuple&#8217;s<SPAN style="LETTER-SPACING: 0.9pt"> </SPAN>versions<SPAN style="LETTER-SPACING: 0.8pt"> </SPAN>are<SPAN style="LETTER-SPACING: 0.9pt"> </SPAN><SPAN style="LETTER-SPACING: -0.1pt">spread</SPAN></P>
<P class=western style="MARGIN-TOP: 0.14in"><BR></P>
<P class=western style="MARGIN-LEFT: 0.34in" align=center><SPAN style="LETTER-SPACING: -0.5pt">6</SPAN></P>
<P class=western style="MARGIN-TOP: 0.03in; PAGE-BREAK-BEFORE: always; MARGIN-LEFT: 0.22in; LINE-HEIGHT: 98%; MARGIN-RIGHT: 0.56in" align=justify>across<SPAN style="LETTER-SPACING: 1.6pt"> </SPAN>non-contiguous<SPAN style="LETTER-SPACING: 1.6pt"> </SPAN>physical<SPAN style="LETTER-SPACING: 1.6pt"> </SPAN>locations<SPAN style="LETTER-SPACING: 1.6pt"> </SPAN>in<SPAN style="LETTER-SPACING: 1.6pt"> </SPAN>main<SPAN style="LETTER-SPACING: 1.6pt"> </SPAN>memory.<SPAN style="LETTER-SPACING: 1.6pt"> </SPAN>All<SPAN style="LETTER-SPACING: 1.6pt"> </SPAN>versions<SPAN style="LETTER-SPACING: 1.6pt"> </SPAN>of<SPAN style="LETTER-SPACING: 1.6pt"> </SPAN>the<SPAN style="LETTER-SPACING: 1.6pt"> </SPAN>tuple are linked through the link (e.g., <I>next</I><SPAN style="LETTER-SPACING: -0.6pt"><I> </I></SPAN>) pointers. There are two different version list ordering methods: old-to-new and new-to-old [<A href="file:///C:/SuperMemo/systems/Incremental/temp/HTMLFile.htm#_bookmark30"><FONT color=#0000ff>13</FONT></A>, <A href="file:///C:/SuperMemo/systems/Incremental/temp/HTMLFile.htm#_bookmark35"><FONT color=#0000ff>19</FONT></A>]. With old-to-new ordering, the chain&#8217;s HEAD is the oldest extant version of a tuple, while the new-to-old ordering implies<SPAN style="LETTER-SPACING: 1.4pt"> </SPAN>that<SPAN style="LETTER-SPACING: 1.4pt"> </SPAN>the<SPAN style="LETTER-SPACING: 1.4pt"> </SPAN>chain&#8217;s<SPAN style="LETTER-SPACING: 1.4pt"> </SPAN>HEAD<SPAN style="LETTER-SPACING: 1.4pt"> </SPAN>is<SPAN style="LETTER-SPACING: 1.4pt"> </SPAN>the<SPAN style="LETTER-SPACING: 1.4pt"> </SPAN>latest<SPAN style="LETTER-SPACING: 1.4pt"> </SPAN>tuple<SPAN style="LETTER-SPACING: 1.4pt"> </SPAN>version.<SPAN style="LETTER-SPACING: 1.4pt"> </SPAN>The<SPAN style="LETTER-SPACING: 1.4pt"> </SPAN>system<SPAN style="LETTER-SPACING: 1.4pt"> </SPAN>can<SPAN style="LETTER-SPACING: 1.4pt"> </SPAN>use<SPAN style="LETTER-SPACING: 1.4pt"> </SPAN>these link pointers to traverse the version chain easily and access the target version. The downside, however, is that the chain&#8217;s HEAD changes whenever a tuple is updated.<SPAN style="LETTER-SPACING: 2pt"> </SPAN>The system then changes the header to point to the new version.</P>
<OL>
<OL start=5>
<LI>