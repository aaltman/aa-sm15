<b> : </b>67.4.3.&nbsp;Deduplication<SPAN>&nbsp;</SPAN><A class=id_link style="BOX-SIZING: border-box; TEXT-DECORATION: none; FONT-WEIGHT: 600; COLOR: ; VISIBILITY: hidden; BACKGROUND-COLOR: transparent; transition: color 0.2s ease-in-out" href="https://www.postgresql.org/docs/current/btree-implementation.html#BTREE-DEDUPLICATION"></A></H3></DIV></DIV></DIV>
<P style="BOX-SIZING: border-box; MARGIN-TOP: 0px">A duplicate is a leaf page tuple (a tuple that points to a table row) where<SPAN>&nbsp;</SPAN><SPAN class=emphasis style="BOX-SIZING: border-box"><EM style="BOX-SIZING: border-box; FONT-STYLE: italic">all</EM></SPAN><SPAN>&nbsp;</SPAN>indexed key columns have values that match corresponding column values from at least one other leaf page tuple in the same index. Duplicate tuples are quite common in practice. B-Tree indexes can use a special, space-efficient representation for duplicates when an optional technique is enabled:<SPAN>&nbsp;</SPAN><EM class=firstterm style="BOX-SIZING: border-box; FONT-STYLE: italic">deduplication</EM>.</P>
<P style="BOX-SIZING: border-box; MARGIN-TOP: 0px">Deduplication works by periodically merging groups of duplicate tuples together, forming a single<SPAN>&nbsp;</SPAN><EM class=firstterm style="BOX-SIZING: border-box; FONT-STYLE: italic">posting list</EM><SPAN>&nbsp;</SPAN>tuple for each group. The column key value(s) only appear once in this representation. This is followed by a sorted array of<SPAN>&nbsp;</SPAN><ACRONYM class=acronym style="BOX-SIZING: border-box">TID</ACRONYM>s that point to rows in the table. This significantly reduces the storage size of indexes where each value (or each distinct combination of column values) appears several times on average. The latency of queries can be reduced significantly. Overall query throughput may increase significantly. The overhead of routine index vacuuming may also be reduced significantly.</P>
<DIV class=note style="BOX-SIZING: border-box; BORDER-TOP: 1px solid; BORDER-RIGHT: 1px solid; BORDER-BOTTOM: 1px solid; PADDING-TOP: 1px; PADDING-LEFT: 1px; BORDER-LEFT: 1px solid; MARGIN: 4ex auto; PADDING-RIGHT: 1px; border-radius: 8px">