<DIV class=titlepage style='BOX-SIZING: border-box; FONT-SIZE: 14px; FONT-FAMILY: "Open Sans", sans-serif; WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; FONT-WEIGHT: 400; COLOR: rgb(0,0,0); FONT-STYLE: normal; TEXT-ALIGN: left; ORPHANS: 2; WIDOWS: 2; LETTER-SPACING: normal; TEXT-INDENT: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial'>
<DIV style="BOX-SIZING: border-box">
<DIV style="BOX-SIZING: border-box">
<H2 class=title style='BOX-SIZING: border-box; FONT-SIZE: 1.6em; FONT-FAMILY: "Open Sans", sans-serif; FONT-WEIGHT: 600; COLOR: ; CLEAR: both; MARGIN: 1em 0px; DISPLAY: block; LINE-HEIGHT: 1.2; flex-direction: row'>73.7.&nbsp;Heap-Only Tuples (<ACRONYM class=acronym style="BOX-SIZING: border-box">HOT</ACRONYM>)<SPAN>&nbsp;</SPAN><A class=id_link style="BOX-SIZING: border-box; TEXT-DECORATION: none; FONT-WEIGHT: 600; COLOR: ; VISIBILITY: hidden; BACKGROUND-COLOR: transparent; transition: color 0.2s ease-in-out" href="https://www.postgresql.org/docs/current/storage-hot.html#STORAGE-HOT"></A></H2></DIV></DIV></DIV>
<P style='BOX-SIZING: border-box; FONT-SIZE: 14px; FONT-FAMILY: "Open Sans", sans-serif; WHITE-SPACE: normal; WORD-SPACING: 0px; MARGIN-TOP: 0px; TEXT-TRANSFORM: none; FONT-WEIGHT: 400; COLOR: rgb(0,0,0); FONT-STYLE: normal; TEXT-ALIGN: left; ORPHANS: 2; WIDOWS: 2; LETTER-SPACING: normal; TEXT-INDENT: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial'>To allow for high concurrency,<SPAN>&nbsp;</SPAN><SPAN class=productname style="BOX-SIZING: border-box">PostgreSQL</SPAN><SPAN>&nbsp;</SPAN>uses<SPAN>&nbsp;</SPAN><A title=13.1.&nbsp;Introduction class=link style="BOX-SIZING: border-box; TEXT-DECORATION: none; FONT-WEIGHT: 600; COLOR: ; BACKGROUND-COLOR: transparent; transition: color 0.2s ease-in-out" href="https://www.postgresql.org/docs/current/mvcc-intro.html">multiversion concurrency control</A><SPAN>&nbsp;</SPAN>(<ACRONYM class=acronym style="BOX-SIZING: border-box">MVCC</ACRONYM>) to store rows. However,<SPAN>&nbsp;</SPAN><ACRONYM class=acronym style="BOX-SIZING: border-box">MVCC</ACRONYM><SPAN>&nbsp;</SPAN>has some downsides for update queries. Specifically, updates require new versions of rows to be added to tables. This can also require new index entries for each updated row, and removal of old versions of rows and their index entries can be expensive.</P>
<P style='BOX-SIZING: border-box; FONT-SIZE: 14px; FONT-FAMILY: "Open Sans", sans-serif; WHITE-SPACE: normal; WORD-SPACING: 0px; MARGIN-TOP: 0px; TEXT-TRANSFORM: none; FONT-WEIGHT: 400; COLOR: rgb(0,0,0); FONT-STYLE: normal; TEXT-ALIGN: left; ORPHANS: 2; WIDOWS: 2; LETTER-SPACING: normal; TEXT-INDENT: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial'>To help reduce the overhead of updates,<SPAN>&nbsp;</SPAN><SPAN class=productname style="BOX-SIZING: border-box">PostgreSQL</SPAN><SPAN>&nbsp;</SPAN>has an optimization called heap-only tuples (<ACRONYM class=acronym style="BOX-SIZING: border-box">HOT</ACRONYM>). This optimization is possible when:</P>
<DIV class=itemizedlist style='BOX-SIZING: border-box; FONT-SIZE: 14px; FONT-FAMILY: "Open Sans", sans-serif; WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; FONT-WEIGHT: 400; COLOR: rgb(0,0,0); FONT-STYLE: normal; TEXT-ALIGN: left; ORPHANS: 2; WIDOWS: 2; LETTER-SPACING: normal; TEXT-INDENT: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial'>
<UL class=itemizedlist style="LIST-STYLE-TYPE: disc; BOX-SIZING: border-box; MARGIN-TOP: 0px">
<LI class=listitem style="BOX-SIZING: border-box">
<P style="BOX-SIZING: border-box; MARGIN-TOP: 0px; MARGIN-LEFT: 0px !important">The update does not modify any columns referenced by the table's indexes, not including summarizing indexes. The only summarizing index method in the core<SPAN>&nbsp;</SPAN><SPAN class=productname style="BOX-SIZING: border-box">PostgreSQL</SPAN><SPAN>&nbsp;</SPAN>distribution is<SPAN>&nbsp;</SPAN><A title="Chapter&nbsp;71.&nbsp;BRIN Indexes" class=link style="BOX-SIZING: border-box; TEXT-DECORATION: none; FONT-WEIGHT: 600; COLOR: ; BACKGROUND-COLOR: transparent; transition: color 0.2s ease-in-out" href="https://www.postgresql.org/docs/current/brin.html">BRIN</A>.</P></LI>
<LI class=listitem style="BOX-SIZING: border-box">
<P style="BOX-SIZING: border-box; MARGIN-TOP: 0px; MARGIN-LEFT: 0px !important">There is sufficient free space on the page containing the old row for the updated row.</P></LI></UL></DIV>
<P style='BOX-SIZING: border-box; FONT-SIZE: 14px; FONT-FAMILY: "Open Sans", sans-serif; WHITE-SPACE: normal; WORD-SPACING: 0px; MARGIN-TOP: 0px; TEXT-TRANSFORM: none; FONT-WEIGHT: 400; COLOR: rgb(0,0,0); FONT-STYLE: normal; TEXT-ALIGN: left; ORPHANS: 2; WIDOWS: 2; LETTER-SPACING: normal; TEXT-INDENT: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial'>In such cases, heap-only tuples provide two optimizations:</P>
<DIV class=itemizedlist style='BOX-SIZING: border-box; FONT-SIZE: 14px; FONT-FAMILY: "Open Sans", sans-serif; WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; FONT-WEIGHT: 400; COLOR: rgb(0,0,0); FONT-STYLE: normal; TEXT-ALIGN: left; ORPHANS: 2; WIDOWS: 2; LETTER-SPACING: normal; TEXT-INDENT: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial'>
<UL class=itemizedlist style="LIST-STYLE-TYPE: disc; BOX-SIZING: border-box; MARGIN-TOP: 0px">
<LI class=listitem style="BOX-SIZING: border-box">
<P style="BOX-SIZING: border-box; MARGIN-TOP: 0px; MARGIN-LEFT: 0px !important">New index entries are not needed to represent updated rows, however, summary indexes may still need to be updated.</P></LI>
<LI class=listitem style="BOX-SIZING: border-box">
<P style="BOX-SIZING: border-box; MARGIN-TOP: 0px; MARGIN-LEFT: 0px !important">Old versions of updated rows can be completely removed during normal operation, including<SPAN>&nbsp;</SPAN><CODE class=command style="BOX-SIZING: border-box; FONT-SIZE: 1em; FONT-FAMILY: monospace, monospace; MARGIN-TOP: 0px; FONT-WEIGHT: 400; COLOR:  !important; MARGIN-LEFT: 0px; MARGIN-RIGHT: 0px; overflow-wrap: break-word; border-radius: 0.25rem">SELECT</CODE>s, instead of requiring periodic vacuum operations. (This is possible because indexes do not reference their<SPAN>&nbsp;</SPAN><A title="73.6.&nbsp;Database Page Layout" class=link style="BOX-SIZING: border-box; TEXT-DECORATION: none; FONT-WEIGHT: 600; COLOR: ; BACKGROUND-COLOR: transparent; transition: color 0.2s ease-in-out" href="https://www.postgresql.org/docs/current/storage-page-layout.html">page item identifiers</A>.)</P></LI></UL></DIV>
<P style='BOX-SIZING: border-box; FONT-SIZE: 14px; FONT-FAMILY: "Open Sans", sans-serif; WHITE-SPACE: normal; WORD-SPACING: 0px; MARGIN-TOP: 0px; TEXT-TRANSFORM: none; FONT-WEIGHT: 400; COLOR: rgb(0,0,0); FONT-STYLE: normal; TEXT-ALIGN: left; ORPHANS: 2; WIDOWS: 2; LETTER-SPACING: normal; TEXT-INDENT: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial'>You can increase the likelihood of sufficient page space for<SPAN>&nbsp;</SPAN><ACRONYM class=acronym style="BOX-SIZING: border-box">HOT</ACRONYM><SPAN>&nbsp;</SPAN>updates by decreasing a table's<SPAN>&nbsp;</SPAN><A class=link style="BOX-SIZING: border-box; TEXT-DECORATION: none; FONT-WEIGHT: 600; COLOR: ; BACKGROUND-COLOR: transparent; transition: color 0.2s ease-in-out" href="https://www.postgresql.org/docs/current/sql-createtable.html#RELOPTION-FILLFACTOR"><CODE class=literal style="BOX-SIZING: border-box; FONT-SIZE: 1em; FONT-FAMILY: monospace, monospace; MARGIN-TOP: 0px; FONT-WEIGHT: 400; COLOR: ; MARGIN-LEFT: 0px; MARGIN-RIGHT: 0px; overflow-wrap: break-word; border-radius: 0.25rem">fillfactor</CODE></A>. If you don't,<SPAN>&nbsp;</SPAN><ACRONYM class=acronym style="BOX-SIZING: border-box">HOT</ACRONYM><SPAN>&nbsp;</SPAN>updates will still happen because new rows will naturally migrate to new pages and existing pages with sufficient free space for new row versions. The system view<SPAN>&nbsp;</SPAN><A title=28.2.18.&nbsp;pg_stat_all_tables class=link style="BOX-SIZING: border-box; TEXT-DECORATION: none; FONT-WEIGHT: 600; COLOR: ; BACKGROUND-COLOR: transparent; transition: color 0.2s ease-in-out" href="https://www.postgresql.org/docs/current/monitoring-stats.html#MONITORING-PG-STAT-ALL-TABLES-VIEW">pg_stat_all_tables</A><SPAN>&nbsp;</SPAN>allows monitoring of the occurrence of HOT and non-HOT updates.