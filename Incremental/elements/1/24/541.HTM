<b> : </b>Architectural Considerations</H2>
<P style='BOX-SIZING: border-box; FONT-FAMILY: "Libre Franklin", sans-serif; FONT-WEIGHT: normal; COLOR: rgb(40,40,40); PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN: 0px 0px 1px; PADDING-RIGHT: 0px'>When considering either local memory bandwidth or global bandwidth, a key principle to keep in mind is<SPAN>&nbsp;</SPAN><STRONG style='BOX-SIZING: border-box; FONT-FAMILY: "Libre Franklin", sans-serif; FONT-WEIGHT: 700'>concurrency</STRONG>. Almost all processor designs have very limited available concurrency per core, so lots of cores are needed just to generate enough cache misses to fill the local memory pipeline. As an example, TACC has recently deployed a few hundred nodes using the Intel Xeon Platinum 8380 processor (3rd generation Xeon Scalable Processor, aka &#8220;Ice Lake Xeon&#8221;). This has 40 cores and 8 channels of DDR4/3200 DRAM. The latency for memory access is about 80ns. So the latency-bandwidth product is</P>
<BLOCKQUOTE style='BOX-SIZING: border-box; FONT-FAMILY: "Libre Franklin", sans-serif; FONT-STYLE: italic; MARGIN: 40px'>
<P style='BOX-SIZING: border-box; FONT-FAMILY: "Libre Franklin", sans-serif; FONT-WEIGHT: normal; COLOR: rgb(40,40,40); PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN: 0px 0px 1px; PADDING-RIGHT: 0px'>204.8 GB/s * 80 nanoseconds = 16384 bytes, or 256 cache lines</P></BLOCKQUOTE>
<P style='BOX-SIZING: border-box; FONT-FAMILY: "Libre Franklin", sans-serif; FONT-WEIGHT: normal; COLOR: rgb(40,40,40); PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN: 0px 0px 1px; PADDING-RIGHT: 0px'>Each core can directly generate about 10-12 cache misses, and can indirectly generate a few more via the L2 hardware prefetchers &#8211; call it 16 concurrent cache line requests per core, so 16 of the (up to) 40 cores are required just to fill the pipeline to DRAM.</P>
<P style='BOX-SIZING: border-box; FONT-FAMILY: "Libre Franklin", sans-serif; FONT-WEIGHT: normal; COLOR: rgb(40,40,40); PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN: 0px 0px 1px; PADDING-RIGHT: 0px'>For IO-based interconnects, latencies are much higher, but bandwidths are lower. Current state of the art for a node-level interconnect is 200 Gbit, such as the InfiniBand HDR fabric. The high latency favors a &#8220;put&#8221; model of communication, with one-way RDMA put latency at about 800ns (unloaded) through a couple of switch hops. The latency-bandwidth product is (200/8)*800 = 20000 Bytes. This is only slightly higher than the case for local memory, but it depends on two factors: (1) The bandwidth is fairly low, and (2) the latency is only available for &#8220;put&#8221; operations &#8211; it must be doubled for &#8220;get&#8221; operations.</P>
<P style='BOX-SIZING: border-box; FONT-FAMILY: "Libre Franklin", sans-serif; FONT-WEIGHT: normal; COLOR: rgb(40,40,40); PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN: 0px 0px 1px; PADDING-RIGHT: 0px'>A couple of notes:</P>
<UL style='BOX-SIZING: border-box; FONT-FAMILY: "Libre Franklin", sans-serif; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN: 0px 0px 28px 20px; PADDING-RIGHT: 0px'>
<LI style="LIST-STYLE-TYPE: square; BOX-SIZING: border-box; FONT-FAMILY: sans-serif; FONT-WEIGHT: normal">The local latency of 80 ns is dominated by a serialized check of the three levels of the cache (with the 3rd level hashed/interleaved around the chip in Intel processors), along with the need to traverse many asynchronous boundaries. (An old discussion on this blog<SPAN>&nbsp;</SPAN><A style='BOX-SIZING: border-box; TEXT-DECORATION: none; FONT-FAMILY: "Libre Franklin", sans-serif; BACKGROUND: none transparent scroll repeat 0% 0%; COLOR: rgb(160,68,0); transition: 0.1s ease-in-out' href="https://sites.utexas.edu/jdm4372/2011/03/10/memory-latency-components/">Memory Latency Components 2011-03-10</A><SPAN>&nbsp;</SPAN>is a good start, but newer systems have a 3rd level of cache and on on-chip 2D mesh interconnect adding to the latency components.) The effective local latency could be reduced significantly by using a &#8220;scratchpad&#8221; memory architecture and a more general block-oriented interface (to more effectively use the open page features of the DRAM), but it would very challenging to get below about 30 ns read latency. 
<LI style="LIST-STYLE-TYPE: square; BOX-SIZING: border-box; FONT-FAMILY: sans-serif; FONT-WEIGHT: normal">The IO latency of ~800 ns for a put operation is dominated by the incredibly archaic architecture of IO systems. It is hard to get good data, but it typically requires 300-400 ns for a core&#8217;s uncached store operation to reach its target PCIe-connected device. This is absolutely not necessary from a physics perspective, but it cannot easily be fixed without a wholistic approach to re-architecting the system to support communication and synchronization as first-class features. One could certainly design processors that could put IO requests on external pins in 20ns or less &#8211; then the speed of light term becomes important in the latency equation (as it should be).</LI></UL>
<P style='BOX-SIZING: border-box; FONT-FAMILY: "Libre Franklin", sans-serif; FONT-WEIGHT: normal; COLOR: rgb(40,40,40); PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN: 0px 0px 1px; PADDING-RIGHT: 0px'>It has been a while since I reviewed the capabilities of optical systems, but the considerations above usually make extremely high bisection bandwidth effectively<SPAN>&nbsp;</SPAN><EM style='BOX-SIZING: border-box; FONT-FAMILY: "Libre Franklin", sans-serif; FONT-STYLE: italic'><STRONG style='BOX-SIZING: border-box; FONT-FAMILY: "Libre Franklin", sans-serif; FONT-WEIGHT: 700'>un-exploitable</STRONG></EM><SPAN>&nbsp;</SPAN>with current processor architectures.</P>
<P style='BOX-SIZING: border-box; FONT-FAMILY: "Libre Franklin", sans-serif; FONT-WEIGHT: normal; COLOR: rgb(40,40,40); PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN: 0px 0px 1px; PADDING-RIGHT: 0px'>Future technology developments (e.g,<SPAN>&nbsp;</SPAN><A style='BOX-SIZING: border-box; TEXT-DECORATION: none; FONT-FAMILY: "Libre Franklin", sans-serif; BACKGROUND: none transparent scroll repeat 0% 0%; COLOR: rgb(160,68,0); transition: 0.1s ease-in-out' href="https://arxiv.org/abs/1609.05510">AttoJoule Optoelectronics for Low-Energy Information Processing and Communication</A>) may dramatically reduce the cost, but a new architecture will be required to reduce the latency enough to make the bandwidth useful.</P>
<P id=refs style='BOX-SIZING: border-box; FONT-FAMILY: "Libre Franklin", sans-serif; FONT-WEIGHT: normal; COLOR: rgb(40,40,40); PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN: 0px 0px 1px; PADDING-RIGHT: 0px'>References:</P>
<OL style='BOX-SIZING: border-box; FONT-FAMILY: "Libre Franklin", sans-serif; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN: 0px 0px 28px 20px; PADDING-RIGHT: 0px'>
<LI style="LIST-STYLE-TYPE: decimal; BOX-SIZING: border-box; FONT-FAMILY: sans-serif; FONT-WEIGHT: normal"><A style='BOX-SIZING: border-box; TEXT-DECORATION: none; FONT-FAMILY: "Libre Franklin", sans-serif; BACKGROUND: none transparent scroll repeat 0% 0%; COLOR: rgb(160,68,0); transition: 0.1s ease-in-out' href="https://sites.utexas.edu/jdm4372/ihec-final-2003-04-09-compressed/">DOD High Performance Computing for the National Security Community Final Report_2003-04-09</A> 
<LI style="LIST-STYLE-TYPE: decimal; BOX-SIZING: border-box; FONT-FAMILY: sans-serif; FONT-WEIGHT: normal"><A style='BOX-SIZING: border-box; TEXT-DECORATION: none; FONT-FAMILY: "Libre Franklin", sans-serif; BACKGROUND: none transparent scroll repeat 0% 0%; COLOR: rgb(160,68,0); transition: 0.1s ease-in-out' href="https://www.hpcwire.com/2006/11/24/darpa_selects_cray_and_ibm_for_final_phase_of_hpcs-1/">HPCWire 2006-11-24 DARPA selects Cray and IBM for final phase of HPCS-1</A> 
<LI style="LIST-STYLE-TYPE: decimal; BOX-SIZING: border-box; FONT-FAMILY: sans-serif; FONT-WEIGHT: normal"><A style='BOX-SIZING: border-box; TEXT-DECORATION: none; FONT-FAMILY: "Libre Franklin", sans-serif; BACKGROUND: none transparent scroll repeat 0% 0%; COLOR: rgb(160,68,0); transition: 0.1s ease-in-out' href="https://www.hpcwire.com/2012/11/08/cray_launches_cascade_embraces_intel-based_supercomputing/">HPCWire 2012-11-08 Cray launches Cascade: embraces Intel-based supercomputing</A> 
<LI style="LIST-STYLE-TYPE: decimal; BOX-SIZING: border-box; FONT-FAMILY: sans-serif; FONT-WEIGHT: normal"><A style='BOX-SIZING: border-box; TEXT-DECORATION: none; FONT-FAMILY: "Libre Franklin", sans-serif; BACKGROUND: none transparent scroll repeat 0% 0%; COLOR: rgb(160,68,0); transition: 0.1s ease-in-out' href="https://en.wikipedia.org/wiki/Blue_Waters">Wikipedia: Blue Waters</A></LI></OL></DIV>