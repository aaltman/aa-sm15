<b> : </b><SPAN role=heading aria-level=3 class=devsite-heading>Notification messages with optional data payload</SPAN></H3>
<P>Both programmatically or via the <SPAN class=notranslate>Firebase</SPAN> console, you can send notification messages that contain an optional payload of custom key-value pairs. In the <A href="https://console.firebase.google.com/project/_/notification">Notifications composer</A>, use the <STRONG>Custom data</STRONG> fields in <STRONG>Advanced options</STRONG>.</P>
<P>App behavior when receiving messages that include both notification and data payloads depends on whether the app is in the background or the foreground&#8212;essentially, whether or not it is active at the time of receipt.</P>
<UL>
<LI><STRONG>When in the background</STRONG>, apps receive the notification payload in the notification tray, and only handle the data payload when the user taps on the notification.</LI>
<LI><STRONG>When in the foreground</STRONG>, your app receives a message object with both payloads available.</LI></UL>
<P>Here is a JSON-formatted message containing both the <CODE dir=ltr translate="no">notification</CODE> key and the <CODE dir=ltr translate="no">data</CODE> key:</P>
<P></P><DEVSITE-CODE data-copy-event-label="">
<DIV role=group aria-label="Action buttons" class=devsite-code-buttons-container></DIV></DEVSITE-CODE><DEVSITE-CODE data-copy-event-label=""><PRE class=pretty-json dir=ltr translate="no" is-upgraded=""><SPAN class=pun>{</SPAN><SPAN class=pln><BR>&nbsp; </SPAN><SPAN class=str>"message"</SPAN><SPAN class=pun>:{</SPAN><SPAN class=pln><BR>&nbsp; &nbsp; </SPAN><SPAN class=str>"token"</SPAN><SPAN class=pun>:</SPAN><SPAN class=str>"bk3RNwTe3H0:CI2k_HHwgIpoDKCIZvvDMExUdFQ3P1..."</SPAN><SPAN class=pun>,</SPAN><SPAN class=pln><BR>&nbsp; &nbsp; </SPAN><SPAN class=str>"notification"</SPAN><SPAN class=pun>:{</SPAN><SPAN class=pln><BR>&nbsp; &nbsp; &nbsp; </SPAN><SPAN class=str>"title"</SPAN><SPAN class=pun>:</SPAN><SPAN class=str>"Portugal vs. Denmark"</SPAN><SPAN class=pun>,</SPAN><SPAN class=pln><BR>&nbsp; &nbsp; &nbsp; </SPAN><SPAN class=str>"body"</SPAN><SPAN class=pun>:</SPAN><SPAN class=str>"great match!"</SPAN><SPAN class=pln><BR>&nbsp; &nbsp; </SPAN><SPAN class=pun>},</SPAN><SPAN class=pln><BR>&nbsp; &nbsp; </SPAN><SPAN class=str>"data"</SPAN><SPAN class=pln> </SPAN><SPAN class=pun>:</SPAN><SPAN class=pln> </SPAN><SPAN class=pun>{</SPAN><SPAN class=pln><BR>&nbsp; &nbsp; &nbsp; </SPAN><SPAN class=str>"Nick"</SPAN><SPAN class=pln> </SPAN><SPAN class=pun>:</SPAN><SPAN class=pln> </SPAN><SPAN class=str>"Mario"</SPAN><SPAN class=pun>,</SPAN><SPAN class=pln><BR>&nbsp; &nbsp; &nbsp; </SPAN><SPAN class=str>"Room"</SPAN><SPAN class=pln> </SPAN><SPAN class=pun>:</SPAN><SPAN class=pln> </SPAN><SPAN class=str>"PortugalVSDenmark"</SPAN><SPAN class=pln><BR>&nbsp; &nbsp; </SPAN><SPAN class=pun>}</SPAN><SPAN class=pln><BR>&nbsp; </SPAN><SPAN class=pun>}</SPAN><SPAN class=pln><BR></SPAN><SPAN class=pun>}</SPAN></PRE></DEVSITE-CODE>