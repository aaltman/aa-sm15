<b> : </b>The circuit breaker solution</H2>
<P style="BOX-SIZING: border-box; FONT-FAMILY: var(--desktop-large-body-copy-family); WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; FONT-WEIGHT: 400; COLOR: rgb(26,26,26); FONT-STYLE: normal; ORPHANS: 2; WIDOWS: 2; LETTER-SPACING: normal; TEXT-INDENT: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial">Much like its namesake component in electrical systems, the Circuit Breaker pattern will &#8220;trip the breaker&#8221; when the number of failures in a given time period exceeds a predefined threshold. The idea is to put a hard limit on the impact of these types of failures&#8211;to break the feedback loop&#8211;and recover quickly and automatically once the underlying trigger is resolved.</P>
<P style="BOX-SIZING: border-box; FONT-FAMILY: var(--desktop-large-body-copy-family); WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; FONT-WEIGHT: 400; COLOR: rgb(26,26,26); FONT-STYLE: normal; ORPHANS: 2; WIDOWS: 2; LETTER-SPACING: normal; TEXT-INDENT: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial">The Aerospike implementation of the Circuit Breaker pattern, which is built into the Aerospike client libraries and enabled by default, will trip when there are 100 or more errors within an approximate 1-second window. Both the threshold and the time window are configurable.</P>
<P style="BOX-SIZING: border-box; FONT-FAMILY: var(--desktop-large-body-copy-family); WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; FONT-WEIGHT: 400; COLOR: rgb(26,26,26); FONT-STYLE: normal; ORPHANS: 2; WIDOWS: 2; LETTER-SPACING: normal; TEXT-INDENT: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial">As a simplified example, assume an application is performing 1,000 database read operations per second and a network failure occurs that lasts for 2 seconds. During each of those seconds, when the network is failing, the application would get 1,000 network errors and thus would result in 1,000 churned connections.</P><FIGURE class=_figure_abn6g_1 style='BOX-SIZING: border-box; FONT-SIZE: medium; FONT-FAMILY: "Neue Helvetica Now Pro", system-ui, -apple-system, "Segoe UI", Roboto, Ubuntu, Cantarell, "Noto Sans", sans-serif, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"; WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; FONT-WEIGHT: 400; COLOR: rgb(26,26,26); OUTLINE-WIDTH: 1px; FONT-STYLE: normal; OUTLINE-STYLE: solid; ORPHANS: 2; WIDOWS: 2; MARGIN: 0px 0px 20px; DISPLAY: flex; LETTER-SPACING: normal; TEXT-INDENT: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; flex-direction: column'><IMG class="_image_espsy_21 _img_abn6g_17" style="BOX-SIZING: border-box; MARGIN-BOTTOM: 0px; CURSOR: pointer; MAX-WIDTH: 100%; HEIGHT: auto" alt=circuit-breaker-pattern-network-failure src="https://images.ctfassets.net/drk57q8lctrm/1w8BiTSRyXJaMn3bcMV9hH/a997da56ae78f90853b9a6c4d51769ae/circuit-breaker-pattern-network-failure.webp" width=1920 height=629 data-id="1w8BiTSRyXJaMn3bcMV9hH"><FIGCAPTION class=_figcaption_abn6g_8 style="BOX-SIZING: border-box; COLOR: ; PADDING-BOTTOM: 0.5em; FONT-STYLE: italic; TEXT-ALIGN: right; PADDING-TOP: 0.8em; PADDING-LEFT: 0.8em; PADDING-RIGHT: 0.8em">A diagram with a row of blue on the left, light yellow in the middle and upper right, and darker yellow on the upper right with a long arrow shooting across below going rightward.</FIGCAPTION></FIGURE>
<P style="BOX-SIZING: border-box; FONT-FAMILY: var(--desktop-large-body-copy-family); WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; FONT-WEIGHT: 400; COLOR: rgb(26,26,26); FONT-STYLE: normal; ORPHANS: 2; WIDOWS: 2; LETTER-SPACING: normal; TEXT-INDENT: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial">With the Circuit Breaker pattern in place, the application would instead only get network errors up to the configured threshold (100) each second, and the remaining 900 operations within that one-second window would instead immediately raise an exception rather than trying to connect to the database server. As a result, the application would only churn 100 connections each second rather than 1,000.</P>
<P style="BOX-SIZING: border-box; FONT-FAMILY: var(--desktop-large-body-copy-family); WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; FONT-WEIGHT: 400; COLOR: rgb(26,26,26); FONT-STYLE: normal; ORPHANS: 2; WIDOWS: 2; LETTER-SPACING: normal; TEXT-INDENT: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial">In other words, the impact of a network failure is limited to churning 100 connections per second, and the system only needs to be designed to handle that limited amount of load amplification.</P><FIGURE class=_figure_abn6g_1 style='BOX-SIZING: border-box; FONT-SIZE: medium; FONT-FAMILY: "Neue Helvetica Now Pro", system-ui, -apple-system, "Segoe UI", Roboto, Ubuntu, Cantarell, "Noto Sans", sans-serif, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"; WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; FONT-WEIGHT: 400; COLOR: rgb(26,26,26); OUTLINE-WIDTH: 1px; FONT-STYLE: normal; OUTLINE-STYLE: solid; ORPHANS: 2; WIDOWS: 2; MARGIN: 0px 0px 20px; DISPLAY: flex; LETTER-SPACING: normal; TEXT-INDENT: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; flex-direction: column'><IMG class="_image_espsy_21 _img_abn6g_17" style="BOX-SIZING: border-box; MARGIN-BOTTOM: 0px; CURSOR: pointer; MAX-WIDTH: 100%; HEIGHT: auto" alt=circuit-breaker-pattern-steady-state-network-failure-recovered-state src="https://images.ctfassets.net/drk57q8lctrm/2TTUK6fXHfGNw5AXLlXIHp/126a42d7e6ab42fa796b8c04cac2d0c1/circuit-breaker-pattern-steady-state-network-failure-recovered-state.webp" width=1920 height=741 data-id="2TTUK6fXHfGNw5AXLlXIHp"><FIGCAPTION class=_figcaption_abn6g_8 style="BOX-SIZING: border-box; COLOR: ; PADDING-BOTTOM: 0.5em; FONT-STYLE: italic; TEXT-ALIGN: right; PADDING-TOP: 0.8em; PADDING-LEFT: 0.8em; PADDING-RIGHT: 0.8em">a diagram in three colors, with blue on the left, light yellow in the middle and bottom right, and bolder yellow on the upper right.</FIGCAPTION></FIGURE>
<P style="BOX-SIZING: border-box; FONT-FAMILY: var(--desktop-large-body-copy-family); WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; FONT-WEIGHT: 400; COLOR: rgb(26,26,26); FONT-STYLE: normal; ORPHANS: 2; WIDOWS: 2; LETTER-SPACING: normal; TEXT-INDENT: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial">The application would then handle the exceptions raised when the circuit breaker has tripped according to the use case. For example, the application may abandon those operations as a hard failure, implement an<SPAN>&nbsp;</SPAN><A style='BOX-SIZING: border-box; CURSOR: pointer; TEXT-DECORATION: none; FONT-FAMILY: var(--helvetica, "Neue Helvetica Now Pro"),Helvetica; BORDER-BOTTOM: rgb(0,122,171) 1px solid; COLOR: ' href="https://en.wikipedia.org/wiki/Exponential_backoff">exponential backoff</A>, save those operations in a<SPAN>&nbsp;</SPAN><A style='BOX-SIZING: border-box; CURSOR: pointer; TEXT-DECORATION: none; FONT-FAMILY: var(--helvetica, "Neue Helvetica Now Pro"),Helvetica; BORDER-BOTTOM: rgb(0,122,171) 1px solid; COLOR: ' href="https://en.wikipedia.org/wiki/Dead_letter_queue">dead letter queue</A><SPAN>&nbsp;</SPAN>to be replayed later, etc.