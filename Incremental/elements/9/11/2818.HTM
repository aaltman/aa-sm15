<b> : </b>Bitmap<A aria-label="Direct link to Bitmap" title="Direct link to Bitmap" class=hash-link style="BOX-SIZING: border-box; TEXT-DECORATION: ; COLOR: ; transition: opacity var(--ifm-transition-fast); opacity: 0; user-select: none" href="https://microsoft.github.io/garnet/docs/benchmarking/results-resp-bench#bitmap">&#8203;</A></H4>
<P style='BOX-SIZING: border-box; FONT-SIZE: 17px; FONT-FAMILY: system-ui, -apple-system, "Segoe UI", Roboto, Ubuntu, Cantarell, "Noto Sans", sans-serif, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"; WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; FONT-WEIGHT: 400; COLOR: rgb(28,30,33); FONT-STYLE: normal; ORPHANS: 2; WIDOWS: 2; LETTER-SPACING: normal; TEXT-INDENT: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial'><STRONG style="BOX-SIZING: border-box">Garnet</STRONG><SPAN>&nbsp;</SPAN>supports a set of bit-oriented operators on string data types. These operators can be processed in constant time (i.e. GETBIT, SETBIT) or linear time (i.e. BITCOUNT, BITPOS, BITOP). To speedup processing, for the linear time operators, we used hardware and SIMD instructions. Below we present the benchmark results for a subset of these operators, covering both complexity categories. Similarly to before we use a small DB size (1024 keys) to evaluate the performance of each system under high contention while avoiding having all the data resident in CPU cache by increasing the paylaod size (1MB).</P>
<P style='BOX-SIZING: border-box; FONT-SIZE: 17px; FONT-FAMILY: system-ui, -apple-system, "Segoe UI", Roboto, Ubuntu, Cantarell, "Noto Sans", sans-serif, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"; WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; FONT-WEIGHT: 400; COLOR: rgb(28,30,33); FONT-STYLE: normal; ORPHANS: 2; WIDOWS: 2; LETTER-SPACING: normal; TEXT-INDENT: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial'>In Figure 8, we present the performance metrics for GETBIT and SETBIT commands. In both cases,<SPAN>&nbsp;</SPAN><STRONG style="BOX-SIZING: border-box">Garnet</STRONG><SPAN>&nbsp;</SPAN>consistently maintains higher throughput and better scalability as the number of client sessions increase.</P><DETAILS class="details_lb9f isBrowser_bmU9 alert alert--info details_b_Ee" style='BOX-SIZING: border-box; FONT-SIZE: 17px; MARGIN-BOTTOM: 0px; BORDER-TOP: 1px solid; FONT-FAMILY: system-ui, -apple-system, "Segoe UI", Roboto, Ubuntu, Cantarell, "Noto Sans", sans-serif, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"; BORDER-RIGHT: 1px solid; WHITE-SPACE: normal; WORD-SPACING: 0px; MARGIN-TOP: 0px; BORDER-BOTTOM: 1px solid; TEXT-TRANSFORM: none; FONT-WEIGHT: 400; COLOR: ; FONT-STYLE: normal; BORDER-LEFT: 1px solid; ORPHANS: 2; WIDOWS: 2; LETTER-SPACING: normal; MARGIN-RIGHT: 0px; TEXT-INDENT: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; --ifm-alert-background-color: var(--ifm-color-info-contrast-background); --ifm-alert-background-color-highlight: #54c7ec26; --ifm-alert-foreground-color: var(--ifm-color-info-contrast-foreground); --ifm-alert-border-color: var(--ifm-color-info-dark); --ifm-code-background: var(--ifm-alert-background-color-highlight); --ifm-link-color: var(--ifm-alert-foreground-color); --ifm-link-hover-color: var(--ifm-alert-foreground-color); --ifm-link-decoration: underline; --ifm-tabs-color: var(--ifm-alert-foreground-color); --ifm-tabs-color-active: var(--ifm-alert-foreground-color); --ifm-tabs-color-active-border: var(--ifm-alert-border-color); border-radius: var(--ifm-alert-border-radius); box-shadow: var(--ifm-alert-shadow); --docusaurus-details-summary-arrow-size: 0.38rem; --docusaurus-details-transition: transform var(--ifm-transition-fast) ease; --docusaurus-details-decoration-color: var(--ifm-alert-border-color)' data-collapsed="true"><SUMMARY style="LIST-STYLE-TYPE: none; BOX-SIZING: border-box; CURSOR: pointer; POSITION: relative">Varying number of client sessions (GETBIT/SETBIT/BITOP_NOT/BITOP_AND)</SUMMARY></DETAILS>
<TABLE style='BOX-SIZING: border-box; FONT-SIZE: 17px; OVERFLOW: auto; FONT-FAMILY: system-ui, -apple-system, "Segoe UI", Roboto, Ubuntu, Cantarell, "Noto Sans", sans-serif, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"; WHITE-SPACE: normal; WORD-SPACING: 0px; BORDER-COLLAPSE: collapse; TEXT-TRANSFORM: none; FONT-WEIGHT: 400; COLOR: rgb(28,30,33); FONT-STYLE: normal; ORPHANS: 2; WIDOWS: 2; DISPLAY: block; LETTER-SPACING: normal; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial'>
<THEAD style="BOX-SIZING: border-box">
<TR style="BOX-SIZING: border-box; BORDER-BOTTOM: 2px solid">
<TH style="BOX-SIZING: border-box; COLOR: ; TEXT-ALIGN: center"><IMG class=img_ev3q style="BOX-SIZING: border-box; MAX-WIDTH: 100%; HEIGHT: auto" alt=tpt-getbit-setbit-threads.png src="https://microsoft.github.io/garnet/assets/images/tpt-getbit-setbit-threads-7a24f3d7e677dd2432d568a29203fe26.png" width=1809 height=601 loading="lazy" decoding="async"></TH></TR></THEAD>
<TBODY style="BOX-SIZING: border-box">
<TR style="BOX-SIZING: border-box">
<TD style="BOX-SIZING: border-box; COLOR: ; TEXT-ALIGN: center">Figure 8: Throughput (log-scale), varying number of client sessions, for a database size of 1024 keys and 1MB payload.</TD></TR></TBODY></TABLE>
<P style='BOX-SIZING: border-box; FONT-SIZE: 17px; FONT-FAMILY: system-ui, -apple-system, "Segoe UI", Roboto, Ubuntu, Cantarell, "Noto Sans", sans-serif, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"; WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; FONT-WEIGHT: 400; COLOR: rgb(28,30,33); FONT-STYLE: normal; ORPHANS: 2; WIDOWS: 2; LETTER-SPACING: normal; TEXT-INDENT: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial'>In Figure 9, we evaluate the performance of BITOP NOT and BITOP AND (with two source keys) for increasing number of threads and a payload size of 1MB.<SPAN>&nbsp;</SPAN><STRONG style="BOX-SIZING: border-box">Garnet</STRONG><SPAN>&nbsp;</SPAN>maintains overall higher throughput as the number of client session increases, compared to every other system we tested. It also performs very well under high contention, given that our DB size is relatively small (i.e., only 1024 keys).</P>
<TABLE style='BOX-SIZING: border-box; FONT-SIZE: 17px; OVERFLOW: auto; FONT-FAMILY: system-ui, -apple-system, "Segoe UI", Roboto, Ubuntu, Cantarell, "Noto Sans", sans-serif, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"; WHITE-SPACE: normal; WORD-SPACING: 0px; BORDER-COLLAPSE: collapse; TEXT-TRANSFORM: none; FONT-WEIGHT: 400; COLOR: rgb(28,30,33); FONT-STYLE: normal; ORPHANS: 2; WIDOWS: 2; DISPLAY: block; LETTER-SPACING: normal; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial'>
<THEAD style="BOX-SIZING: border-box">
<TR style="BOX-SIZING: border-box; BORDER-BOTTOM: 2px solid">
<TH style="BOX-SIZING: border-box; COLOR: ; TEXT-ALIGN: center"><IMG class=img_ev3q style="BOX-SIZING: border-box; MAX-WIDTH: 100%; HEIGHT: auto" alt=tpt-bitop-threads.png src="https://microsoft.github.io/garnet/assets/images/tpt-bitop-threads-c7d71faae4f7da0cee761d0fe4565863.png" width=1809 height=602 loading="lazy" decoding="async"></TH></TR></THEAD>
<TBODY style="BOX-SIZING: border-box">
<TR style="BOX-SIZING: border-box">
<TD style="BOX-SIZING: border-box; COLOR: ; TEXT-ALIGN: center">Figure 9: Throughput (log-scale), varying number of client sessions, for a database size of 1024 keys and 1MB payload.</TD></TR></TBODY></TABLE>
<P style='BOX-SIZING: border-box; FONT-SIZE: 17px; FONT-FAMILY: system-ui, -apple-system, "Segoe UI", Roboto, Ubuntu, Cantarell, "Noto Sans", sans-serif, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"; WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; FONT-WEIGHT: 400; COLOR: rgb(28,30,33); FONT-STYLE: normal; ORPHANS: 2; WIDOWS: 2; LETTER-SPACING: normal; TEXT-INDENT: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial'>As show in Figures 10 and 11, even for small batch sizes,<SPAN>&nbsp;</SPAN><STRONG style="BOX-SIZING: border-box">Garnet</STRONG><SPAN>&nbsp;</SPAN>attains a higher throughput that any other system we tested on the associated bitmap operations. In fact, we observe significantly higher throughput with<SPAN>&nbsp;</SPAN><STRONG style="BOX-SIZING: border-box">Garnet</STRONG><SPAN>&nbsp;</SPAN>even at a small batchsize of 4.</P><DETAILS class="details_lb9f isBrowser_bmU9 alert alert--info details_b_Ee" style='BOX-SIZING: border-box; FONT-SIZE: 17px; MARGIN-BOTTOM: 0px; BORDER-TOP: 1px solid; FONT-FAMILY: system-ui, -apple-system, "Segoe UI", Roboto, Ubuntu, Cantarell, "Noto Sans", sans-serif, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"; BORDER-RIGHT: 1px solid; WHITE-SPACE: normal; WORD-SPACING: 0px; MARGIN-TOP: 0px; BORDER-BOTTOM: 1px solid; TEXT-TRANSFORM: none; FONT-WEIGHT: 400; COLOR: ; FONT-STYLE: normal; BORDER-LEFT: 1px solid; ORPHANS: 2; WIDOWS: 2; LETTER-SPACING: normal; MARGIN-RIGHT: 0px; TEXT-INDENT: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; --ifm-alert-background-color: var(--ifm-color-info-contrast-background); --ifm-alert-background-color-highlight: #54c7ec26; --ifm-alert-foreground-color: var(--ifm-color-info-contrast-foreground); --ifm-alert-border-color: var(--ifm-color-info-dark); --ifm-code-background: var(--ifm-alert-background-color-highlight); --ifm-link-color: var(--ifm-alert-foreground-color); --ifm-link-hover-color: var(--ifm-alert-foreground-color); --ifm-link-decoration: underline; --ifm-tabs-color: var(--ifm-alert-foreground-color); --ifm-tabs-color-active: var(--ifm-alert-foreground-color); --ifm-tabs-color-active-border: var(--ifm-alert-border-color); border-radius: var(--ifm-alert-border-radius); box-shadow: var(--ifm-alert-shadow); --docusaurus-details-summary-arrow-size: 0.38rem; --docusaurus-details-transition: transform var(--ifm-transition-fast) ease; --docusaurus-details-decoration-color: var(--ifm-alert-border-color)' data-collapsed="true"><SUMMARY style="LIST-STYLE-TYPE: none; BOX-SIZING: border-box; CURSOR: pointer; POSITION: relative">Varying batch size (GETBIT/SETBIT/BITOP_NOT/BITOP_AND)</SUMMARY></DETAILS>
<TABLE style='BOX-SIZING: border-box; FONT-SIZE: 17px; OVERFLOW: auto; FONT-FAMILY: system-ui, -apple-system, "Segoe UI", Roboto, Ubuntu, Cantarell, "Noto Sans", sans-serif, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"; WHITE-SPACE: normal; WORD-SPACING: 0px; BORDER-COLLAPSE: collapse; TEXT-TRANSFORM: none; FONT-WEIGHT: 400; COLOR: rgb(28,30,33); FONT-STYLE: normal; ORPHANS: 2; WIDOWS: 2; DISPLAY: block; LETTER-SPACING: normal; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial'>
<THEAD style="BOX-SIZING: border-box">
<TR style="BOX-SIZING: border-box; BORDER-BOTTOM: 2px solid">
<TH style="BOX-SIZING: border-box; COLOR: ; TEXT-ALIGN: center"><IMG class=img_ev3q style="BOX-SIZING: border-box; MAX-WIDTH: 100%; HEIGHT: auto" alt=tpt-bitop-batchsize.png src="https://microsoft.github.io/garnet/assets/images/tpt-getbit-setbit-batchsize-9a87d27dc06e7969f99f75cc85749ccf.png" width=1793 height=602 loading="lazy" decoding="async"></TH></TR></THEAD>
<TBODY style="BOX-SIZING: border-box">
<TR style="BOX-SIZING: border-box">
<TD style="BOX-SIZING: border-box; COLOR: ; TEXT-ALIGN: center">Figure 10: Throughput (log-scale), for increasing batchsize by 64 client sessions on a DB with 1024 keys and 1MB payload.</TD></TR></TBODY></TABLE>
<TABLE style='BOX-SIZING: border-box; FONT-SIZE: 17px; OVERFLOW: auto; MARGIN-BOTTOM: 0px !important; FONT-FAMILY: system-ui, -apple-system, "Segoe UI", Roboto, Ubuntu, Cantarell, "Noto Sans", sans-serif, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"; WHITE-SPACE: normal; WORD-SPACING: 0px; BORDER-COLLAPSE: collapse; TEXT-TRANSFORM: none; FONT-WEIGHT: 400; COLOR: rgb(28,30,33); FONT-STYLE: normal; ORPHANS: 2; WIDOWS: 2; DISPLAY: block; LETTER-SPACING: normal; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial'>
<THEAD style="BOX-SIZING: border-box">
<TR style="BOX-SIZING: border-box; BORDER-BOTTOM: 2px solid">
<TH style="BOX-SIZING: border-box; COLOR: ; TEXT-ALIGN: center"><IMG class=img_ev3q style="BOX-SIZING: border-box; MAX-WIDTH: 100%; HEIGHT: auto" alt=tpt-bitop-batchsize.png src="https://microsoft.github.io/garnet/assets/images/tpt-bitop-batchsize-e1f2f56f212c1cefc3efdb376c19ffd0.png" width=1803 height=602 loading="lazy" decoding="async"></TH></TR></THEAD>
<TBODY style="BOX-SIZING: border-box">
<TR style="BOX-SIZING: border-box">
<TD style="BOX-SIZING: border-box; COLOR: ; TEXT-ALIGN: center">Figure 11: Throughput (log-scale), for increasing batchsize by 64 client sessions on a DB with 1024 keys and 1MB payload.</TD></TR></TBODY></TABLE>