<b> : </b><STRONG style='BOX-SIZING: border-box; FONT-FAMILY: AmazonEmberBold, "Helvetica Neue Bold", "Helvetica Neue", Helvetica, Arial, sans-serif; FONT-WEIGHT: 500'>1. Single-Region with sharding</STRONG></H1>
<P style='BOX-SIZING: border-box; FONT-SIZE: 14px; MARGIN-BOTTOM: 15px; FONT-FAMILY: AmazonEmber, "Helvetica Neue", Helvetica, Arial, sans-serif; WHITE-SPACE: normal; WORD-SPACING: 0px; MARGIN-TOP: 15px; TEXT-TRANSFORM: none; FONT-WEIGHT: 400; COLOR: rgb(51,51,51); FONT-STYLE: normal; ORPHANS: 2; WIDOWS: 2; LETTER-SPACING: normal; TEXT-INDENT: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial'>As you determine that ELB sharding may be necessary based on the aforementioned criteria, you then shard the ELB as shown in Figure 3 below. You first determine how many ELBs are needed based on the requirement in question. In the example below, we use two ELBs to handle the incoming requests. Both ELBs point to the same targets. You can register the same target with multiple target groups. To split the load (shard) between the two ELBs, you can use Route 53<SPAN>&nbsp;</SPAN><A style="BOX-SIZING: border-box; TEXT-DECORATION: underline; COLOR: rgb(9,114,211); OUTLINE-WIDTH: 0px; OUTLINE-STYLE: none; OUTLINE-COLOR: invert; BACKGROUND-COLOR: transparent; text-underline-offset: 0.4rem" href="https://docs.aws.amazon.com/Route53/latest/DeveloperGuide/routing-policy-weighted.html" rel=noopener target=_blank>weighted routing policy</A>. Weighted routing lets you associate multiple resources with a single domain name (example.com) or subdomain name (acme.example.com) and choose how much traffic is routed to each resource. In Figure 2, we create two<SPAN>&nbsp;</SPAN><A style="BOX-SIZING: border-box; TEXT-DECORATION: underline; COLOR: rgb(9,114,211); OUTLINE-WIDTH: 0px; OUTLINE-STYLE: none; OUTLINE-COLOR: invert; BACKGROUND-COLOR: transparent; text-underline-offset: 0.4rem" href="https://docs.aws.amazon.com/Route53/latest/DeveloperGuide/resource-record-sets-choosing-alias-non-alias.html" rel=noopener target=_blank>Route 53 alias records</A><SPAN>&nbsp;</SPAN>by pointing the same domain (public hosted zone) www.example.com to the respective ELBs (load-balancer-1-&lt;xxxxxxxxxx&gt;.<U style="BOX-SIZING: border-box">us-east-1.elb.amazonaws.com</U><SPAN>&nbsp;</SPAN>and load-balancer-2-&lt;yyyyyyyyyy&gt;.<U style="BOX-SIZING: border-box">us-east-1.elb.amazonaws.com</U>). We then assign each record a relative weight that corresponds with how much traffic you want to send to each ELB. Here we are splitting the traffic evenly, therefore each ELB will receive 50% of the incoming requests. If you want to stop sending traffic to a resource, you can change the weight for that record to zero. Refer to<SPAN>&nbsp;</SPAN><A style="BOX-SIZING: border-box; TEXT-DECORATION: underline; COLOR: rgb(9,114,211); OUTLINE-WIDTH: 0px; OUTLINE-STYLE: none; OUTLINE-COLOR: invert; BACKGROUND-COLOR: transparent; text-underline-offset: 0.4rem" href="https://docs.aws.amazon.com/Route53/latest/DeveloperGuide/routing-policy-weighted.html" rel=noopener target=_blank>Route 53 Weighted routing</A><SPAN>&nbsp;</SPAN>documentation for details.</P>
<DIV id=attachment_21423 class="wp-caption aligncenter" style='BOX-SIZING: border-box; FONT-SIZE: 14px; MAX-WIDTH: 100%; FONT-FAMILY: AmazonEmber, "Helvetica Neue", Helvetica, Arial, sans-serif; WIDTH: 1131px; WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; FONT-WEIGHT: 400; COLOR: rgb(51,51,51); FONT-STYLE: normal; MARGIN-LEFT: auto; ORPHANS: 2; WIDOWS: 2; DISPLAY: block; LETTER-SPACING: normal; MARGIN-RIGHT: auto; TEXT-INDENT: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial'><A style="BOX-SIZING: border-box; TEXT-DECORATION: underline; COLOR: rgb(9,114,211); OUTLINE-WIDTH: 0px; OUTLINE-STYLE: none; OUTLINE-COLOR: invert; BACKGROUND-COLOR: transparent; text-underline-offset: 0.4rem" href="https://d2908q01vomqb2.cloudfront.net/5b384ce32d8cdef02bc3a139d4cac0a22bb029e8/2024/04/29/ELBShardingFig3-1.png" rel=noopener target=_blank><IMG aria-describedby=caption-attachment-21423 class="wp-image-21423 size-full" style="BOX-SIZING: border-box; MAX-WIDTH: 100%; BORDER-TOP: 0px; HEIGHT: auto; BORDER-RIGHT: 0px; WIDTH: auto; BORDER-BOTTOM: 0px; BORDER-LEFT: 0px" alt="Figure 3: Single-Region with sharding" src="https://d2908q01vomqb2.cloudfront.net/5b384ce32d8cdef02bc3a139d4cac0a22bb029e8/2024/04/29/ELBShardingFig3-1.png" width=1121 height=939 loading="lazy"></A>
<P id=caption-attachment-21423 class=wp-caption-text style="BOX-SIZING: border-box; MARGIN-TOP: 0px; COLOR: rgb(35,47,62); FONT-STYLE: italic">Figure 3: Single-Region with sharding</P></DIV>