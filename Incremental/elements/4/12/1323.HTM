<b> : </b>Results Validation</H3>
<P style="BOX-SIZING: border-box; FONT-FAMILY: proxima-nova, sans-serif; WHITE-SPACE: normal; WORD-SPACING: 0px; MARGIN-TOP: 0px; TEXT-TRANSFORM: none; FONT-WEIGHT: 400; COLOR: rgb(28,30,33); FONT-STYLE: normal; ORPHANS: 2; WIDOWS: 2; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial">Comparing and testing distributed databases across clouds and vendors is very challenging. Configurations can favor one platform over another, and we always strive to be as fair as possible. To internally assess the fairness of our field tests, we attempted to validate our results by asking two questions:</P>
<OL style="BOX-SIZING: border-box; FONT-SIZE: 16px; FONT-FAMILY: proxima-nova, sans-serif; WHITE-SPACE: normal; WORD-SPACING: 0px; MARGIN-TOP: 0px; TEXT-TRANSFORM: none; FONT-WEIGHT: 400; COLOR: rgb(28,30,33); FONT-STYLE: normal; ORPHANS: 2; WIDOWS: 2; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial">
<LI style="BOX-SIZING: border-box">Did we push each competitive platform as hard as possible?</LI>
<LI style="BOX-SIZING: border-box">Are there other published benchmarking results against which to compare our results?</LI></OL>
<P style="BOX-SIZING: border-box; FONT-FAMILY: proxima-nova, sans-serif; WHITE-SPACE: normal; WORD-SPACING: 0px; MARGIN-TOP: 0px; TEXT-TRANSFORM: none; FONT-WEIGHT: 400; COLOR: rgb(28,30,33); FONT-STYLE: normal; ORPHANS: 2; WIDOWS: 2; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial">First, we recognize the three main bottlenecks for system performance concerning the TPC-C-like workload we used are CPU, memory, and disk I/O. While executing tests, we monitor these metrics as closely as the managed platform allows. After running the CockroachDB and YugabyteDB configurations through the 1,000-warehouse test, we saw less than 20% average CPU utilization. We knew they could be pushed harder. We increased the number of warehouses and repeated the tests at 10,000 and 20,000.</P>
<P style="BOX-SIZING: border-box; FONT-FAMILY: proxima-nova, sans-serif; WHITE-SPACE: normal; WORD-SPACING: 0px; MARGIN-TOP: 0px; TEXT-TRANSFORM: none; FONT-WEIGHT: 400; COLOR: rgb(28,30,33); FONT-STYLE: normal; ORPHANS: 2; WIDOWS: 2; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial"><STRONG style="BOX-SIZING: border-box; FONT-WEIGHT: bolder">Figure 3<SPAN>&nbsp;</SPAN></STRONG>shows the number of new orders per minute (NOPM) produced in our tests. In<SPAN>&nbsp;</SPAN><STRONG style="BOX-SIZING: border-box; FONT-WEIGHT: bolder">Figure 4</STRONG>, we track the CPU utilization curve across the three test tiers. As it &#8220;flattened&#8221; into the 80% range, we felt confident we were nearing the CPU bounds. Also, adding more warehouses would likely introduce significant memory pressure with the cluster sizes we used. In terms of disk I/O, it is difficult to speculate.</P>
<DIV id=m-chart-container-1012479-3 class="m-chart-container chartjs" style="BOX-SIZING: border-box; FONT-SIZE: 16px; FONT-FAMILY: proxima-nova, sans-serif; WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; FONT-WEIGHT: 400; COLOR: rgb(33,37,41); FONT-STYLE: normal; ORPHANS: 2; WIDOWS: 2; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial"><CANVAS id=m-chart-1012479-3 class=m-chart style="BOX-SIZING: border-box; HEIGHT: 600px; WIDTH: 958px; DISPLAY: block" width="1437" height="900"></CANVAS></DIV>
<P style="BOX-SIZING: border-box; FONT-FAMILY: proxima-nova, sans-serif; WHITE-SPACE: normal; WORD-SPACING: 0px; MARGIN-TOP: 0px; TEXT-TRANSFORM: none; FONT-WEIGHT: 400; COLOR: rgb(28,30,33); FONT-STYLE: normal; ORPHANS: 2; WIDOWS: 2; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial"><EM style="BOX-SIZING: border-box">Figure 3. CockroachDB and YugabyteDB NOPM as Number of TPC-C Warehouses Increases (higher is better)</EM></P>
<DIV id=m-chart-container-1012480-4 class="m-chart-container chartjs" style="BOX-SIZING: border-box; FONT-SIZE: 16px; FONT-FAMILY: proxima-nova, sans-serif; WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; FONT-WEIGHT: 400; COLOR: rgb(33,37,41); FONT-STYLE: normal; ORPHANS: 2; WIDOWS: 2; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial"><CANVAS id=m-chart-1012480-4 class=m-chart style="BOX-SIZING: border-box; HEIGHT: 600px; WIDTH: 958px; DISPLAY: block" width="1437" height="900"></CANVAS></DIV>
<P style="BOX-SIZING: border-box; FONT-FAMILY: proxima-nova, sans-serif; WHITE-SPACE: normal; WORD-SPACING: 0px; MARGIN-TOP: 0px; TEXT-TRANSFORM: none; FONT-WEIGHT: 400; COLOR: rgb(28,30,33); FONT-STYLE: normal; ORPHANS: 2; WIDOWS: 2; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial"><EM style="BOX-SIZING: border-box">Figure 4. CockroachDB and YugabyteDB Average CPU Utilization as Number of TPC-C Warehouses Increases</EM></P>
<P style="BOX-SIZING: border-box; FONT-FAMILY: proxima-nova, sans-serif; WHITE-SPACE: normal; WORD-SPACING: 0px; MARGIN-TOP: 0px; TEXT-TRANSFORM: none; FONT-WEIGHT: 400; COLOR: rgb(28,30,33); FONT-STYLE: normal; ORPHANS: 2; WIDOWS: 2; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial">We also attempted to validate our results by comparing what we observed with other published results. For comparable CockroachDB results, we reference a 2020 study published by the Association for Computing Machinery<SPAN>&nbsp;</SPAN><A style="BOX-SIZING: border-box; TEXT-DECORATION: none; COLOR: rgb(0,155,255)" href="https://dl.acm.org/doi/pdf/10.1145/3318464.3386134">(ACM</A>) that reported CockroachDB on three nodes of c5d.4xlarge achieved 12,474 TpmC using 1,000 warehouses, and 15 nodes of c5d.4xlarge achieved 124,036 TpmC using 10,000 warehouses. These results were very similar to ours.</P>
<P style="BOX-SIZING: border-box; FONT-FAMILY: proxima-nova, sans-serif; WHITE-SPACE: normal; WORD-SPACING: 0px; MARGIN-TOP: 0px; TEXT-TRANSFORM: none; FONT-WEIGHT: 400; COLOR: rgb(28,30,33); FONT-STYLE: normal; ORPHANS: 2; WIDOWS: 2; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial">For comparable YugabyteDB results, we found published TPC-C-like results on their<SPAN>&nbsp;</SPAN><A style="BOX-SIZING: border-box; TEXT-DECORATION: none; COLOR: rgb(0,155,255)" href="https://docs.yugabyte.com/preview/benchmark/tpcc-ysql/">website</A><SPAN>&nbsp;</SPAN>that reported that three nodes of c5d.4xlarge achieved 12,563 TpmC while using 1,000 warehouses, and 125,163 TpmC while using 10,000 warehouses. Our results in our tests of YugabyteDB were about 40% lower than the published figures on the website. While this is concerning, we must note that the YugabyteDB results were achieved by running their own TPC-C-like workload driver installed locally on the database nodes. We could not get their TPC-C driver to work against their managed service, which is why we used HammerDB instead. Obviously, this HammerDB driver was installed on an EC2 instance in the same region as our cluster, but it&#8217;s difficult to know how running it against the managed service impacted our results.</P>
<P style="BOX-SIZING: border-box; FONT-FAMILY: proxima-nova, sans-serif; WHITE-SPACE: normal; WORD-SPACING: 0px; MARGIN-TOP: 0px; TEXT-TRANSFORM: none; FONT-WEIGHT: 400; COLOR: rgb(28,30,33); FONT-STYLE: normal; ORPHANS: 2; WIDOWS: 2; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial"><STRONG style="BOX-SIZING: border-box; FONT-WEIGHT: bolder">Figures 5 and 6<SPAN>&nbsp;</SPAN></STRONG>show the results for testing at 1,000 warehouses and 10,000 warehouses, respectively.</P>
<DIV id=m-chart-container-1012481-5 class="m-chart-container chartjs" style="BOX-SIZING: border-box; FONT-SIZE: 16px; FONT-FAMILY: proxima-nova, sans-serif; WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; FONT-WEIGHT: 400; COLOR: rgb(33,37,41); FONT-STYLE: normal; ORPHANS: 2; WIDOWS: 2; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial"><CANVAS id=m-chart-1012481-5 class=m-chart style="BOX-SIZING: border-box; HEIGHT: 600px; WIDTH: 958px; DISPLAY: block" width="1437" height="900"></CANVAS></DIV>
<P style="BOX-SIZING: border-box; FONT-FAMILY: proxima-nova, sans-serif; WHITE-SPACE: normal; WORD-SPACING: 0px; MARGIN-TOP: 0px; TEXT-TRANSFORM: none; FONT-WEIGHT: 400; COLOR: rgb(28,30,33); FONT-STYLE: normal; ORPHANS: 2; WIDOWS: 2; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial"><EM style="BOX-SIZING: border-box">Figure 5. CockroachDB and YugabyteDB TpmC Benchmark Comparison: 1K Warehouses</EM></P>
<DIV id=m-chart-container-1012482-6 class="m-chart-container chartjs" style="BOX-SIZING: border-box; FONT-SIZE: 16px; FONT-FAMILY: proxima-nova, sans-serif; WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; FONT-WEIGHT: 400; COLOR: rgb(33,37,41); FONT-STYLE: normal; ORPHANS: 2; WIDOWS: 2; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial"><CANVAS id=m-chart-1012482-6 class=m-chart style="BOX-SIZING: border-box; HEIGHT: 600px; WIDTH: 958px; DISPLAY: block" width="1437" height="900"></CANVAS></DIV>
<P style="BOX-SIZING: border-box; FONT-FAMILY: proxima-nova, sans-serif; WHITE-SPACE: normal; WORD-SPACING: 0px; MARGIN-TOP: 0px; TEXT-TRANSFORM: none; FONT-WEIGHT: 400; COLOR: rgb(28,30,33); FONT-STYLE: normal; ORPHANS: 2; WIDOWS: 2; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial"><EM style="BOX-SIZING: border-box">Figure 6. CockroachDB and YugabyteDB TpmC Benchmark Comparison: 10K Warehouses</EM></P>
<P style="BOX-SIZING: border-box; FONT-FAMILY: proxima-nova, sans-serif; WHITE-SPACE: normal; WORD-SPACING: 0px; MARGIN-TOP: 0px; TEXT-TRANSFORM: none; FONT-WEIGHT: 400; COLOR: rgb(28,30,33); FONT-STYLE: normal; ORPHANS: 2; WIDOWS: 2; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial">However, the fact remains that even if we had achieved similar results as Yugabyte&#8217;s reported numbers, the overall throughput would have been much lower than Cosmos DB. As you will see in the next section, the resulting price-per-performance would have remained much more expensive as well.</P><A id=post-price-per-performance style="BOX-SIZING: border-box; FONT-SIZE: 16px; TEXT-DECORATION: none; FONT-FAMILY: proxima-nova, sans-serif; WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; FONT-WEIGHT: 400; COLOR: rgb(33,37,41); FONT-STYLE: normal; ORPHANS: 2; WIDOWS: 2; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px" name=post-price-per-performance></A><SPAN style="FONT-SIZE: 16px; FONT-FAMILY: proxima-nova, sans-serif; WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; FLOAT: none; FONT-WEIGHT: 400; COLOR: rgb(33,37,41); FONT-STYLE: normal; ORPHANS: 2; WIDOWS: 2; DISPLAY: inline !important; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial"></SPAN><A id=post-id-1013634 class=waypoint style="BOX-SIZING: border-box; FONT-SIZE: 16px; TEXT-DECORATION: none; FONT-FAMILY: proxima-nova, sans-serif; WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; FONT-WEIGHT: 400; COLOR: rgb(0,155,255); FONT-STYLE: normal; ORPHANS: 2; WIDOWS: 2; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px" name=post-id-1013634></A><SPAN style="FONT-SIZE: 16px; FONT-FAMILY: proxima-nova, sans-serif; WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; FLOAT: none; FONT-WEIGHT: 400; COLOR: rgb(33,37,41); FONT-STYLE: normal; ORPHANS: 2; WIDOWS: 2; DISPLAY: inline !important; LETTER-SPACING: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial"></SPAN>