<b> : </b><A name=Evaluation></A><A name=Evaluation1></A>Evaluation</H4>
<OL>
<LI>
<P style="LINE-HEIGHT: 0.19in" align=left><A name=Implementation></A><A name=Implementation1></A><FONT style="FONT-SIZE: 11pt" size=2><FONT face="Palatino Linotype, serif"><FONT style="FONT-SIZE: 10pt" size=2><I>Implementation</I></FONT></FONT></FONT></P></LI></OL></LI></OL>
<P class=western style="MARGIN-TOP: 0.04in; MARGIN-LEFT: 1.89in; LINE-HEIGHT: 106%; MARGIN-RIGHT: 0.1in; TEXT-INDENT: 0.3in" align=justify>We implement and evaluate ACQR protocol in Golang 1.13 using the open-source<SPAN style="LETTER-SPACING: 0.1pt"> </SPAN>framework of Rabia [<A href="file:///C:/SuperMemo/systems/Incremental/temp/HTMLFile.htm#_bookmark40"><FONT color=#0774b7>25</FONT></A>], so that we can compare the performance of the two methods with<SPAN style="LETTER-SPACING: 0.1pt"> </SPAN>minimal<SPAN style="LETTER-SPACING: 0.1pt"> </SPAN>change<SPAN style="LETTER-SPACING: 0.1pt"> </SPAN>to<SPAN style="LETTER-SPACING: 0.1pt"> </SPAN>the<SPAN style="LETTER-SPACING: 0.1pt"> </SPAN>original<SPAN style="LETTER-SPACING: 0.1pt"> </SPAN>implementation.</P>
<P class=western style="MARGIN-LEFT: 1.89in; LINE-HEIGHT: 106%; MARGIN-RIGHT: 0.07in; TEXT-INDENT: 0.3in" align=justify>In<SPAN style="LETTER-SPACING: 0.1pt"> </SPAN>the<SPAN style="LETTER-SPACING: 0.1pt"> </SPAN>implementation<SPAN style="LETTER-SPACING: 0.1pt"> </SPAN>of<SPAN style="LETTER-SPACING: 0.1pt"> </SPAN>many<SPAN style="LETTER-SPACING: 2.2pt"> </SPAN>modules,<SPAN style="LETTER-SPACING: 2.2pt"> </SPAN>we<SPAN style="LETTER-SPACING: 2.2pt"> </SPAN>do<SPAN style="LETTER-SPACING: 2.2pt"> </SPAN>not<SPAN style="LETTER-SPACING: 2.2pt"> </SPAN>need<SPAN style="LETTER-SPACING: 2.2pt"> </SPAN>to<SPAN style="LETTER-SPACING: 2.2pt"> </SPAN>modify<SPAN style="LETTER-SPACING: 2.2pt"> </SPAN>Rabia&#8217;s<SPAN style="LETTER-SPACING: 2.2pt"> </SPAN>code.<SPAN style="LETTER-SPACING: 0.1pt"> </SPAN>For instance, in the communication module, the interactions between clients and processes<SPAN style="LETTER-SPACING: 0.1pt"> </SPAN>are all facilitated through established TCP connections.<SPAN style="LETTER-SPACING: 0.1pt"> </SPAN>Variables such as flag fields (e.g.,<SPAN style="LETTER-SPACING: 0.1pt"> </SPAN>request IDs), are defined within the protocol buffers (proto) file.<SPAN style="LETTER-SPACING: 0.1pt"> </SPAN>Our modifications are<SPAN style="LETTER-SPACING: 0.1pt"> </SPAN>twofold:<SPAN style="LETTER-SPACING: 2pt"> </SPAN>Firstly,<SPAN style="LETTER-SPACING: 1.3pt"> </SPAN>for<SPAN style="LETTER-SPACING: 1.2pt"> </SPAN>read<SPAN style="LETTER-SPACING: 1.2pt"> </SPAN>operations,<SPAN style="LETTER-SPACING: 1.2pt"> </SPAN>clients<SPAN style="LETTER-SPACING: 1.2pt"> </SPAN>establish<SPAN style="LETTER-SPACING: 1.2pt"> </SPAN>TCP<SPAN style="LETTER-SPACING: 1.2pt"> </SPAN>connections<SPAN style="LETTER-SPACING: 1.3pt"> </SPAN>with<SPAN style="LETTER-SPACING: 1.2pt"> </SPAN>a<SPAN style="LETTER-SPACING: 1.2pt"> </SPAN>majority<SPAN style="LETTER-SPACING: 1.2pt"> </SPAN>of<SPAN style="LETTER-SPACING: 0.1pt"> </SPAN>the processes and broadcast their requests. Secondly, for write operations, we retain Rabia&#8217;s<SPAN style="LETTER-SPACING: -2.1pt"> </SPAN>implementation, where the client initially broadcasts to the designated process, which then<SPAN style="LETTER-SPACING: 0.1pt"> </SPAN>proposes<SPAN style="LETTER-SPACING: 0.3pt"> </SPAN>the<SPAN style="LETTER-SPACING: 0.3pt"> </SPAN>request,<SPAN style="LETTER-SPACING: 0.3pt"> </SPAN>triggering<SPAN style="LETTER-SPACING: 0.3pt"> </SPAN>the<SPAN style="LETTER-SPACING: 0.3pt"> </SPAN>consensus<SPAN style="LETTER-SPACING: 0.3pt"> </SPAN>stage.</P>
<OL>
<OL start=2>
<LI>
<P style="MARGIN-TOP: 0.12in; LINE-HEIGHT: 100%" align=left><A name="Experimental Setup"></A><A name="Experimental Setup1"></A><FONT style="FONT-SIZE: 11pt" size=2><FONT face="Palatino Linotype, serif"><FONT style="FONT-SIZE: 10pt" size=2><I>Experimental</I></FONT></FONT><FONT face="Palatino Linotype, serif"><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: -0.4pt"><I> </I></SPAN></FONT></FONT><FONT face="Palatino Linotype, serif"><FONT style="FONT-SIZE: 10pt" size=2><I>Setup</I></FONT></FONT></FONT></P></LI></OL></OL>
<P class=western style="MARGIN-TOP: 0.04in; MARGIN-LEFT: 1.89in; LINE-HEIGHT: 106%; MARGIN-RIGHT: 0.1in; TEXT-INDENT: 0.3in" align=justify>We evaluate our ACQR prototype on AWS EC2 platform with Rabia and ACQR<SPAN style="LETTER-SPACING: 0.1pt"> </SPAN>clients and processes deployed over t3.2xlarge instances with 8 vCPUs, 32 GB RAM, and<SPAN style="LETTER-SPACING: -2.2pt"> </SPAN>5<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>Gbps<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>Network<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>burst<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>bandwidth,<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>running<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>Ubuntu<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>20.04.3<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>LTS.<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>The<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>workload<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>generated<SPAN style="LETTER-SPACING: -2.2pt"> </SPAN>for our benchmark is a simple key-value store implementation containing 1000 distinct<SPAN style="LETTER-SPACING: 0.1pt"> </SPAN>objects. Each operation either updates (writes) or reads a 10-byte value. These two kinds of<SPAN style="LETTER-SPACING: 0.1pt"> </SPAN>operations<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>are<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>generated<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>with<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>equal<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>probability<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>(i.e.,<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>50%<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>reads<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>and<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>50%<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>writes).</P>
<P class=western style="MARGIN-TOP: 0in; MARGIN-LEFT: 1.89in; LINE-HEIGHT: 106%; MARGIN-RIGHT: 0.1in; TEXT-INDENT: 0.3in" align=justify>In the evaluations of Rabia, each client sends its requests to a designated process (the<SPAN style="LETTER-SPACING: 0.1pt"> </SPAN>one located at the same LAN for the geo-replication test), which then proposes on the<SPAN style="LETTER-SPACING: 0.1pt"> </SPAN>certain consensus instances.<SPAN style="LETTER-SPACING: 2.2pt"> </SPAN>For ACQR, the clients send their requests to the fixed quorum<SPAN style="LETTER-SPACING: 0.1pt"> </SPAN>of<SPAN style="LETTER-SPACING: 0.1pt"> </SPAN>processes.</P>
<P class=western style="MARGIN-TOP: 0in; MARGIN-LEFT: 1.89in; LINE-HEIGHT: 106%; MARGIN-RIGHT: 0.08in; TEXT-INDENT: 0.3in" align=justify>We conduct each test over 1 min and compute the median and 99%ile client-perceived<SPAN style="LETTER-SPACING: 0.1pt"> </SPAN>latency (ms) experienced during that interval. We also compute the throughput (req/sec)<SPAN style="LETTER-SPACING: 0.1pt"> </SPAN>during<SPAN style="LETTER-SPACING: 0.3pt"> </SPAN>each<SPAN style="LETTER-SPACING: 0.3pt"> </SPAN>experiment.</P>
<OL>
<OL start=3>
<LI>
<P style="MARGIN-TOP: 0.12in; LINE-HEIGHT: 100%" align=left><A name=Latency></A><A name=Latency1></A><FONT style="FONT-SIZE: 11pt" size=2><FONT face="Palatino Linotype, serif"><FONT style="FONT-SIZE: 10pt" size=2><I>Latency</I></FONT></FONT></FONT></P></LI></OL></OL>
<P class=western style="MARGIN-TOP: 0.03in; MARGIN-LEFT: 1.89in; LINE-HEIGHT: 0.18in; MARGIN-RIGHT: 0.07in; TEXT-INDENT: 0.3in" align=justify>Initially, we assess both protocols in the context of wide-area replication. For a config-<SPAN style="LETTER-SPACING: 0.1pt"> </SPAN>uration of <FONT face="Palatino Linotype, serif"><I>N </I></FONT><FONT face="Lucida Sans Unicode, serif">= </FONT>3, the processes and clients are situated in California, Tokyo, and Sydney.<SPAN style="LETTER-SPACING: -2.2pt"> </SPAN>Moreover, for the <FONT face="Palatino Linotype, serif"><I>N </I></FONT><FONT face="Lucida Sans Unicode, serif">= </FONT>5 scenario, we incorporate locations in Virginia and Frankfurt. At<SPAN style="LETTER-SPACING: -2.2pt"> </SPAN>each site, 10 clients are co-located with each process. Each client directs its requests to the<SPAN style="LETTER-SPACING: 0.1pt"> </SPAN>process under the same LAN. We do not use pipelining mechanisms for wide-area network<SPAN style="LETTER-SPACING: 0.1pt"> </SPAN>testing.<SPAN style="LETTER-SPACING: 1.2pt"> </SPAN>We<SPAN style="LETTER-SPACING: 0.6pt"> </SPAN>carry<SPAN style="LETTER-SPACING: 0.6pt"> </SPAN>out<SPAN style="LETTER-SPACING: 0.6pt"> </SPAN>closed-loop<SPAN style="LETTER-SPACING: 0.6pt"> </SPAN>testing<SPAN style="LETTER-SPACING: 0.6pt"> </SPAN>under<SPAN style="LETTER-SPACING: 0.6pt"> </SPAN>the<SPAN style="LETTER-SPACING: 0.6pt"> </SPAN>above-mentioned<SPAN style="LETTER-SPACING: 0.6pt"> </SPAN>conditions.</P>
<P class=western style="MARGIN-TOP: 0in; MARGIN-LEFT: 1.89in; LINE-HEIGHT: 106%; MARGIN-RIGHT: 0.07in; TEXT-INDENT: 0.3in" align=justify>As illustrated in Figures <FONT color=#0774b7><A href="file:///C:/SuperMemo/systems/Incremental/temp/HTMLFile.htm#_bookmark11"><FONT color=#000080>4</FONT></A> </FONT>and <A href="file:///C:/SuperMemo/systems/Incremental/temp/HTMLFile.htm#_bookmark12"><FONT color=#0774b7>5</FONT></A>, In both scenarios, read optimization can reduce<SPAN style="LETTER-SPACING: 0.1pt"> </SPAN>the median latency to 60% of Rabia. Readers may notice that Rabia&#8217;s median latency<SPAN style="LETTER-SPACING: 0.1pt"> </SPAN>has exceeded 1000 milliseconds, which is significantly high under wide-area network<SPAN style="LETTER-SPACING: 0.1pt"> </SPAN>conditions. Here is a brief explanation: In Rabia, pipelining optimization is not enabled,<SPAN style="LETTER-SPACING: 0.1pt"> </SPAN>meaning that at a certain time, only one request is processed at the same time, and the<SPAN style="LETTER-SPACING: 0.1pt"> </SPAN>processing of other requests needs to wait for the consensus of the request to be completed.<SPAN style="LETTER-SPACING: 0.1pt"> </SPAN>Under such conditions, since each write operation still needs to be encapsulated as a<SPAN style="LETTER-SPACING: 0.1pt"> </SPAN>consensus instance, and the Rabia consensus within a wide-area network requires multiple<SPAN style="LETTER-SPACING: 0.1pt"> </SPAN>rounds of communication, the latency to complete a write operation is about at the level of<SPAN style="LETTER-SPACING: 0.1pt"> </SPAN>hundreds<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>of<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>milliseconds.<SPAN style="LETTER-SPACING: 0.2pt"> </SPAN>Besides,<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>the<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>current<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>write<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>request<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>also<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>hinders<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>the<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>progress<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>of<SPAN style="LETTER-SPACING: 0.1pt"> </SPAN>subsequent<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>write<SPAN style="LETTER-SPACING: -0.5pt"> </SPAN>requests,<SPAN style="LETTER-SPACING: -0.5pt"> </SPAN>as<SPAN style="LETTER-SPACING: -0.5pt"> </SPAN>the<SPAN style="LETTER-SPACING: -0.5pt"> </SPAN>server<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>side<SPAN style="LETTER-SPACING: -0.5pt"> </SPAN>can<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>handle<SPAN style="LETTER-SPACING: -0.5pt"> </SPAN>only<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>one<SPAN style="LETTER-SPACING: -0.5pt"> </SPAN>consensus<SPAN style="LETTER-SPACING: -0.5pt"> </SPAN>instance<SPAN style="LETTER-SPACING: -0.5pt"> </SPAN>at<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>a<SPAN style="LETTER-SPACING: -2.2pt"> </SPAN>time. Therefore, the calculation renders the median latency of Rabia in a wide-area network<SPAN style="LETTER-SPACING: 0.1pt"> </SPAN>over 1000 milliseconds. Of course, it is also mentioned in the Rabia work that its design<SPAN style="LETTER-SPACING: 0.1pt"> </SPAN>makes<SPAN style="LETTER-SPACING: 0.5pt"> </SPAN>it<SPAN style="LETTER-SPACING: 0.5pt"> </SPAN>more<SPAN style="LETTER-SPACING: 0.5pt"> </SPAN>suitable<SPAN style="LETTER-SPACING: 0.5pt"> </SPAN>for<SPAN style="LETTER-SPACING: 0.5pt"> </SPAN>consensus<SPAN style="LETTER-SPACING: 0.5pt"> </SPAN>within<SPAN style="LETTER-SPACING: 0.5pt"> </SPAN>a<SPAN style="LETTER-SPACING: 0.5pt"> </SPAN>single<SPAN style="LETTER-SPACING: 0.5pt"> </SPAN>data<SPAN style="LETTER-SPACING: 0.5pt"> </SPAN>center.<SPAN style="LETTER-SPACING: 1.2pt"> </SPAN>Hence,<SPAN style="LETTER-SPACING: 0.5pt"> </SPAN>such<SPAN style="LETTER-SPACING: 0.5pt"> </SPAN>performance</P>
<P class=western style="MARGIN-TOP: 0.01in; PAGE-BREAK-BEFORE: always"><BR></P>
<P class=western style="MARGIN-TOP: 0.07in; MARGIN-LEFT: 1.89in; LINE-HEIGHT: 106%; MARGIN-RIGHT: 0.1in; TEXT-INDENT: 0in" align=justify>is<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>understandable.<SPAN style="LETTER-SPACING: 0.3pt"> </SPAN>What<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>we<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>primarily<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>aim<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>to<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>reveal<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>is<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>that<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>this<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>kind<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>of<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>read<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>optimization<SPAN style="LETTER-SPACING: -2.2pt"> </SPAN>indeed significantly lowers the median latency within the wide-area network, and if the<SPAN style="LETTER-SPACING: 0.1pt"> </SPAN>proportion<SPAN style="LETTER-SPACING: -0.5pt"> </SPAN>of<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>write<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>operations<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>continues<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>decreasing,<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>the<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>performance<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>improvement<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>will<SPAN style="LETTER-SPACING: -2.2pt"> </SPAN>become<SPAN style="LETTER-SPACING: 0.1pt"> </SPAN>more<SPAN style="LETTER-SPACING: 0.1pt"> </SPAN>noticeable.</P>
<P class=western style="MARGIN-TOP: 0in"><BR></P>
<P class=western style="MARGIN-TOP: 0.05in; MARGIN-LEFT: 2.11in" align=left><A name=_bookmark11></A><SPAN class=sd-abs-pos style="WIDTH: 26px; POSITION: absolute; LEFT: 1.92in; TOP: 0.19in"></SPAN><SPAN id=Frame51 style="BORDER-TOP: medium none; BORDER-RIGHT: medium none; WIDTH: 0.18in; BACKGROUND: #ffffff; BORDER-BOTTOM: medium none; POSITION: absolute; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0in; LEFT: 2.34in; BORDER-LEFT: medium none; TOP: 2.29in; PADDING-RIGHT: 0in">
<P style="MARGIN-LEFT: 0.01in; LINE-HEIGHT: 0.16in" dir=ltr align=left><FONT style="FONT-SIZE: 11pt" size=2><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 10pt" size=2>Latency</FONT></FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: -0.5pt"> </SPAN></FONT></FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 10pt" size=2>(meidan/99%ile)</FONT></FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: -0.5pt"> </SPAN></FONT></FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 10pt" size=2>(ms)</FONT></FONT></FONT></P></SPAN><SPAN class=sd-abs-pos style="WIDTH: 491px; POSITION: absolute; LEFT: 2.46in; TOP: 0.1in"></SPAN><FONT size=2><FONT face="Times New Roman, serif"><FONT size=2>3000</FONT></FONT></FONT> 
<P></P>
<P class=western><BR></P>
<P class=western style="MARGIN-TOP: 0.01in"><BR></P>
<P class=western style="MARGIN-LEFT: 2.11in" align=left><SPAN class=sd-abs-pos style="WIDTH: 19px; POSITION: absolute; LEFT: 6.02in; TOP: 0.52in"></SPAN><FONT style="FONT-SIZE: 11pt" size=2><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 10pt" size=2>2400</FONT></FONT></FONT></P>
<P class=western><BR></P>
<DIV id=Section3 style="column-count: 2" dir=ltr gutter="239">
<P class=western style="MARGIN-TOP: 0.01in">