<P class=western style="MARGIN-TOP: 0in; MARGIN-RIGHT: 0.34in" align=center><FONT style="FONT-SIZE: 11pt" size=2><FONT face="Palatino Linotype, serif"><FONT style="FONT-SIZE: 9pt; BACKGROUND-COLOR: #7be1e1" size=2><SPAN style="LETTER-SPACING: -0.1pt">Abstract</SPAN></FONT></FONT></FONT></P>
<P class=western style="MARGIN-TOP: 0.04in; MARGIN-LEFT: 0.55in; MARGIN-RIGHT: 0.89in" align=justify><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT style="FONT-SIZE: 9pt" size=2>Most modern in-memory database systems rely on multi-version concurrency control to support real-time data analysis without interfering with concurrent writes. However, this is not a good fit for heterogeneous workloads. We find that long version chains are the root cause of the throughput reduction. In this paper,</FONT><FONT style="FONT-SIZE: 9pt" size=2><SPAN style="LETTER-SPACING: 2pt"> </SPAN></FONT><FONT style="FONT-SIZE: 9pt" size=2>we</FONT><FONT style="FONT-SIZE: 9pt" size=2><SPAN style="LETTER-SPACING: 2pt"> </SPAN></FONT><FONT style="FONT-SIZE: 9pt" size=2>exploit</FONT><FONT style="FONT-SIZE: 9pt" size=2><SPAN style="LETTER-SPACING: 2pt"> </SPAN></FONT><FONT style="FONT-SIZE: 9pt" size=2>a</FONT><FONT style="FONT-SIZE: 9pt" size=2><SPAN style="LETTER-SPACING: 2pt"> </SPAN></FONT><FONT style="FONT-SIZE: 9pt" size=2>scalable</FONT><FONT style="FONT-SIZE: 9pt" size=2><SPAN style="LETTER-SPACING: 2pt"> </SPAN></FONT><FONT style="FONT-SIZE: 9pt" size=2>version-aware</FONT><FONT style="FONT-SIZE: 9pt" size=2><SPAN style="LETTER-SPACING: 2pt"> </SPAN></FONT><FONT style="FONT-SIZE: 9pt" size=2>data</FONT><FONT style="FONT-SIZE: 9pt" size=2><SPAN style="LETTER-SPACING: 2pt"> </SPAN></FONT><FONT style="FONT-SIZE: 9pt" size=2>partitioning</FONT><FONT style="FONT-SIZE: 9pt" size=2><SPAN style="LETTER-SPACING: 2pt"> </SPAN></FONT><FONT style="FONT-SIZE: 9pt" size=2>and</FONT><FONT style="FONT-SIZE: 9pt" size=2><SPAN style="LETTER-SPACING: 2pt"> </SPAN></FONT><FONT style="FONT-SIZE: 9pt" size=2>placement</FONT><FONT style="FONT-SIZE: 9pt" size=2><SPAN style="LETTER-SPACING: 2pt"> </SPAN></FONT><FONT style="FONT-SIZE: 9pt" size=2>approach for</FONT><FONT style="FONT-SIZE: 9pt" size=2><SPAN style="LETTER-SPACING: 1.8pt"> </SPAN></FONT><FONT style="FONT-SIZE: 9pt" size=2>heterogeneous</FONT><FONT style="FONT-SIZE: 9pt" size=2><SPAN style="LETTER-SPACING: 1.8pt"> </SPAN></FONT><FONT style="FONT-SIZE: 9pt" size=2>workloads</FONT><FONT style="FONT-SIZE: 9pt" size=2><SPAN style="LETTER-SPACING: 1.8pt"> </SPAN></FONT><FONT style="FONT-SIZE: 9pt" size=2>that</FONT><FONT style="FONT-SIZE: 9pt" size=2><SPAN style="LETTER-SPACING: 1.8pt"> </SPAN></FONT><FONT style="FONT-SIZE: 9pt" size=2>incorporates</FONT><FONT style="FONT-SIZE: 9pt" size=2><SPAN style="LETTER-SPACING: 1.8pt"> </SPAN></FONT><FONT style="FONT-SIZE: 9pt" size=2>a</FONT><FONT style="FONT-SIZE: 9pt" size=2><SPAN style="LETTER-SPACING: 1.8pt"> </SPAN></FONT><FONT style="FONT-SIZE: 9pt" size=2>suite</FONT><FONT style="FONT-SIZE: 9pt" size=2><SPAN style="LETTER-SPACING: 1.8pt"> </SPAN></FONT><FONT style="FONT-SIZE: 9pt" size=2>of</FONT><FONT style="FONT-SIZE: 9pt" size=2><SPAN style="LETTER-SPACING: 1.8pt"> </SPAN></FONT><FONT style="FONT-SIZE: 9pt" size=2>optimized</FONT><FONT style="FONT-SIZE: 9pt" size=2><SPAN style="LETTER-SPACING: 1.8pt"> </SPAN></FONT><FONT style="FONT-SIZE: 9pt" size=2>techniques to significantly reduce the overheads incurred both during the initial placement</FONT><FONT style="FONT-SIZE: 9pt" size=2><SPAN style="LETTER-SPACING: 4pt"> </SPAN></FONT><FONT style="FONT-SIZE: 9pt" size=2>and during version ingestion at runtime. The experiment results show that the proposed approach achieves 2x performance improvement compared with existing state-of-the-art approaches.</FONT></FONT></FONT></P>
<P class=western style="MARGIN-TOP: 0.14in; MARGIN-LEFT: 0.55in; LINE-HEIGHT: 96%; MARGIN-RIGHT: 0.7in" align=left><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT face="Georgia, serif"><FONT style="FONT-SIZE: 8pt" size=1>Keywords: </FONT></FONT><FONT style="FONT-SIZE: 8pt" size=1>In-memory databases, multi-versioning, heterogeneous workloads, data</FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 2pt"> </SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.1pt">placement</SPAN></FONT></FONT></FONT></P>
<P class=western><FONT class=extract><BR></FONT></P>
<P class=western><FONT class=extract><BR></FONT></P>
<P class=western style="MARGIN-TOP: 0.08in"><FONT class=extract><BR></FONT></P>
<OL>
<LI>
<H1 class=western style="MARGIN-TOP: 0in; LINE-HEIGHT: 100%; TEXT-INDENT: 0in" align=left><A name=Introduction></A><SPAN style="LETTER-SPACING: -0.1pt"><FONT class=extract>Introduction</FONT></SPAN></H1></LI></OL>
<P class=western style="MARGIN-TOP: 0.1in; MARGIN-LEFT: 0.22in; LINE-HEIGHT: 98%; MARGIN-RIGHT: 0.56in" align=justify><FONT class=extract>Over<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>the<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>past<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>decade,<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>the<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>need<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>for<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>massive<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>real-time<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>data<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>processing<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>and<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>the<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>improve- ment of new memory technologies have boosted the development of in-memory database systems (IMDBs) [</FONT><A href="file:///C:/SuperMemo/systems/Incremental/temp/HTMLFile.htm#_bookmark22"><FONT class=extract color=#0000ff>1</FONT></A><FONT class=extract>&#8211;</FONT><A href="file:///C:/SuperMemo/systems/Incremental/temp/HTMLFile.htm#_bookmark28"><FONT class=extract color=#0000ff>11</FONT></A><FONT class=extract>]. These systems commonly execute several parallel transactions<SPAN style="LETTER-SPACING: 2pt"> </SPAN>to<SPAN style="LETTER-SPACING: 2pt"> </SPAN>exploit<SPAN style="LETTER-SPACING: 2pt"> </SPAN>the<SPAN style="LETTER-SPACING: 2pt"> </SPAN>increasing<SPAN style="LETTER-SPACING: 2pt"> </SPAN>number<SPAN style="LETTER-SPACING: 2pt"> </SPAN>of<SPAN style="LETTER-SPACING: 2pt"> </SPAN>modern<SPAN style="LETTER-SPACING: 2pt"> </SPAN>CPU<SPAN style="LETTER-SPACING: 2pt"> </SPAN>cores.<SPAN style="LETTER-SPACING: 2pt"> </SPAN><SPAN style="LETTER-SPACING: -0.1pt">Concurrently</SPAN></FONT></P>
<P class=western style="MARGIN-TOP: 0.15in"><FONT class=extract><BR></FONT></P>
<P class=western style="MARGIN-RIGHT: 0.34in" align=center><SPAN style="LETTER-SPACING: -0.5pt"><FONT class=extract>1</FONT></SPAN></P>
<P class=western style="MARGIN-TOP: 0.03in; PAGE-BREAK-BEFORE: always; MARGIN-LEFT: 0.56in; LINE-HEIGHT: 98%; MARGIN-RIGHT: 0.22in" align=justify><FONT class=extract>running transactions may lead to conflicting data accesses, so the system needs to guarantee data consistency while providing good scalability. In practice, most IMDBs today rely on Multi-Version Concurrency Control (MVCC) to support frequent low- latency update transactions while not blocking the long-running queries executing <SPAN style="LETTER-SPACING: -0.1pt">[</SPAN></FONT><A href="file:///C:/SuperMemo/systems/Incremental/temp/HTMLFile.htm#_bookmark29"><FONT class=extract color=#0000ff><SPAN style="LETTER-SPACING: -0.1pt">12</SPAN></FONT></A><SPAN style="LETTER-SPACING: -0.1pt"><FONT class=extract>&#8211;</FONT></SPAN><A href="file:///C:/SuperMemo/systems/Incremental/temp/HTMLFile.htm#_bookmark32"><FONT class=extract color=#0000ff><SPAN style="LETTER-SPACING: -0.1pt">16</SPAN></FONT></A><SPAN style="LETTER-SPACING: -0.1pt"><FONT class=extract>].</FONT></SPAN></P>
<P class=western style="MARGIN-TOP: 0in; MARGIN-LEFT: 0.56in; LINE-HEIGHT: 98%; MARGIN-RIGHT: 0.22in; TEXT-INDENT: 0.21in" align=right><FONT class=extract>The core idea of MVCC is simple yet powerful: For each update operation, the sys- tem<SPAN style="LETTER-SPACING: -0.5pt"> </SPAN>produces<SPAN style="LETTER-SPACING: -0.5pt"> </SPAN>a<SPAN style="LETTER-SPACING: -0.5pt"> </SPAN>new<SPAN style="LETTER-SPACING: -0.5pt"> </SPAN>timestamped<SPAN style="LETTER-SPACING: -0.5pt"> </SPAN>version<SPAN style="LETTER-SPACING: -0.5pt"> </SPAN>of<SPAN style="LETTER-SPACING: -0.5pt"> </SPAN>the<SPAN style="LETTER-SPACING: -0.5pt"> </SPAN>tuple,<SPAN style="LETTER-SPACING: -0.5pt"> </SPAN>forming<SPAN style="LETTER-SPACING: -0.5pt"> </SPAN>a<SPAN style="LETTER-SPACING: -0.5pt"> </SPAN>pointer-based<SPAN style="LETTER-SPACING: -0.5pt"> </SPAN>version chain. Read operations use a timestamp to read the most recently updated version of the tuple at the time the query starts. Thereby, transactions can work on a consistent snapshot<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>of<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>the<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>tuple<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>without<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>blocking<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>others.<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>In<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>contrast<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>to<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>other<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>concurrency<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>control protocols,<SPAN style="LETTER-SPACING: 0.9pt"> </SPAN>readers<SPAN style="LETTER-SPACING: 0.9pt"> </SPAN>can<SPAN style="LETTER-SPACING: 0.9pt"> </SPAN>access<SPAN style="LETTER-SPACING: 0.9pt"> </SPAN>older<SPAN style="LETTER-SPACING: 0.9pt"> </SPAN>snapshots<SPAN style="LETTER-SPACING: 0.9pt"> </SPAN>of<SPAN style="LETTER-SPACING: 0.9pt"> </SPAN>the<SPAN style="LETTER-SPACING: 0.9pt"> </SPAN>tuple<SPAN style="LETTER-SPACING: 0.9pt"> </SPAN>while<SPAN style="LETTER-SPACING: 0.9pt"> </SPAN>writers<SPAN style="LETTER-SPACING: 0.9pt"> </SPAN>are<SPAN style="LETTER-SPACING: 0.9pt"> </SPAN>creating new tuple versions. While MVCC itself is non-blocking and scalable, it has an inherent problem<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>of<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>traversing<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>long<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>version<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>chains<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>under<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>heterogeneous<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>workloads<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>[</FONT><A href="file:///C:/SuperMemo/systems/Incremental/temp/HTMLFile.htm#_bookmark27"><FONT class=extract color=#0000ff>10</FONT></A><FONT class=extract>,<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT><A href="file:///C:/SuperMemo/systems/Incremental/temp/HTMLFile.htm#_bookmark28"><FONT class=extract color=#0000ff>11</FONT></A><FONT class=extract>,<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT><A href="file:///C:/SuperMemo/systems/Incremental/temp/HTMLFile.htm#_bookmark32"><FONT class=extract color=#0000ff>16</FONT></A><FONT class=extract>]. In<SPAN style="LETTER-SPACING: 2pt"> </SPAN>existing<SPAN style="LETTER-SPACING: 2pt"> </SPAN>version<SPAN style="LETTER-SPACING: 2pt"> </SPAN>storage<SPAN style="LETTER-SPACING: 2pt"> </SPAN>implementations,<SPAN style="LETTER-SPACING: 2pt"> </SPAN>tables&#8217;<SPAN style="LETTER-SPACING: 2pt"> </SPAN>tuples<SPAN style="LETTER-SPACING: 2pt"> </SPAN>are<SPAN style="LETTER-SPACING: 2pt"> </SPAN>stored<SPAN style="LETTER-SPACING: 2pt"> </SPAN>in<SPAN style="LETTER-SPACING: 2pt"> </SPAN>a<SPAN style="LETTER-SPACING: 2pt"> </SPAN>tradi- tional data placement manner (tuple-oriented or column-oriented). For instance, in a tuple-oriented manner, the system stores all of the columns for a single tuple version contiguously,<SPAN style="LETTER-SPACING: 1.3pt"> </SPAN>and<SPAN style="LETTER-SPACING: 1.3pt"> </SPAN>all<SPAN style="LETTER-SPACING: 1.3pt"> </SPAN>versions<SPAN style="LETTER-SPACING: 1.3pt"> </SPAN>of<SPAN style="LETTER-SPACING: 1.3pt"> </SPAN>the<SPAN style="LETTER-SPACING: 1.3pt"> </SPAN>same<SPAN style="LETTER-SPACING: 1.3pt"> </SPAN>tuple<SPAN style="LETTER-SPACING: 1.3pt"> </SPAN>are<SPAN style="LETTER-SPACING: 1.3pt"> </SPAN>organized<SPAN style="LETTER-SPACING: 1.3pt"> </SPAN>as<SPAN style="LETTER-SPACING: 1.3pt"> </SPAN>a<SPAN style="LETTER-SPACING: 1.3pt"> </SPAN>linked<SPAN style="LETTER-SPACING: 1.3pt"> </SPAN>list<SPAN style="LETTER-SPACING: 1.3pt"> </SPAN>or<SPAN style="LETTER-SPACING: 1.3pt"> </SPAN>an array.<SPAN style="LETTER-SPACING: 0.6pt"> </SPAN>The<SPAN style="LETTER-SPACING: 0.6pt"> </SPAN>system<SPAN style="LETTER-SPACING: 0.6pt"> </SPAN>keeps<SPAN style="LETTER-SPACING: 0.6pt"> </SPAN>the<SPAN style="LETTER-SPACING: 0.6pt"> </SPAN>table&#8217;s<SPAN style="LETTER-SPACING: 0.6pt"> </SPAN>versioning<SPAN style="LETTER-SPACING: 0.6pt"> </SPAN>information<SPAN style="LETTER-SPACING: 0.6pt"> </SPAN>separate<SPAN style="LETTER-SPACING: 0.6pt"> </SPAN>from<SPAN style="LETTER-SPACING: 0.6pt"> </SPAN>its<SPAN style="LETTER-SPACING: 0.6pt"> </SPAN><SPAN style="LETTER-SPACING: -0.1pt">indexes.</SPAN></FONT></P>
<P class=western style="MARGIN-TOP: 0.01in; MARGIN-LEFT: 0.56in; LINE-HEIGHT: 98%; MARGIN-RIGHT: 0.22in" align=justify><FONT class=extract>Generally, an index entry is a key/value pair, where the key is a tuple&#8217;s indexed column(s),<SPAN style="LETTER-SPACING: 1.4pt"> </SPAN>and<SPAN style="LETTER-SPACING: 1.4pt"> </SPAN>the<SPAN style="LETTER-SPACING: 1.4pt"> </SPAN>value<SPAN style="LETTER-SPACING: 1.4pt"> </SPAN>is<SPAN style="LETTER-SPACING: 1.4pt"> </SPAN>a<SPAN style="LETTER-SPACING: 1.4pt"> </SPAN>pointer<SPAN style="LETTER-SPACING: 1.4pt"> </SPAN>to<SPAN style="LETTER-SPACING: 1.4pt"> </SPAN>the<SPAN style="LETTER-SPACING: 1.4pt"> </SPAN>version<SPAN style="LETTER-SPACING: 1.4pt"> </SPAN>chain<SPAN style="LETTER-SPACING: 1.4pt"> </SPAN>of<SPAN style="LETTER-SPACING: 1.4pt"> </SPAN>that<SPAN style="LETTER-SPACING: 1.4pt"> </SPAN>tuple.</FONT></P>
<P class=western style="MARGIN-TOP: 0.14in"><FONT class=extract><BR></FONT></P>
<DIV id=Section1 style="column-count: 4" dir=ltr gutter="4">
<P class=western><FONT class=extract><BR></FONT></P>
<P class=western style="MARGIN-TOP: 0.05in"><FONT class=extract><BR></FONT></P>
<P class=western style="MARGIN-LEFT: 1.06in; LINE-HEIGHT: 103%; TEXT-INDENT: 0.02in" align=right><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT style="FONT-SIZE: 6pt" size=1>primary</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 6pt" size=1>key</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: 2pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 6pt" size=1>tuple</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: -0.1pt">pointer</SPAN></FONT></FONT></FONT></P>
<P class=western style="MARGIN-TOP: 0.04in; LINE-HEIGHT: 100%"><FONT class=extract><BR></FONT></P>
<P class=western style="MARGIN-LEFT: 0.19in; LINE-HEIGHT: 283%; TEXT-INDENT: -0.03in" align=left><SPAN class=sd-abs-pos style="WIDTH: 35px; POSITION: absolute; LEFT: 0.8in; TOP: 0.37in"><FONT class=extract></FONT></SPAN><SPAN class=sd-abs-pos style="WIDTH: 35px; POSITION: absolute; LEFT: 1.26in; TOP: 0.37in"><FONT class=extract></FONT></SPAN><SPAN class=sd-abs-pos style="WIDTH: 66px; POSITION: absolute; LEFT: 0.74in; TOP: -0.11in"><FONT class=extract></FONT></SPAN><SPAN id=Frame1 style="BORDER-TOP: medium none; BORDER-RIGHT: medium none; WIDTH: 0.46in; BACKGROUND: #ffffff; BORDER-BOTTOM: medium none; POSITION: absolute; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0in; LEFT: 3.46in; BORDER-LEFT: medium none; TOP: 4.87in; PADDING-RIGHT: 0in" dir=ltr>
<P style="MARGIN-LEFT: 0.01in; LINE-HEIGHT: 0.08in" align=left><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT style="FONT-SIZE: 6pt" size=1><I>Txn</I></FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 6pt" size=1>Id</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: -0.2pt">2001</SPAN></FONT></FONT></FONT></P>
<P style="MARGIN-LEFT: 0.04in; LINE-HEIGHT: 0.09in" align=left><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT style="FONT-SIZE: 6pt" size=1><I>Wts</I></FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: -0.3pt"><I>800</I></SPAN></FONT></FONT></FONT></P></SPAN><SPAN class=sd-abs-pos style="WIDTH: 345px; POSITION: absolute; LEFT: -0.26in; TOP: -0.16in"><FONT class=extract></FONT></SPAN><FONT class=extract><FONT size=2><FONT size=1>...</FONT><FONT face="Times New Roman, serif"><FONT size=1> </FONT></FONT><FONT size=1>10,</FONT></FONT> </FONT>
<P></P>
<P class=western style="MARGIN-TOP: 0.06in; MARGIN-LEFT: 0.89in; LINE-HEIGHT: 103%; TEXT-INDENT: 0.09in" align=left><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT style="FONT-SIZE: 4pt" size=1>Most</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 4pt" size=1><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 4pt" size=1>recent</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 4pt" size=1><SPAN style="LETTER-SPACING: 2pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 4pt" size=1><SPAN style="LETTER-SPACING: -0.1pt">update</SPAN></FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 4pt" size=1><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 4pt" size=1><SPAN style="LETTER-SPACING: -0.1pt">transaction</SPAN></FONT></FONT></FONT></P>
<P class=western style="MARGIN-TOP: 0.07in; MARGIN-LEFT: 0.73in; LINE-HEIGHT: 103%; MARGIN-RIGHT: 1.56in; TEXT-INDENT: -0.02in" align=left><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT style="FONT-SIZE: 4pt" size=1>Long</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 4pt" size=1><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 4pt" size=1>running</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 4pt" size=1><SPAN style="LETTER-SPACING: 2pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 4pt" size=1><SPAN style="LETTER-SPACING: -0.1pt">transaction</SPAN></FONT></FONT></FONT></P>
<P class=western><FONT class=extract><BR></FONT></P>
<P class=western style="MARGIN-TOP: 0.07in"><FONT class=extract><BR></FONT></P>
<P class=western style="MARGIN-TOP: 0in; MARGIN-LEFT: 0.42in" align=left><SPAN class=sd-abs-pos style="WIDTH: 35px; POSITION: absolute; LEFT: -0.02in; TOP: 0.06in"><FONT class=extract></FONT></SPAN><SPAN class=sd-abs-pos style="WIDTH: 133px; POSITION: absolute; LEFT: 0.55in; TOP: -0.2in"><FONT class=extract></FONT></SPAN><SPAN class=sd-abs-pos style="WIDTH: 59px; POSITION: absolute; LEFT: 1.1in; TOP: -0.42in"><FONT class=extract></FONT></SPAN><SPAN id=Frame2 style="BORDER-TOP: medium none; BORDER-RIGHT: medium none; WIDTH: 0.41in; BACKGROUND: #ffffff; BORDER-BOTTOM: medium none; POSITION: absolute; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0in; LEFT: 5.58in; BORDER-LEFT: medium none; TOP: 4.86in; PADDING-RIGHT: 0in" dir=ltr>
<P style="MARGIN-LEFT: 0.05in; LINE-HEIGHT: 0.09in" align=left><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT style="FONT-SIZE: 6pt" size=1><I>Txn</I></FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 6pt" size=1>Id</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: -0.5pt">2</SPAN></FONT></FONT></FONT></P>
<P style="MARGIN-LEFT: 0.07in; LINE-HEIGHT: 0.09in" align=left><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT style="FONT-SIZE: 6pt" size=1><I>Rts</I></FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: -0.3pt"><I>132</I></SPAN></FONT></FONT></FONT></P></SPAN><FONT class=extract>&#8230; </FONT>
<P></P></DIV>
<DIV id=Section2 style="column-count: 2" dir=ltr gutter="4">
<OL type=a>
<LI>
<P style="LINE-HEIGHT: 0.07in" align=left><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT style="FONT-SIZE: 6pt" size=1>Existing</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 6pt" size=1>data</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 6pt" size=1>layout:</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 6pt" size=1>na&#239;ve</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 6pt" size=1>version</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 6pt" size=1>chains</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 6pt" size=1>and</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 6pt" size=1>linear</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: -0.1pt">traversals</SPAN></FONT></FONT></FONT></P></LI></OL>
<P class=western style="MARGIN-LEFT: 0.38in; LINE-HEIGHT: 0.04in"><FONT class=extract></FONT></P>
<P class=western style="MARGIN-TOP: 0.01in; MARGIN-LEFT: 0.39in" align=left><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT style="FONT-SIZE: 4pt" size=1>version</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 4pt" size=1><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 4pt" size=1><SPAN style="LETTER-SPACING: -0.2pt">links</SPAN></FONT></FONT></FONT></P></DIV>
<DIV id=Section3 style="column-count: 5" dir=ltr gutter="4">
<P class=western><FONT class=extract><BR></FONT></P>
<P class=western style="MARGIN-TOP: 0.06in"><FONT class=extract><BR></FONT></P>
<P class=western style="MARGIN-LEFT: 1.06in; LINE-HEIGHT: 103%; TEXT-INDENT: 0.03in" align=left><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT style="FONT-SIZE: 6pt" size=1>primary</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 6pt" size=1>key</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: 2pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 6pt" size=1>latest</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: -0.1pt">version</SPAN></FONT></FONT></FONT></P>
<P class=western style="MARGIN-TOP: 0.08in; LINE-HEIGHT: 100%"><FONT class=extract><BR></FONT></P>
<P class=western align=right><FONT style="FONT-SIZE: 11pt" size=2><FONT style="FONT-SIZE: 6pt; BACKGROUND-COLOR: #7be1e1" size=1><SPAN style="LETTER-SPACING: -0.3pt">...</SPAN></FONT></FONT></P>
<P class=western style="MARGIN-TOP: 0.03in; LINE-HEIGHT: 100%"><FONT class=extract><BR></FONT></P>
<P class=western style="MARGIN-LEFT: 0.39in; LINE-HEIGHT: 0.09in" align=left><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT style="FONT-SIZE: 6pt" size=1><I>Txn</I></FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 6pt" size=1>Id</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: -0.2pt">2001</SPAN></FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 6pt" size=1> </FONT></FONT><FONT style="FONT-SIZE: 4pt" size=1>Most</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 4pt" size=1><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 4pt" size=1><SPAN style="LETTER-SPACING: -0.1pt">recent</SPAN></FONT></FONT></FONT></P>
<P class=western style="MARGIN-LEFT: 0.43in; LINE-HEIGHT: 0.09in" align=left><SPAN class=sd-abs-pos style="WIDTH: 271px; POSITION: absolute; LEFT: -0.51in; TOP: -0.17in"><FONT class=extract></FONT></SPAN><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT style="FONT-SIZE: 6pt" size=1><I>Wts</I></FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: -0.3pt"><I>800</I></SPAN></FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 6pt" size=1> </FONT></FONT><SUP><FONT style="FONT-SIZE: 4pt" size=1><SPAN style="LETTER-SPACING: -0.1pt">update</SPAN></FONT></SUP><SUP><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 4pt" size=1><SPAN style="LETTER-SPACING: 0.2pt"> </SPAN></FONT></FONT></SUP><SUP><FONT style="FONT-SIZE: 4pt" size=1><SPAN style="LETTER-SPACING: -0.1pt">transaction</SPAN></FONT></SUP></FONT></FONT></P>
<P class=western style="MARGIN-TOP: 0.02in; LINE-HEIGHT: 100%"><FONT class=extract><BR></FONT></P>
<P class=western style="MARGIN-LEFT: 0.32in; LINE-HEIGHT: 103%; TEXT-INDENT: -0.02in" align=left><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT style="FONT-SIZE: 4pt" size=1><SPAN style="LETTER-SPACING: -0.1pt">Long</SPAN></FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 4pt" size=1><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 4pt" size=1><SPAN style="LETTER-SPACING: -0.1pt">running</SPAN></FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 4pt" size=1><SPAN style="LETTER-SPACING: 2pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 4pt" size=1><SPAN style="LETTER-SPACING: -0.1pt">transaction</SPAN></FONT></FONT></FONT></P>
<P class=western style="MARGIN-TOP: 0.01in"><FONT class=extract><BR></FONT></P>
<P class=western style="MARGIN-LEFT: 0.08in" align=left><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT style="FONT-SIZE: 4pt" size=1><I>compute</I></FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 4pt" size=1><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 4pt" size=1><I>a</I></FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 4pt" size=1><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 4pt" size=1><I>visible</I></FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 4pt" size=1><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 4pt" size=1><SPAN style="LETTER-SPACING: -0.1pt"><I>partition</I></SPAN></FONT></FONT></FONT></P>
<P class=western style="MARGIN-LEFT: 0.66in; LINE-HEIGHT: 0.04in"><FONT class=extract></FONT></P>
<P class=western style="MARGIN-TOP: 0.02in; MARGIN-LEFT: 0.64in" align=left><SPAN class=sd-abs-pos style="WIDTH: 120px; POSITION: absolute; LEFT: -0.43in; TOP: 0.05in"><FONT class=extract></FONT></SPAN><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT style="FONT-SIZE: 4pt" size=1>version</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 4pt" size=1><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 4pt" size=1><SPAN style="LETTER-SPACING: -0.1pt">search</SPAN></FONT></FONT></FONT></P>
<P class=western style="MARGIN-TOP: 0.04in; MARGIN-LEFT: 0.67in" align=left><SPAN class=sd-abs-pos style="WIDTH: 53px; POSITION: absolute; LEFT: 0.64in; TOP: 0.05in"><FONT class=extract></FONT></SPAN><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT style="FONT-SIZE: 4pt" size=1><I>V</I></FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 4pt" size=1><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 4pt" size=1><SPAN style="LETTER-SPACING: -0.1pt">(800,INF)</SPAN></FONT></FONT></FONT></P>
<P class=western style="MARGIN-TOP: 0.02in; MARGIN-LEFT: 0.58in" align=left><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT style="FONT-SIZE: 4pt" size=1>version</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 4pt" size=1><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 4pt" size=1><SPAN style="LETTER-SPACING: -0.1pt">timestamps</SPAN></FONT></FONT></FONT></P>
<P class=western style="MARGIN-TOP: 0.03in; MARGIN-LEFT: 0.7in" align=left><SPAN class=sd-abs-pos style="WIDTH: 53px; POSITION: absolute; LEFT: 0.65in; TOP: 0.04in"><FONT class=extract></FONT></SPAN><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT style="FONT-SIZE: 4pt" size=1>10</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 4pt" size=1><SPAN style="LETTER-SPACING: 2.3pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 4pt" size=1><SPAN style="LETTER-SPACING: -0.3pt">300</SPAN></FONT></FONT></FONT></P></DIV>
<DIV id=Section4 style="column-count: 5" dir=ltr gutter="4">
<P class=western style="MARGIN-TOP: 0.02in" align=right><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT style="FONT-SIZE: 4pt" size=1><I>V</I></FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 4pt" size=1><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 4pt" size=1><SPAN style="LETTER-SPACING: -0.1pt">(800,INF)</SPAN></FONT></FONT></FONT></P>
<P class=western style="MARGIN-TOP: 0in; MARGIN-RIGHT: 0.06in" align=right><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT style="FONT-SIZE: 4pt" size=1>10</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 4pt" size=1><SPAN style="LETTER-SPACING: 1.3pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 4pt" size=1><SPAN style="LETTER-SPACING: -0.3pt">300</SPAN></FONT></FONT></FONT></P>
<P class=western style="MARGIN-LEFT: 0.35in; LINE-HEIGHT: 0.07in" align=center><FONT style="FONT-SIZE: 11pt" size=2><FONT style="FONT-SIZE: 6pt; BACKGROUND-COLOR: #7be1e1" size=1><SPAN style="LETTER-SPACING: -0.1pt"><I>Version</I></SPAN></FONT></FONT></P>
<P class=western style="MARGIN-TOP: 0in; MARGIN-LEFT: 0.34in" align=center><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: -0.1pt"><I>partition</I></SPAN></FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: 0.5pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: -0.3pt"><I>10</I></SPAN></FONT></FONT></FONT></P>
<P class=western style="MARGIN-LEFT: 0.06in; LINE-HEIGHT: 0.07in" align=left><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT style="FONT-SIZE: 4pt" size=1>11</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 4pt" size=1><SPAN style="LETTER-SPACING: 1.3pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 4pt" size=1><SPAN style="LETTER-SPACING: -0.3pt">380</SPAN></FONT></FONT></FONT></P>
<P class=western style="MARGIN-TOP: 0in; MARGIN-LEFT: 0.06in" align=left><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT style="FONT-SIZE: 4pt" size=1>10</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 4pt" size=1><SPAN style="LETTER-SPACING: 1.3pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 4pt" size=1><SPAN style="LETTER-SPACING: -0.3pt">280</SPAN></FONT></FONT></FONT></P>
<P class=western style="MARGIN-TOP: 0.05in" align=right><SPAN style="LETTER-SPACING: -0.5pt"><FONT class=extract>&#8230;</FONT></SPAN></P>
<P class=western style="MARGIN-LEFT: 1.23in; LINE-HEIGHT: 0.07in" align=left><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT style="FONT-SIZE: 4pt" size=1><SPAN style="LETTER-SPACING: -0.1pt">tuple</SPAN></FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 4pt" size=1><SPAN style="LETTER-SPACING: 0.2pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 4pt" size=1><SPAN style="LETTER-SPACING: -0.1pt">content</SPAN></FONT></FONT></FONT></P>
<P class=western style="MARGIN-TOP: 0in; MARGIN-LEFT: 1.23in; LINE-HEIGHT: 103%; MARGIN-RIGHT: 0.84in" align=left><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT style="FONT-SIZE: 4pt" size=1>column0:</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 4pt" size=1><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 4pt" size=1>id</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 4pt" size=1><SPAN style="LETTER-SPACING: 2pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 4pt" size=1>column1:</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 4pt" size=1><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 4pt" size=1>salary</FONT></FONT></FONT></P></DIV>
<DIV id=Section5 dir=ltr>
<OL type=a start=2>
<LI>
<P style="MARGIN-TOP: 0.08in; LINE-HEIGHT: 100%" align=left><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT style="FONT-SIZE: 6pt" size=1>Version-aware</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 6pt" size=1>data</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 6pt" size=1>layout:</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 6pt" size=1>partitioned</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 6pt" size=1>version</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 6pt" size=1>storage</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 6pt" size=1>and</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 6pt" size=1>version</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 6pt" size=1>visibility</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: -0.1pt">compute</SPAN></FONT></FONT></FONT></P></LI></OL>
<P class=western style="MARGIN-TOP: 0.13in; MARGIN-LEFT: 0.56in; LINE-HEIGHT: 96%; MARGIN-RIGHT: 0.22in" align=left><A name=_bookmark0></A><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT face="Georgia, serif"><FONT style="FONT-SIZE: 8pt" size=1>Fig.</FONT></FONT><FONT face="Georgia, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 1.4pt"> </SPAN></FONT></FONT><FONT face="Georgia, serif"><FONT style="FONT-SIZE: 8pt" size=1>1</FONT></FONT><FONT face="Georgia, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 2pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 8pt" size=1>Different</FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 1.1pt"> </SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1>data</FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 1.1pt"> </SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1>placements</FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 1.1pt"> </SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1>and</FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 1.1pt"> </SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1>access</FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 1.1pt"> </SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1>patterns</FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 1.1pt"> </SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1>in</FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 1.1pt"> </SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1>in-memory</FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 1.1pt"> </SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1>MVCC</FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 1.1pt"> </SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1>database</FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 1.1pt"> </SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1>systems.</FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 1.1pt"> </SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1>A table comprises of two columns (id and salary).</FONT></FONT></FONT></P>
<P class=western style="MARGIN-TOP: 0.09in"><FONT class=extract><BR></FONT></P>
<P class=western style="MARGIN-TOP: 0in; MARGIN-LEFT: 0.56in; LINE-HEIGHT: 98%; MARGIN-RIGHT: 0.22in; TEXT-INDENT: 0.21in" align=justify><FONT class=extract>As shown in Figure <FONT color=#0000ff><A href="file:///C:/SuperMemo/systems/Incremental/temp/HTMLFile.htm#_bookmark0"><FONT color=#000080>1</FONT></A> </FONT>(a), a transaction (TxnID 2001) attempts to update a tuple (tupleID 10); it first traverses the root-to-leaf paths in the table index, then reaches<SPAN style="LETTER-SPACING: 4pt"> </SPAN>the version storage and iterates the version chain to retrieve the latest tuple version. When the transaction is committed, it adds a new tuple version (10,300) with V(800, INF) timestamps to the version chain. The worst-case scenario may arise when run- ning<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>highly<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>skewed<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>workloads<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>that<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>produce<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>version<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>chains<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>with<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>highly<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>variable<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>lengths. Suppose that, in the meantime, a long-running transaction (TxnID 2) attempts to read the tuple; it follows the same index search path as in transaction (TxnID 2001); how- ever, it has to iterate the chain to the very end to retrieve the visible version (10,115) with<SPAN style="LETTER-SPACING: 1.1pt"> </SPAN>V(130,140)<SPAN style="LETTER-SPACING: 1.1pt"> </SPAN>timestamps.<SPAN style="LETTER-SPACING: 1.1pt"> </SPAN>Unfortunately,<SPAN style="LETTER-SPACING: 1.1pt"> </SPAN>a<SPAN style="LETTER-SPACING: 1.1pt"> </SPAN>long-running<SPAN style="LETTER-SPACING: 1.1pt"> </SPAN>query<SPAN style="LETTER-SPACING: 1.1pt"> </SPAN>often<SPAN style="LETTER-SPACING: 1.1pt"> </SPAN>comprises<SPAN style="LETTER-SPACING: 1.1pt"> </SPAN><SPAN style="LETTER-SPACING: -0.5pt">a</SPAN></FONT></P>
<P class=western style="MARGIN-TOP: 0.09in"><FONT class=extract><BR></FONT></P>
<P class=western style="MARGIN-LEFT: 0.34in" align=center><SPAN style="LETTER-SPACING: -0.5pt"><FONT class=extract>2</FONT></SPAN></P></DIV>
<P class=western style="MARGIN-TOP: 0.03in; PAGE-BREAK-BEFORE: always; MARGIN-LEFT: 0.22in; LINE-HEIGHT: 98%; MARGIN-RIGHT: 0.56in" align=justify><FONT class=extract>series<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>of<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>search<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>operations,<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>each<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>of<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>which<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>internally<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>needs<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>to<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>execute<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>a<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>linear<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>traversal of tuple versions.</FONT></P>
<P class=western style="MARGIN-TOP: 0in; MARGIN-LEFT: 0.22in; LINE-HEIGHT: 98%; MARGIN-RIGHT: 0.56in; TEXT-INDENT: 0.21in" align=justify><FONT class=extract>To qualify the effect of updates on the performance of long-running queries, we designed<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>a<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>simple<SPAN style="LETTER-SPACING: -0.5pt"> </SPAN>experiment<SPAN style="LETTER-SPACING: -0.5pt"> </SPAN>with<SPAN style="LETTER-SPACING: -0.5pt"> </SPAN>YCSB<SPAN style="LETTER-SPACING: -0.8pt"> </SPAN>[</FONT><A href="file:///C:/SuperMemo/systems/Incremental/temp/HTMLFile.htm#_bookmark33"><FONT class=extract color=#0000ff>17</FONT></A><FONT class=extract>]<SPAN style="LETTER-SPACING: -0.5pt"> </SPAN>benchmark<SPAN style="LETTER-SPACING: -0.5pt"> </SPAN>and<SPAN style="LETTER-SPACING: -0.5pt"> </SPAN>Peloton<SPAN style="LETTER-SPACING: -0.5pt"> </SPAN>[</FONT><A href="file:///C:/SuperMemo/systems/Incremental/temp/HTMLFile.htm#_bookmark22"><FONT class=extract color=#0000ff>1</FONT></A><FONT class=extract>,<SPAN style="LETTER-SPACING: -0.5pt"> </SPAN></FONT><A href="file:///C:/SuperMemo/systems/Incremental/temp/HTMLFile.htm#_bookmark34"><FONT class=extract color=#0000ff>18</FONT></A><FONT class=extract>]<SPAN style="LETTER-SPACING: -0.5pt"> </SPAN>database. We simulate a heterogeneous workload using one YCSB-A thread and one YCSB-C thread.<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>Workload<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>A<SPAN style="LETTER-SPACING: -0.5pt"> </SPAN>continuously<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>runs<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>short-lived<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>update<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>transactions,<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>while<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>workload C<SPAN style="LETTER-SPACING: -0.8pt"> </SPAN>issues<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>long-running<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>queries.<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>We<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>vary<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>the<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>theta<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>values<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>from<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>0.0<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>to<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>0.9<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>until<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>an<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>average of 1000 versions is reached. In<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>realistic heterogeneous workload settings, the number of active versions can be as high as several hundred million [</FONT><A href="file:///C:/SuperMemo/systems/Incremental/temp/HTMLFile.htm#_bookmark35"><FONT class=extract color=#0000ff>19</FONT></A><FONT class=extract>]. For each run, we<SPAN style="LETTER-SPACING: 2pt"> </SPAN>bulk-load<SPAN style="LETTER-SPACING: 2pt"> </SPAN>the<SPAN style="LETTER-SPACING: 2pt"> </SPAN>database<SPAN style="LETTER-SPACING: 2pt"> </SPAN>with<SPAN style="LETTER-SPACING: 2pt"> </SPAN>10K<SPAN style="LETTER-SPACING: 2pt"> </SPAN>tuples (1K per<SPAN style="LETTER-SPACING: 2pt"> </SPAN>tuple, <I>&gt; </I>L3<SPAN style="LETTER-SPACING: 2pt"> </SPAN>cache).</FONT></P>
<P class=western style="MARGIN-TOP: 0in; MARGIN-LEFT: 0.22in; LINE-HEIGHT: 98%; MARGIN-RIGHT: 0.56in; TEXT-INDENT: 0.21in" align=justify><FONT class=extract>The<SPAN style="LETTER-SPACING: 3.7pt"> </SPAN>experimental<SPAN style="LETTER-SPACING: 3.7pt"> </SPAN>results<SPAN style="LETTER-SPACING: 3.7pt"> </SPAN>are<SPAN style="LETTER-SPACING: 3.7pt"> </SPAN>shown<SPAN style="LETTER-SPACING: 3.7pt"> </SPAN>in<SPAN style="LETTER-SPACING: 3.7pt"> </SPAN>Figure<SPAN style="LETTER-SPACING: 3.7pt"> </SPAN></FONT><A href="file:///C:/SuperMemo/systems/Incremental/temp/HTMLFile.htm#_bookmark1"><FONT class=extract color=#0000ff>2</FONT></A><FONT class=extract>.<SPAN style="LETTER-SPACING: 3.7pt"> </SPAN>For<SPAN style="LETTER-SPACING: 3.7pt"> </SPAN>the<SPAN style="LETTER-SPACING: 3.7pt"> </SPAN>update<SPAN style="LETTER-SPACING: 3.7pt"> </SPAN>workload, the tuple-oriented placement outperforms the column-oriented placement. Because column-oriented stores columns of the same tuple in separate memory locations, it needs<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>to<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>reconstruct<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>a<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>tuple<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>result<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>for<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>each<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>new<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>tuple<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>version.<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>Column-oriented<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>works well<SPAN style="LETTER-SPACING: 1.6pt"> </SPAN>on<SPAN style="LETTER-SPACING: 1.6pt"> </SPAN>the<SPAN style="LETTER-SPACING: 1.6pt"> </SPAN>scans<SPAN style="LETTER-SPACING: 1.6pt"> </SPAN>because<SPAN style="LETTER-SPACING: 1.6pt"> </SPAN>it<SPAN style="LETTER-SPACING: 1.6pt"> </SPAN>stores<SPAN style="LETTER-SPACING: 1.6pt"> </SPAN>values<SPAN style="LETTER-SPACING: 1.6pt"> </SPAN>of<SPAN style="LETTER-SPACING: 1.6pt"> </SPAN>the<SPAN style="LETTER-SPACING: 1.6pt"> </SPAN>same<SPAN style="LETTER-SPACING: 1.6pt"> </SPAN>column<SPAN style="LETTER-SPACING: 1.6pt"> </SPAN>contiguously,<SPAN style="LETTER-SPACING: 1.6pt"> </SPAN>hold- ing inter-tuple spatial locality and achieving better utilization of memory bandwidth. However,<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>as<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>the<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>version<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>chain<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>length<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>increases<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>to<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>1000,<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>both<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>of<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>the<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>placements&#8217;<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>search performance drops rapidly to below ten transactions due to version unawareness and random memory access.</FONT></P>
<P class=western style="MARGIN-TOP: 0.07in"><SPAN class=sd-abs-pos style="WIDTH: 585px; POSITION: absolute; LEFT: 1.9in; TOP: 0.26in"><FONT class=extract>&nbsp;</FONT></SPAN><BR></P>
<P class=western style="MARGIN-TOP: 0.09in; MARGIN-LEFT: 0.22in; LINE-HEIGHT: 96%; MARGIN-RIGHT: 0.56in; TEXT-INDENT: 0in" align=justify><A name=_bookmark1></A><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT face="Georgia, serif"><FONT style="FONT-SIZE: 8pt" size=1>Fig. 2</FONT></FONT><FONT face="Georgia, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 2pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 8pt" size=1>The throughput performance impact of the version chain on tuple-oriented and column- </FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.1pt">oriented data placements. Workload A: Read/Update, 50/50, two update operations per transaction.</SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1> Workload C: Read-only, 100K search operations per transaction.</FONT></FONT></FONT></P>
<P class=western style="MARGIN-TOP: 0.11in"><FONT class=extract><BR></FONT></P>
<P class=western style="MARGIN-LEFT: 0.22in; LINE-HEIGHT: 98%; MARGIN-RIGHT: 0.56in; TEXT-INDENT: 0.21in" align=justify><FONT class=extract>Based on those observations, we find that: (1) Existing version storage schemes<SPAN style="LETTER-SPACING: 2pt"> </SPAN>lack version-aware information. (2) Currently, it is impossible to provide an index-<SPAN style="LETTER-SPACING: 4pt"> </SPAN>only scan to retrieve a visible version of the calling transaction. (3) Version searching<SPAN style="LETTER-SPACING: 4pt"> </SPAN>is inefficient and leads to a significant amount of random memory access.</FONT></P>
<P class=western style="MARGIN-TOP: 0in; MARGIN-LEFT: 0.22in; LINE-HEIGHT: 98%; MARGIN-RIGHT: 0.56in; TEXT-INDENT: 0.21in" align=justify><FONT class=extract>In this paper, we propose a <I>version-aware </I>data placement for in-memory MVCC databases to improve the heterogeneous workload performance. Instead of storing a table&#8217; version chains separate from its index, it organizes the latest tuple versions in the version B<SUP>+</SUP>-tree and assigns older versions to the corresponding partitions. Figure<SPAN style="LETTER-SPACING: 4pt"> </SPAN><FONT color=#0000ff><A href="file:///C:/SuperMemo/systems/Incremental/temp/HTMLFile.htm#_bookmark0"><FONT color=#000080>1</FONT></A> </FONT>(b) shows that version searches are done in a version-aware manner, first checking the index entries and then the partitions. If the required version is found in the index entry (TxnID 2001), it is immediately returned. However, if the latest tuple version is not<SPAN style="LETTER-SPACING: 0.4pt"> </SPAN>visible,<SPAN style="LETTER-SPACING: 0.4pt"> </SPAN>the<SPAN style="LETTER-SPACING: 0.4pt"> </SPAN><I>read</I><SPAN style="LETTER-SPACING: 0.6pt"><I> </I></SPAN><I>timestamp</I><SPAN style="LETTER-SPACING: 0.9pt"><I> </I></SPAN>is<SPAN style="LETTER-SPACING: 0.4pt"> </SPAN>used<SPAN style="LETTER-SPACING: 0.4pt"> </SPAN>to<SPAN style="LETTER-SPACING: 0.4pt"> </SPAN>determine<SPAN style="LETTER-SPACING: 0.4pt"> </SPAN>the<SPAN style="LETTER-SPACING: 0.4pt"> </SPAN>relevant<SPAN style="LETTER-SPACING: 0.4pt"> </SPAN>partition<SPAN style="LETTER-SPACING: 0.4pt"> </SPAN>where<SPAN style="LETTER-SPACING: 0.4pt"> </SPAN><SPAN style="LETTER-SPACING: -0.3pt">the</SPAN></FONT></P>
<P class=western style="MARGIN-TOP: 0.09in"><FONT class=extract><BR></FONT></P>
<P class=western style="MARGIN-RIGHT: 0.34in" align=center><SPAN style="LETTER-SPACING: -0.5pt"><FONT class=extract>3</FONT></SPAN></P>
<P class=western style="MARGIN-TOP: 0.03in; PAGE-BREAK-BEFORE: always; MARGIN-LEFT: 0.56in; LINE-HEIGHT: 98%; MARGIN-RIGHT: 0.22in" align=justify><FONT class=extract><SPAN style="LETTER-SPACING: -0.1pt">target</SPAN><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN><SPAN style="LETTER-SPACING: -0.1pt">version</SPAN><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN><SPAN style="LETTER-SPACING: -0.1pt">might</SPAN><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN><SPAN style="LETTER-SPACING: -0.1pt">reside</SPAN><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN><SPAN style="LETTER-SPACING: -0.1pt">(TxnID</SPAN><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN><SPAN style="LETTER-SPACING: -0.1pt">2).</SPAN><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN><SPAN style="LETTER-SPACING: -0.1pt">This</SPAN><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN><SPAN style="LETTER-SPACING: -0.1pt">allows</SPAN><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN><SPAN style="LETTER-SPACING: -0.1pt">a</SPAN><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN><SPAN style="LETTER-SPACING: -0.1pt">more</SPAN><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN><SPAN style="LETTER-SPACING: -0.1pt">precise</SPAN><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN><SPAN style="LETTER-SPACING: -0.1pt">and</SPAN><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN><SPAN style="LETTER-SPACING: -0.1pt">efficient</SPAN><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN><SPAN style="LETTER-SPACING: -0.1pt">search, </SPAN>reducing<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>the<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>need<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>for<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>excessive<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>random<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>memory<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>access.</FONT></P>
<P class=western style="MARGIN-LEFT: 0.77in; LINE-HEIGHT: 0.17in" align=justify><FONT class=extract>Summarily,<SPAN style="LETTER-SPACING: 0.3pt"> </SPAN>we<SPAN style="LETTER-SPACING: 0.4pt"> </SPAN>make<SPAN style="LETTER-SPACING: 0.4pt"> </SPAN>the<SPAN style="LETTER-SPACING: 0.4pt"> </SPAN>following<SPAN style="LETTER-SPACING: 0.4pt"> </SPAN><SPAN style="LETTER-SPACING: -0.1pt">contributions:</SPAN></FONT></P>
<OL>
<LI>
<P style="MARGIN-TOP: 0.08in; LINE-HEIGHT: 98%; MARGIN-RIGHT: 0.22in" align=justify><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT style="FONT-SIZE: 10pt" size=2>We</FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2>design</FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2>a</FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2>version-aware</FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2>data</FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2>partitioning</FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2>for</FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2>in-memory</FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2>MVCC</FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2>databases,</FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2>which accelerates version searches by reducing unnecessary memory accesses.</FONT></FONT></FONT></P>
<LI>
<P style="MARGIN-TOP: 0in; LINE-HEIGHT: 98%; MARGIN-RIGHT: 0.22in" align=justify><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT style="FONT-SIZE: 10pt" size=2>To</FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: 1.8pt"> </SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2>offer</FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: 1.8pt"> </SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2>the</FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: 1.8pt"> </SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2>better</FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: 1.8pt"> </SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2>performance</FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: 1.8pt"> </SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2>for</FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: 1.8pt"> </SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2>version</FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: 1.8pt"> </SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2>ingestion,</FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: 1.8pt"> </SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2>we</FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: 1.8pt"> </SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2>employ</FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: 1.8pt"> </SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2>an</FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: 1.8pt"> </SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2>ensemble of techniques: fine-grained memory management, delayed node reclamation, and thread-local partitioning strategy.</FONT></FONT></FONT></P>
<LI>
<P style="MARGIN-TOP: 0in; LINE-HEIGHT: 98%; MARGIN-RIGHT: 0.22in" align=justify><FONT style="FONT-SIZE: 11pt" size=2><FONT style="FONT-SIZE: 10pt; BACKGROUND-COLOR: #7be1e1" size=2>To achieve an optimal placement, we quantify the accelerating vs. partition maintenance trade-off of the version-aware data placement.</FONT></FONT></P>
<LI>
<P style="MARGIN-TOP: 0in; LINE-HEIGHT: 95%; MARGIN-RIGHT: 0.22in" align=justify><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT style="FONT-SIZE: 10pt" size=2>We</FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: -0.6pt"> </SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2>evaluate</FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: -0.6pt"> </SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2>our</FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: -0.6pt"> </SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2>scalable</FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: -0.6pt"> </SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2>version-aware</FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: -0.6pt"> </SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2>data</FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: -0.6pt"> </SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2>placement</FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: -0.6pt"> </SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2>under</FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: -0.6pt"> </SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2>heterogeneous</FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: -0.6pt"> </SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2>work- loads against the state-of-the-art designs </FONT></FONT><A href="file:///C:/SuperMemo/systems/Incremental/temp/HTMLFile.htm#_bookmark3"><FONT color=#0000ff><SUP><FONT style="FONT-SIZE: 10pt; BACKGROUND-COLOR: #7be1e1" size=2>1</FONT></SUP></FONT></A><FONT class=extract><FONT style="FONT-SIZE: 10pt" size=2>. The results indicate the transactional throughput is improved by 1.15</FONT><FONT face="SimSun-ExtB, serif"><FONT style="FONT-SIZE: 10pt" size=2>&#215; </FONT></FONT><FONT style="FONT-SIZE: 10pt" size=2>due to index-organized, and the analytical throughput is improved by 2</FONT><FONT face="SimSun-ExtB, serif"><FONT style="FONT-SIZE: 10pt" size=2>&#215;</FONT></FONT><FONT face="SimSun-ExtB, serif"><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: -1.4pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 10pt" size=2>due to index-only scan and cross-partition version </FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: -0.1pt">traversals.</SPAN></FONT></FONT></FONT></P></LI></OL>
<OL start=2>
<LI>
<H1 class=western style="MARGIN-TOP: 0.12in; LINE-HEIGHT: 100%; TEXT-INDENT: 0in" align=left><A name=Background></A><SPAN style="LETTER-SPACING: -0.1pt"><FONT class=extract>Background</FONT></SPAN></H1></LI></OL>
<P class=western style="MARGIN-TOP: 0.1in; MARGIN-LEFT: 0.56in; LINE-HEIGHT: 98%; MARGIN-RIGHT: 0.22in" align=justify><FONT class=extract>Multi-version concurrency control (MVCC) is one of the most popular transaction management schemes and is used in most modern IMDBs [</FONT><A href="file:///C:/SuperMemo/systems/Incremental/temp/HTMLFile.htm#_bookmark29"><FONT class=extract color=#0000ff>12</FONT></A><FONT class=extract>&#8211;</FONT><A href="file:///C:/SuperMemo/systems/Incremental/temp/HTMLFile.htm#_bookmark32"><FONT class=extract color=#0000ff>16</FONT></A><FONT class=extract>, </FONT><A href="file:///C:/SuperMemo/systems/Incremental/temp/HTMLFile.htm#_bookmark35"><FONT class=extract color=#0000ff>19</FONT></A><FONT class=extract>]. Under MVCC, the system always constructs a new physical version of a tuple when a transaction updates it. We now describe these tuple versions in more detail.</FONT></P>
<OL>
<OL>
<LI>
<H2 class=western style="MARGIN-TOP: 0.12in; LINE-HEIGHT: 100%; TEXT-INDENT: 0in" align=left><A name="Tuple Version"></A><FONT class=extract><FONT face="Palatino Linotype, serif">Tuple</FONT><FONT face="Palatino Linotype, serif"><SPAN style="LETTER-SPACING: -0.1pt"> Version</SPAN></FONT></FONT></H2></LI></OL></OL>
<P class=western><FONT class=extract><BR></FONT></P>
<P class=western style="MARGIN-TOP: 0.08in"><FONT class=extract><BR></FONT></P>
<DL>
<DL>
<DL>
<DL>
<DD>
<TABLE cellSpacing=0 cellPadding=1 width=498>
<COLGROUP><FONT class=extract>
<COL width=38>
<COL width=18>
<COL width=53>
<COL width=52>
<COL width=60>
<COL width=66>
<COL width=18>
<COL width=51>
<COL width=51>
<COL width=18>
<COL width=49></FONT>
<TBODY>
<TR vAlign=top>
<TD style="BORDER-TOP: #000000 1px solid; BORDER-RIGHT: #000000 1px solid; BORDER-BOTTOM: #000000 1px solid; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0in; BORDER-LEFT: #000000 1px solid; PADDING-RIGHT: 0in" height=24 width=38>
<P style="MARGIN-TOP: 0.05in; MARGIN-LEFT: 0.05in; ORPHANS: 0; WIDOWS: 0"><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT color=#001f5f><FONT style="FONT-SIZE: 6pt" size=1><B>txn</B></FONT></FONT><FONT color=#001f5f><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT></FONT></FONT><FONT color=#001f5f><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: -0.3pt"><B>id</B></SPAN></FONT></FONT></FONT></FONT></P></TD>
<TD style="BORDER-TOP: #000000 1px solid; BORDER-RIGHT: #000000 1px solid; BORDER-BOTTOM: #000000 1px solid; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0in; BORDER-LEFT: #000000 1px solid; PADDING-RIGHT: 0in" width=18>
<P style="MARGIN-TOP: 0.05in; MARGIN-LEFT: 0.03in; ORPHANS: 0; WIDOWS: 0"><FONT class=extract color=#001f5f><SPAN style="LETTER-SPACING: -0.5pt">&#8230;</SPAN></FONT></P></TD>
<TD style="BORDER-TOP: #000000 1px solid; BORDER-RIGHT: #000000 1px solid; BORDER-BOTTOM: #000000 1px solid; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0in; BORDER-LEFT: #000000 1px solid; PADDING-RIGHT: 0in" width=53>
<P style="MARGIN-TOP: 0.05in; MARGIN-LEFT: 0.04in; ORPHANS: 0; WIDOWS: 0"><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT color=#001f5f><FONT style="FONT-SIZE: 6pt" size=1><B>begin-</B></FONT></FONT><FONT color=#001f5f><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: -0.3pt"><B>ts</B></SPAN></FONT></FONT></FONT></FONT></P></TD>
<TD style="BORDER-TOP: #000000 1px solid; BORDER-RIGHT: #000000 1px solid; BORDER-BOTTOM: #000000 1px solid; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0in; BORDER-LEFT: #000000 1px solid; PADDING-RIGHT: 0in" width=52>
<P style="MARGIN-TOP: 0.05in; MARGIN-LEFT: 0.08in; ORPHANS: 0; WIDOWS: 0"><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT color=#001f5f><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: -0.1pt"><B>end-</B></SPAN></FONT></FONT><FONT color=#001f5f><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: -0.3pt"><B>ts</B></SPAN></FONT></FONT></FONT></FONT></P></TD>
<TD style="BORDER-TOP: #000000 1px solid; BORDER-RIGHT: #000000 1px solid; BORDER-BOTTOM: #000000 1px solid; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0in; BORDER-LEFT: #000000 1px solid; PADDING-RIGHT: 0in" width=60>
<P style="MARGIN-TOP: 0.05in; MARGIN-LEFT: 0.14in; ORPHANS: 0; WIDOWS: 0"><FONT style="FONT-SIZE: 11pt" size=2><FONT color=#001f5f><FONT style="FONT-SIZE: 6pt; BACKGROUND-COLOR: #7be1e1" size=1><SPAN style="LETTER-SPACING: -0.1pt"><B>links</B></SPAN></FONT></FONT></FONT></P></TD>
<TD style="BORDER-TOP: #000000 1px solid; BORDER-RIGHT: #000000 1px solid; BORDER-BOTTOM: #000000 1px solid; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0in; BORDER-LEFT: #000000 1px solid; PADDING-RIGHT: 0in" width=66>
<P style="MARGIN-TOP: 0.04in; MARGIN-LEFT: 0.08in; ORPHANS: 0; WIDOWS: 0"><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT color=#001f5f><SUP><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: -0.1pt"><I><B>column</B></I></SPAN></FONT></SUP></FONT><FONT color=#001f5f><FONT style="FONT-SIZE: 4pt" size=1><SPAN style="LETTER-SPACING: -0.1pt"><I><B>1</B></I></SPAN></FONT></FONT></FONT></FONT></P></TD>
<TD style="BORDER-TOP: #000000 1px solid; BORDER-RIGHT: #000000 1px solid; BORDER-BOTTOM: #000000 1px solid; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0in; BORDER-LEFT: #000000 1px solid; PADDING-RIGHT: 0in" width=18>
<P style="MARGIN-TOP: 0.05in; MARGIN-LEFT: 0.03in; ORPHANS: 0; WIDOWS: 0"><FONT class=extract color=#001f5f><SPAN style="LETTER-SPACING: -0.5pt">&#8230;</SPAN></FONT></P></TD>
<TD style="BORDER-TOP: #000000 1px solid; BORDER-RIGHT: #000000 1px solid; BORDER-BOTTOM: #000000 1px solid; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0in; BORDER-LEFT: #000000 1px solid; PADDING-RIGHT: 0in" width=51>
<P style="MARGIN-TOP: 0.04in; MARGIN-LEFT: 0.05in; ORPHANS: 0; WIDOWS: 0"><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT color=#001f5f><SUP><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: -0.1pt"><I><B>column</B></I></SPAN></FONT></SUP></FONT><FONT color=#001f5f><FONT style="FONT-SIZE: 4pt" size=1><SPAN style="LETTER-SPACING: -0.1pt"><I><B>i</B></I></SPAN></FONT></FONT></FONT></FONT></P></TD>
<TD style="BORDER-TOP: #000000 1px solid; BORDER-RIGHT: #000000 1px solid; BORDER-BOTTOM: #000000 1px solid; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0in; BORDER-LEFT: #000000 1px solid; PADDING-RIGHT: 0in" width=51>
<P style="MARGIN-TOP: 0.04in; MARGIN-LEFT: 0.02in; ORPHANS: 0; WIDOWS: 0"><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT color=#001f5f><SUP><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: -0.1pt"><I><B>column</B></I></SPAN></FONT></SUP></FONT><FONT color=#001f5f><FONT style="FONT-SIZE: 4pt" size=1><SPAN style="LETTER-SPACING: -0.1pt"><I><B>i+1</B></I></SPAN></FONT></FONT></FONT></FONT></P></TD>
<TD style="BORDER-TOP: #000000 1px solid; BORDER-RIGHT: #000000 1px solid; BORDER-BOTTOM: #000000 1px solid; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0in; BORDER-LEFT: #000000 1px solid; PADDING-RIGHT: 0in" width=18>
<P style="MARGIN-TOP: 0.05in; MARGIN-LEFT: 0.03in; ORPHANS: 0; WIDOWS: 0"><FONT class=extract color=#001f5f><SPAN style="LETTER-SPACING: -0.5pt">&#8230;</SPAN></FONT></P></TD>
<TD style="BORDER-TOP: #000000 1px solid; BORDER-RIGHT: #000000 1px solid; BORDER-BOTTOM: #000000 1px solid; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0in; BORDER-LEFT: #000000 1px solid; PADDING-RIGHT: 0in" width=49>
<P style="MARGIN-TOP: 0.04in; MARGIN-LEFT: 0.03in; ORPHANS: 0; WIDOWS: 0"><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT color=#001f5f><SUP><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: -0.1pt"><I><B>column</B></I></SPAN></FONT></SUP></FONT><FONT color=#001f5f><FONT style="FONT-SIZE: 4pt" size=1><SPAN style="LETTER-SPACING: -0.1pt"><I><B>N</B></I></SPAN></FONT></FONT></FONT></FONT></P></TD></TR></TBODY></TABLE></DD></DL></DL></DL></DL>
<P class=western style="MARGIN-TOP: 0in"><FONT class=extract><BR></FONT></P>
<DIV id=Section6 style="column-count: 3" dir=ltr gutter="4">
<P class=western style="MARGIN-TOP: 0.05in" align=right><SPAN class=sd-abs-pos style="WIDTH: 499px; POSITION: absolute; LEFT: 1.39in; TOP: -0.35in"><FONT class=extract></FONT></SPAN><FONT style="FONT-SIZE: 11pt" size=2><FONT color=#c00000><FONT style="FONT-SIZE: 4pt; BACKGROUND-COLOR: #7be1e1" size=1><SPAN style="LETTER-SPACING: -0.1pt"><B>latches</B></SPAN></FONT></FONT></FONT></P>
<P class=western style="MARGIN-TOP: 0.05in; MARGIN-LEFT: 0.22in" align=left><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT color=#c00000><FONT style="FONT-SIZE: 4pt" size=1><B>version</B></FONT></FONT><FONT color=#c00000><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 4pt" size=1><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT></FONT></FONT><FONT color=#c00000><FONT style="FONT-SIZE: 4pt" size=1><SPAN style="LETTER-SPACING: -0.1pt"><B>timestamps</B></SPAN></FONT></FONT><FONT color=#c00000><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 4pt" size=1> </FONT></FONT></FONT><FONT color=#c00000><FONT style="FONT-SIZE: 4pt" size=1><B>version</B></FONT></FONT><FONT color=#c00000><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 4pt" size=1><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT></FONT></FONT><FONT color=#c00000><FONT style="FONT-SIZE: 4pt" size=1><SPAN style="LETTER-SPACING: -0.2pt"><B>chain</B></SPAN></FONT></FONT></FONT></FONT></P>
<P class=western style="MARGIN-TOP: 0.05in; MARGIN-LEFT: 0.05in" align=left><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT color=#c00000><FONT style="FONT-SIZE: 4pt" size=1><B>primary</B></FONT></FONT><FONT color=#c00000><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 4pt" size=1><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT></FONT></FONT><FONT color=#c00000><FONT style="FONT-SIZE: 4pt" size=1><B>key</B></FONT></FONT><FONT color=#c00000><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 4pt" size=1><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT></FONT></FONT><FONT color=#c00000><FONT style="FONT-SIZE: 4pt" size=1><SPAN style="LETTER-SPACING: -0.1pt"><B>columns</B></SPAN></FONT></FONT><FONT color=#c00000><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 4pt" size=1> </FONT></FONT></FONT><FONT color=#c00000><FONT style="FONT-SIZE: 4pt" size=1><B>non-primary</B></FONT></FONT><FONT color=#c00000><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 4pt" size=1><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT></FONT></FONT><FONT color=#c00000><FONT style="FONT-SIZE: 4pt" size=1><B>key</B></FONT></FONT><FONT color=#c00000><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 4pt" size=1><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT></FONT></FONT><FONT color=#c00000><FONT style="FONT-SIZE: 4pt" size=1><SPAN style="LETTER-SPACING: -0.1pt"><B>columns</B></SPAN></FONT></FONT></FONT></FONT></P></DIV>
<DIV id=Section7 dir=ltr>
<P class=western style="MARGIN-TOP: 0.06in; MARGIN-LEFT: 0.56in" align=left><A name=_bookmark2></A><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT face="Georgia, serif"><FONT style="FONT-SIZE: 8pt" size=1>Fig.</FONT></FONT><FONT face="Georgia, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.6pt"> </SPAN></FONT></FONT><FONT face="Georgia, serif"><FONT style="FONT-SIZE: 8pt" size=1>3</FONT></FONT><FONT face="Georgia, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 3pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 8pt" size=1>Tuple</FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.4pt"> </SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1>Version:</FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.4pt"> </SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1>an</FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.4pt"> </SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1>example</FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.4pt"> </SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1>of</FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.4pt"> </SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1>the</FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.4pt"> </SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1>physical</FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.4pt"> </SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1>layout</FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.4pt"> </SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1>of</FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.4pt"> </SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1>a</FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.4pt"> </SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1>tuple</FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.4pt"> </SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1>version</FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.4pt"> </SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1>in</FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.4pt"> </SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1>MVCC</FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.4pt"> </SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.1pt">databases.</SPAN></FONT></FONT></FONT></P>
<P class=western style="MARGIN-TOP: 0.08in"><FONT class=extract><BR></FONT></P>
<P class=western style="MARGIN-LEFT: 0.56in; LINE-HEIGHT: 98%; MARGIN-RIGHT: 0.22in; TEXT-INDENT: 0.21in" align=justify><FONT class=extract>Figure <FONT color=#0000ff><A href="file:///C:/SuperMemo/systems/Incremental/temp/HTMLFile.htm#_bookmark2"><FONT color=#000080>3</FONT></A> </FONT>shows the physical layout of a tuple version. It has latch information, for instance, a txn-id field serving as the identifier of the transaction that currently holds a write lock on the tuple. When a new transaction starts, the system assigns it a unique transaction identifier (txn-id). When the transaction is ready to update the tuple, the system checks whether the latest version&#8217;s txn-id field is zero. If it is, then the system will set the value of txn-id to this field using a compare-and-swap instruction. The version<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>timestamps,<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>i.e.,<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>begin-ts<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>and<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>end-ts,<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>represent<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>the<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>lifetime<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>of<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>the<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>tuple<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>version. The begin-ts indicates the timestamp from which the version becomes visible, and the end-ts indicates the timestamp after which the version ends to be visible. Initially,<SPAN style="LETTER-SPACING: 2pt"> </SPAN>both<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>fields<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>are<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>set<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>to<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>zero.<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>Whenever<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>a<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>transaction<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>invokes<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>a<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>read<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>operation<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>on<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>a<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>tuple, the system assigns it a read timestamp (<I>rts</I>). Then, it searches for a physical version where<SPAN style="LETTER-SPACING: 0.8pt"> </SPAN><I>rts</I><SPAN style="LETTER-SPACING: 1.7pt"><I> </I></SPAN>is<SPAN style="LETTER-SPACING: 0.9pt"> </SPAN>in<SPAN style="LETTER-SPACING: 0.8pt"> </SPAN>between<SPAN style="LETTER-SPACING: 0.9pt"> </SPAN>the<SPAN style="LETTER-SPACING: 0.9pt"> </SPAN>range<SPAN style="LETTER-SPACING: 0.9pt"> </SPAN>of<SPAN style="LETTER-SPACING: 0.9pt"> </SPAN>the<SPAN style="LETTER-SPACING: 0.9pt"> </SPAN>begin-ts<SPAN style="LETTER-SPACING: 0.9pt"> </SPAN>and<SPAN style="LETTER-SPACING: 0.9pt"> </SPAN>end-ts<SPAN style="LETTER-SPACING: 0.9pt"> </SPAN>fields.<SPAN style="LETTER-SPACING: 0.9pt"> </SPAN>The<SPAN style="LETTER-SPACING: 0.9pt"> </SPAN>links<SPAN style="LETTER-SPACING: 0.9pt"> </SPAN>field<SPAN style="LETTER-SPACING: 0.9pt"> </SPAN><SPAN style="LETTER-SPACING: -0.3pt">is</SPAN></FONT></P>
<P class=western><SPAN class=sd-abs-pos style="WIDTH: 210px; POSITION: absolute; LEFT: 0.56in; TOP: 0.15in"><FONT class=extract></FONT></SPAN><BR></P>
<P class=western style="MARGIN-TOP: 0.05in; MARGIN-LEFT: 0.67in; LINE-HEIGHT: 0.05in" align=left><FONT style="FONT-SIZE: 11pt" size=2><FONT face="Cambria, serif"><FONT style="FONT-SIZE: 5pt; BACKGROUND-COLOR: #7be1e1" size=1><SPAN style="LETTER-SPACING: -0.5pt">1</SPAN></FONT></FONT></FONT></P>
<P class=western style="MARGIN-LEFT: 0.73in; LINE-HEIGHT: 0.09in" align=left><A name=_bookmark3></A><FONT style="FONT-SIZE: 11pt" size=2><FONT style="FONT-SIZE: 7pt; BACKGROUND-COLOR: #7be1e1" size=1><SPAN style="LETTER-SPACING: -0.1pt">https://github.com/gitzhqian/HDBMSengine.git</SPAN></FONT></FONT></P>
<P class=western style="MARGIN-TOP: 0.06in"><FONT class=extract><BR></FONT></P>
<P class=western style="MARGIN-LEFT: 0.34in" align=center><SPAN style="LETTER-SPACING: -0.5pt"><FONT class=extract>4</FONT></SPAN></P></DIV>
<P class=western style="MARGIN-TOP: 0.03in; PAGE-BREAK-BEFORE: always; MARGIN-LEFT: 0.22in; LINE-HEIGHT: 98%; MARGIN-RIGHT: 0.56in" align=justify><FONT class=extract>often used by a version chain implemented as a linked list. It stores the addresses of the tuple&#8217;s neighboring versions (previous or next), if any. The system uses the links field to traverse the version chain and access the earlier version of the tuple. Each tuple<SPAN style="LETTER-SPACING: 1.6pt"> </SPAN>version<SPAN style="LETTER-SPACING: 1.6pt"> </SPAN>has<SPAN style="LETTER-SPACING: 1.6pt"> </SPAN>a<SPAN style="LETTER-SPACING: 1.6pt"> </SPAN>subset<SPAN style="LETTER-SPACING: 1.6pt"> </SPAN>of<SPAN style="LETTER-SPACING: 1.6pt"> </SPAN>columns<SPAN style="LETTER-SPACING: 1.6pt"> </SPAN>(primary<SPAN style="LETTER-SPACING: 1.6pt"> </SPAN>key<SPAN style="LETTER-SPACING: 1.6pt"> </SPAN>and<SPAN style="LETTER-SPACING: 1.6pt"> </SPAN>non-primary<SPAN style="LETTER-SPACING: 1.6pt"> </SPAN>key).</FONT></P>
<OL>
<OL start=2>
<LI>
<H2 class=western style="MARGIN-TOP: 0.13in; LINE-HEIGHT: 100%; TEXT-INDENT: 0in" align=left><A name="Storage Scheme"></A><FONT class=extract><FONT face="Palatino Linotype, serif">Storage</FONT><FONT face="Palatino Linotype, serif"><SPAN style="LETTER-SPACING: 1.3pt"> </SPAN></FONT><FONT face="Palatino Linotype, serif"><SPAN style="LETTER-SPACING: -0.1pt">Scheme</SPAN></FONT></FONT></H2></LI></OL></OL>
<P class=western><FONT class=extract><BR></FONT></P>
<P class=western style="MARGIN-TOP: 0.1in"><SPAN class=sd-abs-pos style="WIDTH: 196px; POSITION: absolute; LEFT: 2.86in; TOP: 0.3in"><FONT class=extract></FONT></SPAN><SPAN id=Frame4 style="BORDER-TOP: medium none; BORDER-RIGHT: medium none; WIDTH: 1.36in; BACKGROUND: #ffffff; BORDER-BOTTOM: medium none; POSITION: absolute; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0in; LEFT: 4.02in; BORDER-LEFT: medium none; TOP: 2.53in; PADDING-RIGHT: 0in" dir=ltr>
<TABLE dir=ltr cellSpacing=1 cellPadding=1 width=193>
<COLGROUP><FONT class=extract>
<COL width=8>
<COL width=82>
<COL width=38>
<COL width=50></FONT>
<TBODY>
<TR vAlign=top>
<TD style="BORDER-TOP: #000000 1pt solid; BORDER-RIGHT: #000000 0.75pt solid; BORDER-BOTTOM: #000000 0.75pt solid; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0.01in; BORDER-LEFT: #000000 1pt solid; PADDING-RIGHT: 0in" height=10 width=8>
<P style="MARGIN-TOP: 0.02in; MARGIN-LEFT: 0.02in; ORPHANS: 0; WIDOWS: 0" align=center><FONT style="FONT-SIZE: 11pt" size=2><FONT style="FONT-SIZE: 4pt; BACKGROUND-COLOR: #7be1e1" size=1><SPAN style="LETTER-SPACING: -0.3pt">...</SPAN></FONT></FONT></P></TD>
<TD style="BORDER-TOP: #000000 1pt solid; BORDER-RIGHT: #000000 1.5pt double; BORDER-BOTTOM: #000000 0.75pt solid; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0.01in; BORDER-LEFT: #000000 0.75pt solid; PADDING-RIGHT: 0in" width=82>
<P style="MARGIN-LEFT: 0.01in; ORPHANS: 0; WIDOWS: 0"><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><SUP><FONT style="FONT-SIZE: 6pt" size=1><I>V</I></FONT></SUP><SUP><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT></FONT></SUP><SUP><FONT style="FONT-SIZE: 6pt" size=1>(100,110)</FONT></SUP><SUP><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN></FONT></FONT></SUP><IMG border=0 name="Image 154" src="file:///C:/Users/aaron/AppData/Local/Temp/lu21164a2h8qi.tmp/lu21164a2h8vc_tmp_965609995e391321.png" width=14 align=bottom height=11> </FONT></FONT></P></TD>
<TD style="BORDER-TOP: #000000 1.5pt solid; BORDER-RIGHT: #000000 1.5pt double; BORDER-BOTTOM: #000000 1px solid; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0.01in; BORDER-LEFT: #000000 1.5pt double; PADDING-RIGHT: 0in" width=38>
<P style="MARGIN-LEFT: 0.02in; ORPHANS: 0; WIDOWS: 0; MARGIN-RIGHT: 0in" align=center><FONT style="FONT-SIZE: 11pt" size=2><FONT style="FONT-SIZE: 6pt; BACKGROUND-COLOR: #7be1e1" size=1><SPAN style="LETTER-SPACING: -0.3pt">10</SPAN></FONT></FONT></P></TD>
<TD style="BORDER-TOP: #000000 1.5pt solid; BORDER-RIGHT: #000000 1.5pt double; BORDER-BOTTOM: #000000 1px solid; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0.01in; BORDER-LEFT: #000000 1.5pt double; PADDING-RIGHT: 0in" width=50>
<P style="MARGIN-LEFT: 0.03in; ORPHANS: 0; WIDOWS: 0" align=center><FONT style="FONT-SIZE: 11pt" size=2><FONT style="FONT-SIZE: 6pt; BACKGROUND-COLOR: #7be1e1" size=1><SPAN style="LETTER-SPACING: -0.3pt">111</SPAN></FONT></FONT></P></TD></TR>
<TR vAlign=top>
<TD style="BORDER-TOP: #000000 0.75pt solid; BORDER-RIGHT: #000000 0.75pt solid; BORDER-BOTTOM: #000000 1pt solid; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0.01in; BORDER-LEFT: #000000 1pt solid; PADDING-RIGHT: 0in" height=12 width=8>
<P style="MARGIN-TOP: 0.02in; MARGIN-LEFT: 0.02in; ORPHANS: 0; WIDOWS: 0" align=center><FONT style="FONT-SIZE: 11pt" size=2><FONT style="FONT-SIZE: 4pt; BACKGROUND-COLOR: #7be1e1" size=1><SPAN style="LETTER-SPACING: -0.3pt">...</SPAN></FONT></FONT></P></TD>
<TD style="BORDER-TOP: #000000 0.75pt solid; BORDER-RIGHT: #000000 1.5pt double; BORDER-BOTTOM: #000000 0.75pt solid; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0.01in; BORDER-LEFT: #000000 0.75pt solid; PADDING-RIGHT: 0in" width=82>
<P style="MARGIN-LEFT: 0.01in; ORPHANS: 0; WIDOWS: 0"><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><SUP><FONT style="FONT-SIZE: 6pt" size=1><I>V</I></FONT></SUP><SUP><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT></FONT></SUP><SUP><FONT style="FONT-SIZE: 6pt" size=1>(110,120)</FONT></SUP><SUP><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN></FONT></FONT></SUP><IMG border=0 name="Image 155" src="file:///C:/Users/aaron/AppData/Local/Temp/lu21164a2h8qi.tmp/lu21164a2h8vc_tmp_694e1915cc31a43.png" width=14 align=bottom height=11> </FONT></FONT></P></TD>
<TD style="BORDER-TOP: #000000 1px solid; BORDER-RIGHT: #000000 1.5pt double; BORDER-BOTTOM: #000000 1px solid; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0.01in; BORDER-LEFT: #000000 1.5pt double; PADDING-RIGHT: 0in" width=38>
<P style="MARGIN-LEFT: 0.02in; ORPHANS: 0; WIDOWS: 0; MARGIN-RIGHT: 0in" align=center><FONT style="FONT-SIZE: 11pt" size=2><FONT style="FONT-SIZE: 6pt; BACKGROUND-COLOR: #7be1e1" size=1><SPAN style="LETTER-SPACING: -0.3pt">10</SPAN></FONT></FONT></P></TD>
<TD style="BORDER-TOP: #000000 1px solid; BORDER-RIGHT: #000000 1.5pt double; BORDER-BOTTOM: #000000 1px solid; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0.01in; BORDER-LEFT: #000000 1.5pt double; PADDING-RIGHT: 0in" width=50>
<P style="MARGIN-LEFT: 0.03in; ORPHANS: 0; WIDOWS: 0" align=center><FONT style="FONT-SIZE: 11pt" size=2><FONT style="FONT-SIZE: 6pt; BACKGROUND-COLOR: #7be1e1" size=1><SPAN style="LETTER-SPACING: -0.3pt">112</SPAN></FONT></FONT></P></TD></TR>
<TR vAlign=top>
<TD style="BORDER-TOP: #000000 1pt solid; BORDER-RIGHT: #000000 0.75pt solid; BORDER-BOTTOM: #000000 0.75pt solid; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0.01in; BORDER-LEFT: #000000 1pt solid; PADDING-RIGHT: 0in" height=13 width=8>
<P style="MARGIN-TOP: 0.02in; MARGIN-LEFT: 0.02in; ORPHANS: 0; WIDOWS: 0" align=center><FONT style="FONT-SIZE: 11pt" size=2><FONT style="FONT-SIZE: 4pt; BACKGROUND-COLOR: #7be1e1" size=1><SPAN style="LETTER-SPACING: -0.3pt">...</SPAN></FONT></FONT></P></TD>
<TD style="BORDER-TOP: #000000 0.75pt solid; BORDER-RIGHT: #000000 1.5pt double; BORDER-BOTTOM: #000000 0.75pt solid; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0.01in; BORDER-LEFT: #000000 0.75pt solid; PADDING-RIGHT: 0in" width=82>
<P style="MARGIN-LEFT: 0.01in; ORPHANS: 0; WIDOWS: 0"><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><SUP><FONT style="FONT-SIZE: 6pt" size=1><I>V</I></FONT></SUP><SUP><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT></FONT></SUP><SUP><FONT style="FONT-SIZE: 6pt" size=1>(100,110)</FONT></SUP><SUP><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN></FONT></FONT></SUP><IMG border=0 name="Image 156" src="file:///C:/Users/aaron/AppData/Local/Temp/lu21164a2h8qi.tmp/lu21164a2h8vc_tmp_52797c4787c69a5d.png" width=14 align=bottom height=11> </FONT></FONT></P></TD>
<TD style="BORDER-TOP: #000000 1px solid; BORDER-RIGHT: #000000 1.5pt double; BORDER-BOTTOM: #000000 1px solid; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0.01in; BORDER-LEFT: #000000 1.5pt double; PADDING-RIGHT: 0in" width=38>
<P style="MARGIN-LEFT: 0.02in; ORPHANS: 0; WIDOWS: 0" align=center><FONT style="FONT-SIZE: 11pt" size=2><FONT style="FONT-SIZE: 6pt; BACKGROUND-COLOR: #7be1e1" size=1><SPAN style="LETTER-SPACING: -0.3pt">11</SPAN></FONT></FONT></P></TD>
<TD style="BORDER-TOP: #000000 1px solid; BORDER-RIGHT: #000000 1.5pt solid; BORDER-BOTTOM: #000000 1px solid; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0.01in; BORDER-LEFT: #000000 1.5pt double; PADDING-RIGHT: 0in" width=50>
<P style="MARGIN-LEFT: 0.03in; ORPHANS: 0; WIDOWS: 0" align=center><FONT style="FONT-SIZE: 11pt" size=2><FONT style="FONT-SIZE: 6pt; BACKGROUND-COLOR: #7be1e1" size=1><SPAN style="LETTER-SPACING: -0.3pt">211</SPAN></FONT></FONT></P></TD></TR>
<TR vAlign=top>
<TD style="BORDER-TOP: #000000 0.75pt solid; BORDER-RIGHT: #000000 0.75pt solid; BORDER-BOTTOM: #000000 1pt solid; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0.01in; BORDER-LEFT: #000000 1pt solid; PADDING-RIGHT: 0in" height=11 width=8>
<P style="MARGIN-TOP: 0.02in; MARGIN-LEFT: 0.02in; ORPHANS: 0; WIDOWS: 0" align=center><FONT style="FONT-SIZE: 11pt" size=2><FONT style="FONT-SIZE: 4pt; BACKGROUND-COLOR: #7be1e1" size=1><SPAN style="LETTER-SPACING: -0.3pt">...</SPAN></FONT></FONT></P></TD>
<TD style="BORDER-TOP: #000000 0.75pt solid; BORDER-RIGHT: #000000 1.5pt double; BORDER-BOTTOM: #000000 1pt solid; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0.01in; BORDER-LEFT: #000000 0.75pt solid; PADDING-RIGHT: 0in" width=82>
<P style="MARGIN-TOP: 0in; MARGIN-LEFT: 0.02in; ORPHANS: 0; WIDOWS: 0"><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><SUP><FONT style="FONT-SIZE: 6pt" size=1><I>V</I></FONT></SUP><SUP><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: -0.5pt"> </SPAN></FONT></FONT></SUP><SUP><FONT style="FONT-SIZE: 6pt" size=1>(110,INF)</FONT></SUP><SUP><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT></FONT></SUP><IMG border=0 name="Image 157" src="file:///C:/Users/aaron/AppData/Local/Temp/lu21164a2h8qi.tmp/lu21164a2h8vc_tmp_bdbabfcbbe693c52.png" width=14 align=bottom height=11> </FONT></FONT></P></TD>
<TD style="BORDER-TOP: #000000 1px solid; BORDER-RIGHT: #000000 1.5pt double; BORDER-BOTTOM: #000000 1.5pt solid; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0.01in; BORDER-LEFT: #000000 1.5pt double; PADDING-RIGHT: 0in" width=38>
<P style="MARGIN-LEFT: 0.02in; ORPHANS: 0; WIDOWS: 0" align=center><FONT style="FONT-SIZE: 11pt" size=2><FONT style="FONT-SIZE: 6pt; BACKGROUND-COLOR: #7be1e1" size=1><SPAN style="LETTER-SPACING: -0.3pt">12</SPAN></FONT></FONT></P></TD>
<TD style="BORDER-TOP: #000000 1px solid; BORDER-RIGHT: #000000 1.5pt solid; BORDER-BOTTOM: #000000 1.5pt solid; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0.01in; BORDER-LEFT: #000000 1.5pt double; PADDING-RIGHT: 0in" width=50>
<P style="MARGIN-LEFT: 0.03in; ORPHANS: 0; WIDOWS: 0" align=center><FONT style="FONT-SIZE: 11pt" size=2><FONT style="FONT-SIZE: 6pt; BACKGROUND-COLOR: #7be1e1" size=1><SPAN style="LETTER-SPACING: -0.3pt">311</SPAN></FONT></FONT></P></TD></TR></TBODY></TABLE>
<P class=western><FONT class=extract><BR></FONT></P></SPAN><SPAN class=sd-abs-pos style="WIDTH: 198px; POSITION: absolute; LEFT: 1.33in; TOP: 0.31in"><FONT class=extract></FONT></SPAN><FONT class=extract>databases, main memory is the primary storage location. Tables&#8217; tuple<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>versions<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>are<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>stored<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>in<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>physical<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>data<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>blocks.<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>The<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>storage<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>scheme<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>specifies<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>how<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>the system organizes tables&#8217; tuple versions. As shown in Figure </FONT><A href="file:///C:/SuperMemo/systems/Incremental/temp/HTMLFile.htm#_bookmark4"><FONT class=extract color=#0000ff>4</FONT></A><FONT class=extract>, there are two possible storage schemes. First, in the traditional tuple-oriented storage scheme, all of the columns<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>for<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>a<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>single<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>tuple<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>version<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>are<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>stored<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>contiguously.<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>For<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>example,<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>all<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>the<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>columns belonging to the tuple version (V(120,130), 10, 114) are stored one after another, followed<SPAN style="LETTER-SPACING: 1.5pt"> </SPAN>by<SPAN style="LETTER-SPACING: 1.5pt"> </SPAN>all<SPAN style="LETTER-SPACING: 1.5pt"> </SPAN>the<SPAN style="LETTER-SPACING: 1.5pt"> </SPAN>columns<SPAN style="LETTER-SPACING: 1.5pt"> </SPAN>of<SPAN style="LETTER-SPACING: 1.5pt"> </SPAN>the<SPAN style="LETTER-SPACING: 1.5pt"> </SPAN>second<SPAN style="LETTER-SPACING: 1.5pt"> </SPAN>tuple<SPAN style="LETTER-SPACING: 1.5pt"> </SPAN>version<SPAN style="LETTER-SPACING: 1.5pt"> </SPAN>(V(130,<SPAN style="LETTER-SPACING: 1.5pt"> </SPAN>INF),<SPAN style="LETTER-SPACING: 1.5pt"> </SPAN>10,<SPAN style="LETTER-SPACING: 1.5pt"> </SPAN>115). </FONT>
<P class=western style="MARGIN-TOP: 0in; MARGIN-LEFT: 0.22in; LINE-HEIGHT: 98%; MARGIN-RIGHT: 0.56in; TEXT-INDENT: 0.21in" align=justify><FONT class=extract>Second,<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>the<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>column-oriented<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>scheme<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>partitions<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>the<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>tuple<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>versions<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>within<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>each<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>data block,<SPAN style="LETTER-SPACING: 1.7pt"> </SPAN>storing<SPAN style="LETTER-SPACING: 1.7pt"> </SPAN>together<SPAN style="LETTER-SPACING: 1.7pt"> </SPAN>the<SPAN style="LETTER-SPACING: 1.7pt"> </SPAN>values<SPAN style="LETTER-SPACING: 1.7pt"> </SPAN>of<SPAN style="LETTER-SPACING: 1.7pt"> </SPAN>each<SPAN style="LETTER-SPACING: 1.7pt"> </SPAN>or<SPAN style="LETTER-SPACING: 1.7pt"> </SPAN>a<SPAN style="LETTER-SPACING: 1.7pt"> </SPAN>few<SPAN style="LETTER-SPACING: 1.7pt"> </SPAN>columns<SPAN style="LETTER-SPACING: 1.7pt"> </SPAN>in<SPAN style="LETTER-SPACING: 1.7pt"> </SPAN>sub-blocks.<SPAN style="LETTER-SPACING: 1.7pt"> </SPAN>That<SPAN style="LETTER-SPACING: 1.7pt"> </SPAN>is, the column-oriented scheme partitions each data block into multiple sub-blocks. It then stores the values of the first column in the first sub-block and the values of the second column in the second sub-block. For example, the sub-block Block0 contains the<SPAN style="LETTER-SPACING: 1.5pt"> </SPAN>column<SPAN style="LETTER-SPACING: 1.5pt"> </SPAN><I>id</I><SPAN style="LETTER-SPACING: 2pt"><I> </I></SPAN>value,<SPAN style="LETTER-SPACING: 1.5pt"> </SPAN>and<SPAN style="LETTER-SPACING: 1.5pt"> </SPAN>the<SPAN style="LETTER-SPACING: 1.5pt"> </SPAN>sub-block<SPAN style="LETTER-SPACING: 1.5pt"> </SPAN>Block1<SPAN style="LETTER-SPACING: 1.5pt"> </SPAN>contains<SPAN style="LETTER-SPACING: 1.5pt"> </SPAN>the<SPAN style="LETTER-SPACING: 1.5pt"> </SPAN>column<SPAN style="LETTER-SPACING: 1.5pt"> </SPAN><I>salary</I><SPAN style="LETTER-SPACING: 2pt"><I> </I></SPAN>value.</FONT></P>
<P class=western style="MARGIN-TOP: 0in; MARGIN-LEFT: 0.22in; LINE-HEIGHT: 98%; MARGIN-RIGHT: 0.56in; TEXT-INDENT: 0.21in" align=justify><FONT class=extract>The first scheme works well for transactional workloads. In the second scheme, when sequentially accessing a subset of columns, the algorithm can read all values in the appropriate sub-blocks. This approach enhances the caching behavior by increas- ing the data locality across multiple tuples [</FONT><A href="file:///C:/SuperMemo/systems/Incremental/temp/HTMLFile.htm#_bookmark36"><FONT class=extract color=#0000ff>20</FONT></A><FONT class=extract>], but incurs high tuple reconstruction costs for transactional queries. Hybrid two schemes can balance the trade-off of cache performance<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>vs<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>tuple<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>reconstruction<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>overhead.<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>However,<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>it<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>is<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>inherently<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>impossible<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>for a single system to implement both schemes simultaneously, and many such systems choose the tuple-oriented scheme [</FONT><A href="file:///C:/SuperMemo/systems/Incremental/temp/HTMLFile.htm#_bookmark37"><FONT class=extract color=#0000ff>21</FONT></A><FONT class=extract>].</FONT></P>
<OL>
<OL start=3>
<LI>
<H2 class=western style="MARGIN-TOP: 0.13in; LINE-HEIGHT: 100%; TEXT-INDENT: 0in" align=left><A name="Version Timestamp"></A><FONT class=extract><FONT face="Palatino Linotype, serif"><SPAN style="LETTER-SPACING: -0.1pt">Version</SPAN></FONT><FONT face="Palatino Linotype, serif"><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT><FONT face="Palatino Linotype, serif"><SPAN style="LETTER-SPACING: -0.1pt">Timestamp</SPAN></FONT></FONT></H2></LI></OL></OL>
<P class=western style="MARGIN-TOP: 0.07in; MARGIN-LEFT: 0.22in; LINE-HEIGHT: 98%; MARGIN-RIGHT: 0.56in" align=justify><FONT class=extract>Most of the recently proposed transaction concurrency control schemes are based on <I>timestamp ordering </I>[</FONT><A href="file:///C:/SuperMemo/systems/Incremental/temp/HTMLFile.htm#_bookmark31"><FONT class=extract color=#0000ff>15</FONT></A><FONT class=extract>]. In-memory database systems assign a transaction a times- tamp at its beginning. The timestamp is used to decide which version of tuples to use in the transaction. Every transaction that modifies tuple content commits at a distinct point in time, called the commit timestamp. The version timestamps (begin-ts and<SPAN style="LETTER-SPACING: 2pt"> </SPAN>end-ts) of versions use the transaction&#8217;s initial timestamp or a commit timestamp.</FONT></P>
<P class=western style="MARGIN-TOP: 0.09in"><FONT class=extract><BR></FONT></P>
<P class=western style="MARGIN-RIGHT: 0.34in" align=center><SPAN style="LETTER-SPACING: -0.5pt"><FONT class=extract>5</FONT></SPAN></P>
<P class=western style="MARGIN-TOP: 0.03in; PAGE-BREAK-BEFORE: always; MARGIN-LEFT: 0.56in; LINE-HEIGHT: 98%; MARGIN-RIGHT: 0.22in; TEXT-INDENT: 0.21in" align=justify><FONT class=extract>There are two major types of version timestamps. First, timestamps are produced by a monotonically increasing counter, e.g., 64-bit integers [</FONT><A href="file:///C:/SuperMemo/systems/Incremental/temp/HTMLFile.htm#_bookmark30"><FONT class=extract color=#0000ff>13</FONT></A><FONT class=extract>, </FONT><A href="file:///C:/SuperMemo/systems/Incremental/temp/HTMLFile.htm#_bookmark31"><FONT class=extract color=#0000ff>15</FONT></A><FONT class=extract>, </FONT><A href="file:///C:/SuperMemo/systems/Incremental/temp/HTMLFile.htm#_bookmark38"><FONT class=extract color=#0000ff>22</FONT></A><FONT class=extract>]. While this approach uses a shared-memory counter for the timestamp allocation, causing cen- tralized contention points during transaction execution, it minimizes the timestamp management overhead and is also easier to implement. A common way to implement the allocator is through an atomic add instruction that increments the global counter for each timestamp allocation request. Prior work has proposed hardware techniques to<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>alleviate<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>this<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>timestamp<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>allocation<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>bottleneck<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>[</FONT><A href="file:///C:/SuperMemo/systems/Incremental/temp/HTMLFile.htm#_bookmark29"><FONT class=extract color=#0000ff>12</FONT></A><FONT class=extract>],<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>such<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>as<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>centralized<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>asynchronous counters, remote atomic memory operations, and fully synchronized clocks.</FONT></P>
<P class=western style="MARGIN-TOP: 0in; MARGIN-LEFT: 0.56in; LINE-HEIGHT: 98%; MARGIN-RIGHT: 0.22in; TEXT-INDENT: 0.21in" align=justify><FONT class=extract>Second, decentralized timestamps are generated by combining two factors: an epoch and<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>a<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>transaction<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>ID<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>[</FONT><A href="file:///C:/SuperMemo/systems/Incremental/temp/HTMLFile.htm#_bookmark22"><FONT class=extract color=#0000ff>1</FONT></A><FONT class=extract>,<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN></FONT><A href="file:///C:/SuperMemo/systems/Incremental/temp/HTMLFile.htm#_bookmark25"><FONT class=extract color=#0000ff>6</FONT></A><FONT class=extract>,<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN></FONT><A href="file:///C:/SuperMemo/systems/Incremental/temp/HTMLFile.htm#_bookmark26"><FONT class=extract color=#0000ff>8</FONT></A><FONT class=extract>,<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN></FONT><A href="file:///C:/SuperMemo/systems/Incremental/temp/HTMLFile.htm#_bookmark39"><FONT class=extract color=#0000ff>23</FONT></A><FONT class=extract>].<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>Those<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>timestamps<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>are<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>also<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>64-bit<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>integers;<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>the<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>high 32<SPAN style="LETTER-SPACING: 1.3pt"> </SPAN>bits<SPAN style="LETTER-SPACING: 1.3pt"> </SPAN>of<SPAN style="LETTER-SPACING: 1.3pt"> </SPAN>each<SPAN style="LETTER-SPACING: 1.3pt"> </SPAN>timestamp<SPAN style="LETTER-SPACING: 1.3pt"> </SPAN>contain<SPAN style="LETTER-SPACING: 1.3pt"> </SPAN>an<SPAN style="LETTER-SPACING: 1.3pt"> </SPAN>epoch<SPAN style="LETTER-SPACING: 1.3pt"> </SPAN>number,<SPAN style="LETTER-SPACING: 1.3pt"> </SPAN>which<SPAN style="LETTER-SPACING: 1.3pt"> </SPAN>equals<SPAN style="LETTER-SPACING: 1.3pt"> </SPAN>the<SPAN style="LETTER-SPACING: 1.3pt"> </SPAN>global<SPAN style="LETTER-SPACING: 1.3pt"> </SPAN>epoch<SPAN style="LETTER-SPACING: 1.3pt"> </SPAN>at the<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>corresponding<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>transaction&#8217;s<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>commit<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>time.<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>The<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>lower<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>32<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>bits<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>are<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>the<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>transaction IDs<SPAN style="LETTER-SPACING: -0.7pt"> </SPAN>increasing<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>monotonically.<SPAN style="LETTER-SPACING: -0.7pt"> </SPAN>An<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>epoch<SPAN style="LETTER-SPACING: -0.7pt"> </SPAN>is<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>allocated<SPAN style="LETTER-SPACING: -0.7pt"> </SPAN>at<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>coarse<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>time<SPAN style="LETTER-SPACING: -0.7pt"> </SPAN>granularity<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>(every 40 ms or longer). When a transaction starts, it registers itself in the current epoch by entering the epoch. This approach enables parallelism and removes the centralized timestamp allocator.</FONT></P>
<OL>
<OL start=4>
<LI>
<H2 class=western style="MARGIN-TOP: 0.15in; LINE-HEIGHT: 100%; TEXT-INDENT: 0in" align=left><A name="Version Chaining"></A><SPAN class=sd-abs-pos style="WIDTH: 49px; POSITION: absolute; LEFT: 2.45in; TOP: 0.95in"><FONT class=extract></FONT></SPAN><SPAN class=sd-abs-pos style="WIDTH: 31px; POSITION: absolute; LEFT: 2.17in; TOP: 0.87in"><FONT class=extract></FONT></SPAN><FONT class=extract><FONT face="Palatino Linotype, serif">Version</FONT><FONT face="Palatino Linotype, serif"><SPAN style="LETTER-SPACING: 1.6pt"> </SPAN></FONT><FONT face="Palatino Linotype, serif"><SPAN style="LETTER-SPACING: -0.1pt">Chaining</SPAN></FONT></FONT></H2></LI></OL></OL>
<P class=western style="MARGIN-TOP: 0.12in"><SPAN class=sd-abs-pos style="WIDTH: 75px; POSITION: absolute; LEFT: 2.36in; TOP: 0.34in"><FONT class=extract></FONT></SPAN><SPAN id=Frame5 style="BORDER-TOP: medium none; BORDER-RIGHT: medium none; WIDTH: 0.52in; BACKGROUND: #ffffff; BORDER-BOTTOM: medium none; POSITION: absolute; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0in; LEFT: 3.53in; BORDER-LEFT: medium none; TOP: 4.57in; PADDING-RIGHT: 0in" dir=ltr>
<TABLE dir=ltr cellSpacing=2 cellPadding=1 width=74>
<COLGROUP><FONT class=extract>
<COL width=64></FONT>
<TBODY>
<TR>
<TD style="BORDER-TOP: #000000 0.75pt solid; BORDER-RIGHT: #000000 0.75pt solid; BORDER-BOTTOM: #000000 2.25pt double; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0in; BORDER-LEFT: #000000 0.75pt solid; PADDING-RIGHT: 0in" height=4 vAlign=top width=64>
<P style="MARGIN-LEFT: 0.02in; ORPHANS: 0; WIDOWS: 0"><FONT style="FONT-SIZE: 11pt" size=2><FONT style="FONT-SIZE: 6pt; BACKGROUND-COLOR: #7be1e1" size=1><SPAN style="LETTER-SPACING: -0.1pt">Header</SPAN></FONT></FONT></P></TD></TR>
<TR>
<TD style="BORDER-TOP: #000000 2.25pt double; BORDER-RIGHT: #000000 0.75pt solid; BORDER-BOTTOM: #000000 0.75pt solid; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0in; BORDER-LEFT: #000000 0.75pt solid; PADDING-RIGHT: 0in" height=28 vAlign=top width=64>
<P style="MARGIN-LEFT: 0.03in; ORPHANS: 0; WIDOWS: 0"><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT style="FONT-SIZE: 6pt" size=1><I>V</I></FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: -0.1pt">(100,110)</SPAN></FONT></FONT></FONT></P>
<P style="MARGIN-LEFT: 0.11in; ORPHANS: 0; WIDOWS: 0"><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT style="FONT-SIZE: 6pt" size=1>10</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: 1.7pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: -0.3pt">111</SPAN></FONT></FONT></FONT></P></TD></TR>
<TR>
<TD style="BORDER-TOP: #000000 0.75pt solid; BORDER-RIGHT: #000000 0.75pt solid; BORDER-BOTTOM: #000000 1pt solid; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0in; BORDER-LEFT: #000000 0.75pt solid; PADDING-RIGHT: 0in" height=28 vAlign=top width=64>
<P style="MARGIN-LEFT: 0.03in; ORPHANS: 0; WIDOWS: 0"><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT style="FONT-SIZE: 6pt" size=1><I>V</I></FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: -0.1pt">(110,120)</SPAN></FONT></FONT></FONT></P>
<P style="MARGIN-LEFT: 0.11in; ORPHANS: 0; WIDOWS: 0"><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT style="FONT-SIZE: 6pt" size=1>10</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: 1.7pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: -0.3pt">112</SPAN></FONT></FONT></FONT></P></TD></TR>
<TR>
<TD style="BORDER-TOP: #000000 1pt solid; BORDER-RIGHT: #000000 0.75pt solid; BORDER-BOTTOM: #000000 0.75pt solid; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0in; BORDER-LEFT: #000000 0.75pt solid; PADDING-RIGHT: 0in" height=28 vAlign=top width=64>
<P style="MARGIN-LEFT: 0.03in; ORPHANS: 0; WIDOWS: 0"><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT style="FONT-SIZE: 6pt" size=1><I>V</I></FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: -0.1pt">(120,130)</SPAN></FONT></FONT></FONT></P>
<P style="MARGIN-LEFT: 0.11in; ORPHANS: 0; WIDOWS: 0"><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT style="FONT-SIZE: 6pt" size=1>10</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: 1.7pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: -0.3pt">114</SPAN></FONT></FONT></FONT></P></TD></TR>
<TR>
<TD style="BORDER-TOP: #000000 0.75pt solid; BORDER-RIGHT: #000000 0.75pt solid; BORDER-BOTTOM: #000000 0.75pt solid; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0in; BORDER-LEFT: #000000 0.75pt solid; PADDING-RIGHT: 0in" height=27 vAlign=top width=64>
<P style="MARGIN-LEFT: 0.04in; ORPHANS: 0; WIDOWS: 0"><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT style="FONT-SIZE: 6pt" size=1><I>V</I></FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: -0.1pt">(130,INF)</SPAN></FONT></FONT></FONT></P>
<P style="MARGIN-LEFT: 0.11in; ORPHANS: 0; WIDOWS: 0"><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT style="FONT-SIZE: 6pt" size=1>10</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: 1.7pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: -0.3pt">115</SPAN></FONT></FONT></FONT></P></TD></TR></TBODY></TABLE>
<P class=western><FONT class=extract><BR></FONT></P></SPAN><SPAN class=sd-abs-pos style="WIDTH: 99px; POSITION: absolute; LEFT: 3.15in; TOP: 0.33in"><FONT class=extract></FONT></SPAN><BR>
<P><FONT class=extract></FONT></P>
<P class=western style="MARGIN-TOP: 0.12in"><FONT class=extract><BR></FONT></P>
<P class=western style="MARGIN-LEFT: 0.56in" align=left><SPAN class=sd-abs-pos style="WIDTH: 49px; POSITION: absolute; LEFT: 2.45in; TOP: -0.86in"><FONT class=extract></FONT></SPAN><SPAN class=sd-abs-pos style="WIDTH: 49px; POSITION: absolute; LEFT: 2.45in; TOP: -0.62in"><FONT class=extract></FONT></SPAN><SPAN class=sd-abs-pos style="WIDTH: 49px; POSITION: absolute; LEFT: 2.45in; TOP: -0.39in"><FONT class=extract></FONT></SPAN><SPAN class=sd-abs-pos style="WIDTH: 31px; POSITION: absolute; LEFT: 2.17in; TOP: -0.47in"><FONT class=extract></FONT></SPAN><SPAN class=sd-abs-pos style="WIDTH: 353px; POSITION: absolute; LEFT: 1.84in; TOP: -1.35in"><FONT class=extract></FONT></SPAN><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT face="Georgia, serif"><FONT style="FONT-SIZE: 8pt" size=1>Fig.</FONT></FONT><FONT face="Georgia, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.7pt"> </SPAN></FONT></FONT><FONT face="Georgia, serif"><FONT style="FONT-SIZE: 8pt" size=1>5</FONT></FONT><FONT face="Georgia, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 3.3pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 8pt" size=1>Version</FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.5pt"> </SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1>Chain</FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.5pt"> </SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1>Layout</FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.5pt"> </SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1>in</FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.5pt"> </SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1>MVCC</FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.5pt"> </SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.1pt">databases.</SPAN></FONT></FONT></FONT></P>
<P class=western style="MARGIN-TOP: 0.11in"><FONT class=extract><BR></FONT></P>
<P class=western style="MARGIN-LEFT: 0.56in; LINE-HEIGHT: 98%; MARGIN-RIGHT: 0.22in; TEXT-INDENT: 0.21in" align=justify><A name=_bookmark5></A><FONT class=extract>Under MVCC, a logical tuple corresponds to one or more tuple versions, which forms a version chain. As shown in Figure </FONT><A href="file:///C:/SuperMemo/systems/Incremental/temp/HTMLFile.htm#_bookmark5"><FONT class=extract color=#0000ff>5</FONT></A><FONT class=extract>, there are two possible physical organi- zations of a version chain: array-like or linked list-like. The former implies that each version of the tuple is stored in consecutive memory addresses on the version stor- age. The version storage maintains a number of fixed-size blocks of allocated memory. Typical implementations of the array-like layout append a newly inserted version at<SPAN style="LETTER-SPACING: 2pt"> </SPAN>the end of the slotted block and use cursors to reference the <I>oldest </I>and <I>latest </I>version slots,<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>respectively.<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>One<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>alternative<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>to<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>retrieving<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>a<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>desired<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>version<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>is<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>to<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>iterate<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>the<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>chain from the oldest version to the latest version. Another alternative is to follow the <I>latest version cursor </I>to traverse the chain from the latest version to the oldest version. The advantage of this layout is that the system does not need to modify the version chain header to point to a newer version of the tuple whenever it is updated.</FONT></P>
<P class=western style="MARGIN-TOP: 0.01in; MARGIN-LEFT: 0.56in; LINE-HEIGHT: 98%; MARGIN-RIGHT: 0.22in; TEXT-INDENT: 0.21in" align=justify><FONT class=extract>The latter implies that each version of a tuple is stored in a separately allocated memory<SPAN style="LETTER-SPACING: 0.9pt"> </SPAN>address<SPAN style="LETTER-SPACING: 0.9pt"> </SPAN>on<SPAN style="LETTER-SPACING: 0.9pt"> </SPAN>the<SPAN style="LETTER-SPACING: 0.8pt"> </SPAN>version<SPAN style="LETTER-SPACING: 0.9pt"> </SPAN>storage.<SPAN style="LETTER-SPACING: 0.9pt"> </SPAN>Consequently,<SPAN style="LETTER-SPACING: 0.9pt"> </SPAN>a<SPAN style="LETTER-SPACING: 0.8pt"> </SPAN>tuple&#8217;s<SPAN style="LETTER-SPACING: 0.9pt"> </SPAN>versions<SPAN style="LETTER-SPACING: 0.8pt"> </SPAN>are<SPAN style="LETTER-SPACING: 0.9pt"> </SPAN><SPAN style="LETTER-SPACING: -0.1pt">spread</SPAN></FONT></P>
<P class=western style="MARGIN-TOP: 0.14in"><FONT class=extract><BR></FONT></P>
<P class=western style="MARGIN-LEFT: 0.34in" align=center><SPAN style="LETTER-SPACING: -0.5pt"><FONT class=extract>6</FONT></SPAN></P>
<P class=western style="MARGIN-TOP: 0.03in; PAGE-BREAK-BEFORE: always; MARGIN-LEFT: 0.22in; LINE-HEIGHT: 98%; MARGIN-RIGHT: 0.56in" align=justify><FONT class=extract>across<SPAN style="LETTER-SPACING: 1.6pt"> </SPAN>non-contiguous<SPAN style="LETTER-SPACING: 1.6pt"> </SPAN>physical<SPAN style="LETTER-SPACING: 1.6pt"> </SPAN>locations<SPAN style="LETTER-SPACING: 1.6pt"> </SPAN>in<SPAN style="LETTER-SPACING: 1.6pt"> </SPAN>main<SPAN style="LETTER-SPACING: 1.6pt"> </SPAN>memory.<SPAN style="LETTER-SPACING: 1.6pt"> </SPAN>All<SPAN style="LETTER-SPACING: 1.6pt"> </SPAN>versions<SPAN style="LETTER-SPACING: 1.6pt"> </SPAN>of<SPAN style="LETTER-SPACING: 1.6pt"> </SPAN>the<SPAN style="LETTER-SPACING: 1.6pt"> </SPAN>tuple are linked through the link (e.g., <I>next</I><SPAN style="LETTER-SPACING: -0.6pt"><I> </I></SPAN>) pointers. There are two different version list ordering methods: old-to-new and new-to-old [</FONT><A href="file:///C:/SuperMemo/systems/Incremental/temp/HTMLFile.htm#_bookmark30"><FONT class=extract color=#0000ff>13</FONT></A><FONT class=extract>, </FONT><A href="file:///C:/SuperMemo/systems/Incremental/temp/HTMLFile.htm#_bookmark35"><FONT class=extract color=#0000ff>19</FONT></A><FONT class=extract>]. With old-to-new ordering, the chain&#8217;s HEAD is the oldest extant version of a tuple, while the new-to-old ordering implies<SPAN style="LETTER-SPACING: 1.4pt"> </SPAN>that<SPAN style="LETTER-SPACING: 1.4pt"> </SPAN>the<SPAN style="LETTER-SPACING: 1.4pt"> </SPAN>chain&#8217;s<SPAN style="LETTER-SPACING: 1.4pt"> </SPAN>HEAD<SPAN style="LETTER-SPACING: 1.4pt"> </SPAN>is<SPAN style="LETTER-SPACING: 1.4pt"> </SPAN>the<SPAN style="LETTER-SPACING: 1.4pt"> </SPAN>latest<SPAN style="LETTER-SPACING: 1.4pt"> </SPAN>tuple<SPAN style="LETTER-SPACING: 1.4pt"> </SPAN>version.<SPAN style="LETTER-SPACING: 1.4pt"> </SPAN>The<SPAN style="LETTER-SPACING: 1.4pt"> </SPAN>system<SPAN style="LETTER-SPACING: 1.4pt"> </SPAN>can<SPAN style="LETTER-SPACING: 1.4pt"> </SPAN>use<SPAN style="LETTER-SPACING: 1.4pt"> </SPAN>these link pointers to traverse the version chain easily and access the target version. The downside, however, is that the chain&#8217;s HEAD changes whenever a tuple is updated.<SPAN style="LETTER-SPACING: 2pt"> </SPAN>The system then changes the header to point to the new version.</FONT></P>
<OL>
<OL start=5>
<LI>
<H2 class=western style="MARGIN-TOP: 0.14in; LINE-HEIGHT: 100%; TEXT-INDENT: 0in" align=left><A name="Version Indexing"></A><FONT class=extract><FONT face="Palatino Linotype, serif"><SPAN style="LETTER-SPACING: -0.1pt">Version</SPAN></FONT><FONT face="Palatino Linotype, serif"><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT><FONT face="Palatino Linotype, serif"><SPAN style="LETTER-SPACING: -0.1pt">Indexing</SPAN></FONT></FONT></H2></LI></OL></OL>
<P class=western><FONT class=extract><BR></FONT></P>
<P class=western><FONT class=extract><BR></FONT></P>
<P class=western style="MARGIN-TOP: 0.09in"><FONT class=extract><BR></FONT></P>
<DIV id=Section8 style="column-count: 2" dir=ltr gutter="44">
<P class=western style="MARGIN-TOP: 0.05in; MARGIN-LEFT: 1.6in; LINE-HEIGHT: 103%; MARGIN-RIGHT: 0.03in; TEXT-INDENT: 0in" align=right><SPAN class=sd-abs-pos style="WIDTH: 267px; POSITION: absolute; LEFT: 1.84in; TOP: -0.24in"><FONT class=extract></FONT></SPAN><SPAN class=sd-abs-pos style="WIDTH: 19px; POSITION: absolute; LEFT: 1.62in; TOP: 0.41in"><FONT class=extract></FONT></SPAN><SPAN id=Frame6 style="BORDER-TOP: medium none; BORDER-RIGHT: medium none; WIDTH: 0.13in; BACKGROUND: #ffffff; BORDER-BOTTOM: medium none; POSITION: absolute; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0in; LEFT: 2.79in; BORDER-LEFT: medium none; TOP: 3.84in; PADDING-RIGHT: 0in">
<P style="MARGIN-LEFT: 0.01in; LINE-HEIGHT: 0.12in" dir=ltr align=left><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT style="FONT-SIZE: 7pt" size=1><SPAN style="LETTER-SPACING: -0.1pt">version</SPAN></FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 7pt" size=1><SPAN style="LETTER-SPACING: 0.2pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 7pt" size=1><SPAN style="LETTER-SPACING: -0.1pt">storage</SPAN></FONT></FONT></FONT></P></SPAN><SPAN class=sd-abs-pos style="WIDTH: 352px; POSITION: absolute; LEFT: 1.56in; TOP: 0.26in"><FONT class=extract></FONT></SPAN><FONT class=extract><FONT size=2><FONT size=1>Index</FONT><FONT face="Times New Roman, serif"><FONT size=1> </FONT></FONT><FONT size=1>entry</FONT></FONT> </FONT>
<P></P>
<P class=western style="MARGIN-TOP: 0.01in; LINE-HEIGHT: 100%"><FONT class=extract><BR></FONT></P>
<P class=western style="MARGIN-RIGHT: 0.46in" align=center><SPAN class=sd-abs-pos style="WIDTH: 275px; POSITION: absolute; LEFT: -0.3in; TOP: -0.03in"><FONT class=extract></FONT></SPAN><SPAN id=Frame7 style="BORDER-TOP: medium none; BORDER-RIGHT: medium none; WIDTH: 1.91in; BACKGROUND: #ffffff; BORDER-BOTTOM: medium none; POSITION: absolute; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0in; LEFT: 3.02in; BORDER-LEFT: medium none; TOP: 3.52in; PADDING-RIGHT: 0in" dir=ltr>
<TABLE dir=ltr cellSpacing=0 cellPadding=1 width=261>
<COLGROUP><FONT class=extract>
<COL width=69>
<COL width=85>
<COL width=97></FONT>
<TBODY>
<TR vAlign=top>
<TD style="BORDER-TOP: #000000 0.75pt solid; BORDER-RIGHT: #000000 1pt solid; BORDER-BOTTOM: #000000 0.75pt solid; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0in; BORDER-LEFT: #000000 0.75pt solid; PADDING-RIGHT: 0.01in" height=16 width=69>
<P style="MARGIN-TOP: 0.01in; MARGIN-LEFT: 0.02in; ORPHANS: 0; WIDOWS: 0"><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT style="FONT-SIZE: 7pt" size=1><SPAN style="LETTER-SPACING: -0.1pt">primay</SPAN></FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 7pt" size=1><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 7pt" size=1><SPAN style="LETTER-SPACING: -0.3pt">key</SPAN></FONT></FONT></FONT></P></TD>
<TD style="BORDER-TOP: #000000 1pt solid; BORDER-RIGHT: #000000 2.25pt solid; BORDER-BOTTOM: #000000 1pt solid; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0in; BORDER-LEFT: #000000 1pt solid; PADDING-RIGHT: 0.01in" width=85>
<P style="MARGIN-TOP: 0.01in; MARGIN-LEFT: 0.02in; ORPHANS: 0; WIDOWS: 0"><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT color=#c00000><FONT style="FONT-SIZE: 7pt" size=1><SPAN style="LETTER-SPACING: -0.1pt">tuple</SPAN></FONT></FONT><FONT color=#c00000><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 7pt" size=1><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT></FONT></FONT><FONT color=#c00000><FONT style="FONT-SIZE: 7pt" size=1><SPAN style="LETTER-SPACING: -0.1pt">pointer</SPAN></FONT></FONT></FONT></FONT></P></TD>
<TD style="BORDER-TOP: #000000 1pt solid; BORDER-RIGHT: #000000 1pt solid; BORDER-BOTTOM: #000000 1pt solid; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0in; BORDER-LEFT: #000000 2.25pt solid; PADDING-RIGHT: 0.01in" width=97>
<P style="MARGIN-TOP: 0.01in; MARGIN-LEFT: 0.02in; ORPHANS: 0; WIDOWS: 0"><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT color=#c00000><FONT style="FONT-SIZE: 7pt" size=1><SPAN style="LETTER-SPACING: -0.1pt">tuple</SPAN></FONT></FONT><FONT color=#c00000><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 7pt" size=1><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT></FONT></FONT><FONT color=#c00000><FONT style="FONT-SIZE: 7pt" size=1><SPAN style="LETTER-SPACING: -0.1pt">identifier</SPAN></FONT></FONT></FONT></FONT></P></TD></TR></TBODY></TABLE>
<P class=western><FONT class=extract><BR></FONT></P></SPAN><FONT class=extract><FONT size=2><FONT color=#c00000><FONT size=1><B>(b)</B></FONT></FONT></FONT> </FONT>
<P></P></DIV>
<DIV id=Section9 dir=ltr>
<P class=western><FONT class=extract><BR></FONT></P>
<P class=western><FONT class=extract><BR></FONT></P>
<P class=western><FONT class=extract><BR></FONT></P>
<P class=western><FONT class=extract><BR></FONT></P>
<P class=western><FONT class=extract><BR></FONT></P>
<P class=western><FONT class=extract><BR></FONT></P>
<P class=western style="MARGIN-TOP: 0.09in"><FONT class=extract><BR></FONT></P>
<P class=western style="MARGIN-LEFT: 0.22in" align=left><SPAN class=sd-abs-pos style="WIDTH: 36px; POSITION: absolute; LEFT: 3.66in; TOP: -0.68in"><FONT class=extract></FONT></SPAN><SPAN id=Frame8 style="BORDER-TOP: medium none; BORDER-RIGHT: medium none; WIDTH: 0.25in; BACKGROUND: #ffffff; BORDER-BOTTOM: medium none; POSITION: absolute; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0in; LEFT: 4.83in; BORDER-LEFT: medium none; TOP: 4.03in; PADDING-RIGHT: 0in">
<P style="MARGIN-LEFT: 0.11in; LINE-HEIGHT: 103%; MARGIN-RIGHT: 0.01in; TEXT-INDENT: -0.1in" dir=ltr align=left><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT style="FONT-SIZE: 7pt" size=1><SPAN style="LETTER-SPACING: -0.1pt">indirection</SPAN></FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 7pt" size=1><SPAN style="LETTER-SPACING: 2pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 7pt" size=1><SPAN style="LETTER-SPACING: -0.1pt">arrays</SPAN></FONT></FONT></FONT></P></SPAN><FONT class=extract><FONT size=2><FONT face="Georgia, serif"><FONT size=1>Fig.</FONT></FONT><FONT face="Georgia, serif"><FONT size=1> </FONT></FONT><FONT face="Georgia, serif"><FONT size=1>6</FONT></FONT><FONT face="Georgia, serif"><FONT size=1> </FONT></FONT><FONT size=1>Tuple</FONT><FONT size=1> </FONT><FONT size=1>Version</FONT><FONT size=1> </FONT><FONT size=1>Indexing</FONT><FONT size=1> </FONT><FONT size=1>in</FONT><FONT size=1> </FONT><FONT size=1>MVCC</FONT><FONT size=1> </FONT><FONT size=1>databases.</FONT></FONT> </FONT>
<P></P>
<P class=western style="MARGIN-TOP: 0.1in"><FONT class=extract><BR></FONT></P>
<P class=western style="MARGIN-TOP: 0in; MARGIN-LEFT: 0.22in; LINE-HEIGHT: 98%; MARGIN-RIGHT: 0.56in; TEXT-INDENT: 0.21in" align=right><A name=_bookmark6></A><FONT class=extract>Almost all MVCC databases keep the table&#8217;s versioning information separate from its<SPAN style="LETTER-SPACING: 1.8pt"> </SPAN>indexes<SPAN style="LETTER-SPACING: 1.8pt"> </SPAN>[</FONT><A href="file:///C:/SuperMemo/systems/Incremental/temp/HTMLFile.htm#_bookmark30"><FONT class=extract color=#0000ff>13</FONT></A><FONT class=extract>].<SPAN style="LETTER-SPACING: 1.8pt"> </SPAN>Primary<SPAN style="LETTER-SPACING: 1.8pt"> </SPAN>key<SPAN style="LETTER-SPACING: 1.8pt"> </SPAN>indexes<SPAN style="LETTER-SPACING: 1.7pt"> </SPAN>always<SPAN style="LETTER-SPACING: 1.8pt"> </SPAN>point<SPAN style="LETTER-SPACING: 1.8pt"> </SPAN>to<SPAN style="LETTER-SPACING: 1.7pt"> </SPAN>the<SPAN style="LETTER-SPACING: 1.8pt"> </SPAN>latest<SPAN style="LETTER-SPACING: 1.8pt"> </SPAN>version<SPAN style="LETTER-SPACING: 1.7pt"> </SPAN>of<SPAN style="LETTER-SPACING: 1.8pt"> </SPAN>a<SPAN style="LETTER-SPACING: 1.8pt"> </SPAN>tuple. As<SPAN style="LETTER-SPACING: 2pt"> </SPAN>shown<SPAN style="LETTER-SPACING: 2pt"> </SPAN>in<SPAN style="LETTER-SPACING: 2pt"> </SPAN>Figure<SPAN style="LETTER-SPACING: 2pt"> </SPAN></FONT><A href="file:///C:/SuperMemo/systems/Incremental/temp/HTMLFile.htm#_bookmark6"><FONT class=extract color=#0000ff>6</FONT></A><FONT class=extract>,<SPAN style="LETTER-SPACING: 2pt"> </SPAN>given<SPAN style="LETTER-SPACING: 2pt"> </SPAN>an<SPAN style="LETTER-SPACING: 2pt"> </SPAN><I>index</I><SPAN style="LETTER-SPACING: 2pt"><I> </I></SPAN><I>entry</I><SPAN style="LETTER-SPACING: 3pt"><I> </I></SPAN>as<SPAN style="LETTER-SPACING: 2pt"> </SPAN>a<SPAN style="LETTER-SPACING: 2pt"> </SPAN>key/value<SPAN style="LETTER-SPACING: 2pt"> </SPAN>pair,<SPAN style="LETTER-SPACING: 2pt"> </SPAN>where<SPAN style="LETTER-SPACING: 2pt"> </SPAN>the<SPAN style="LETTER-SPACING: 2pt"> </SPAN>key<SPAN style="LETTER-SPACING: 2pt"> </SPAN>is a<SPAN style="LETTER-SPACING: 1.4pt"> </SPAN>tuple&#8217;s<SPAN style="LETTER-SPACING: 1.4pt"> </SPAN>primary<SPAN style="LETTER-SPACING: 1.4pt"> </SPAN>key,<SPAN style="LETTER-SPACING: 1.4pt"> </SPAN>and<SPAN style="LETTER-SPACING: 1.4pt"> </SPAN>the<SPAN style="LETTER-SPACING: 1.4pt"> </SPAN>value<SPAN style="LETTER-SPACING: 1.4pt"> </SPAN>is<SPAN style="LETTER-SPACING: 1.4pt"> </SPAN>a<SPAN style="LETTER-SPACING: 1.4pt"> </SPAN>pointer<SPAN style="LETTER-SPACING: 1.4pt"> </SPAN>to<SPAN style="LETTER-SPACING: 1.4pt"> </SPAN>that<SPAN style="LETTER-SPACING: 1.4pt"> </SPAN>tuple&#8217;s<SPAN style="LETTER-SPACING: 1.4pt"> </SPAN>latest<SPAN style="LETTER-SPACING: 1.4pt"> </SPAN>version.<SPAN style="LETTER-SPACING: 1.4pt"> </SPAN>Two management<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>schemes<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>for<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>primary<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>indexes<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>differ<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>in<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>the<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>contents<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>of<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>these<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>value<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>pointers. The first approach stores the physical address of the tuple&#8217;s latest version in the index entries.<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>In<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>this<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>manner,<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>after<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>traversing<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>the<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>tree-like<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>index,<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>the<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>system<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>can<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>search<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>for<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>a tuple from the version chain head without additional memory access. However, when updating any tuple and creating a new version, the system needs to update the index. With<SPAN style="LETTER-SPACING: 2pt"> </SPAN>this<SPAN style="LETTER-SPACING: 2pt"> </SPAN>second<SPAN style="LETTER-SPACING: 2pt"> </SPAN>scheme,<SPAN style="LETTER-SPACING: 2pt"> </SPAN>the<SPAN style="LETTER-SPACING: 2pt"> </SPAN>system<SPAN style="LETTER-SPACING: 2pt"> </SPAN>uses<SPAN style="LETTER-SPACING: 2pt"> </SPAN>tuple<SPAN style="LETTER-SPACING: 2pt"> </SPAN>identifiers<SPAN style="LETTER-SPACING: 2pt"> </SPAN>that<SPAN style="LETTER-SPACING: 2pt"> </SPAN>use<SPAN style="LETTER-SPACING: 2pt"> </SPAN>indirection arrays to map to the locations of the tuples&#8217; latest version. This approach&#8217;s core idea<SPAN style="LETTER-SPACING: 4pt"> </SPAN>is<SPAN style="LETTER-SPACING: 1.4pt"> </SPAN>that<SPAN style="LETTER-SPACING: 1.4pt"> </SPAN>the<SPAN style="LETTER-SPACING: 1.4pt"> </SPAN>system<SPAN style="LETTER-SPACING: 1.4pt"> </SPAN>uses<SPAN style="LETTER-SPACING: 1.4pt"> </SPAN>a<SPAN style="LETTER-SPACING: 1.4pt"> </SPAN>fixed<SPAN style="LETTER-SPACING: 1.4pt"> </SPAN>identifier<SPAN style="LETTER-SPACING: 1.5pt"> </SPAN>that<SPAN style="LETTER-SPACING: 1.5pt"> </SPAN>does<SPAN style="LETTER-SPACING: 1.4pt"> </SPAN>not<SPAN style="LETTER-SPACING: 1.5pt"> </SPAN>change<SPAN style="LETTER-SPACING: 1.4pt"> </SPAN>for<SPAN style="LETTER-SPACING: 1.4pt"> </SPAN>each<SPAN style="LETTER-SPACING: 1.4pt"> </SPAN>tuple<SPAN style="LETTER-SPACING: 1.4pt"> </SPAN>in<SPAN style="LETTER-SPACING: 1.4pt"> </SPAN>its index<SPAN style="LETTER-SPACING: 0.9pt"> </SPAN>entry.<SPAN style="LETTER-SPACING: 0.9pt"> </SPAN>It<SPAN style="LETTER-SPACING: 0.9pt"> </SPAN>avoids<SPAN style="LETTER-SPACING: 0.9pt"> </SPAN>the<SPAN style="LETTER-SPACING: 0.9pt"> </SPAN>problem<SPAN style="LETTER-SPACING: 0.9pt"> </SPAN>of<SPAN style="LETTER-SPACING: 0.9pt"> </SPAN>having<SPAN style="LETTER-SPACING: 0.9pt"> </SPAN>to<SPAN style="LETTER-SPACING: 0.9pt"> </SPAN>update<SPAN style="LETTER-SPACING: 0.9pt"> </SPAN>the<SPAN style="LETTER-SPACING: 0.9pt"> </SPAN>primary<SPAN style="LETTER-SPACING: 0.9pt"> </SPAN>index<SPAN style="LETTER-SPACING: 0.9pt"> </SPAN>to<SPAN style="LETTER-SPACING: 0.9pt"> </SPAN>point<SPAN style="LETTER-SPACING: 0.9pt"> </SPAN>to a new physical location whenever a tuple is updated. Only the mapping entry needs<SPAN style="LETTER-SPACING: 4pt"> </SPAN>to<SPAN style="LETTER-SPACING: 1pt"> </SPAN>change<SPAN style="LETTER-SPACING: 1pt"> </SPAN>each<SPAN style="LETTER-SPACING: 1pt"> </SPAN>time.<SPAN style="LETTER-SPACING: 1pt"> </SPAN>However,<SPAN style="LETTER-SPACING: 1pt"> </SPAN>since<SPAN style="LETTER-SPACING: 1pt"> </SPAN>the<SPAN style="LETTER-SPACING: 1pt"> </SPAN>index<SPAN style="LETTER-SPACING: 1pt"> </SPAN>entry<SPAN style="LETTER-SPACING: 1pt"> </SPAN>does<SPAN style="LETTER-SPACING: 1pt"> </SPAN>not<SPAN style="LETTER-SPACING: 1pt"> </SPAN>store<SPAN style="LETTER-SPACING: 1pt"> </SPAN>the<SPAN style="LETTER-SPACING: 1pt"> </SPAN>exact<SPAN style="LETTER-SPACING: 1pt"> </SPAN>tuple version,<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>after<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>traversing<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>the<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>tree-like<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>index,<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>the<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>system<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>needs<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>to<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>perform<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>an<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN><SPAN style="LETTER-SPACING: -0.1pt">additional</SPAN></FONT></P>
<P class=western style="MARGIN-TOP: 0.01in; MARGIN-LEFT: 0.22in"><FONT class=extract>look-up<SPAN style="LETTER-SPACING: 0.6pt"> </SPAN>to<SPAN style="LETTER-SPACING: 0.7pt"> </SPAN>find<SPAN style="LETTER-SPACING: 0.6pt"> </SPAN>the<SPAN style="LETTER-SPACING: 0.7pt"> </SPAN>version<SPAN style="LETTER-SPACING: 0.7pt"> </SPAN>chain<SPAN style="LETTER-SPACING: 0.6pt"> </SPAN><SPAN style="LETTER-SPACING: -0.2pt">HEAD.</SPAN></FONT></P>
<OL>
<OL start=6>
<LI>
<H2 class=western style="MARGIN-TOP: 0.14in; LINE-HEIGHT: 100%; TEXT-INDENT: 0in" align=left><A name=Discussion></A><FONT class=extract face="Palatino Linotype, serif"><SPAN style="LETTER-SPACING: -0.1pt">Discussion</SPAN></FONT></H2></LI></OL></OL>
<P class=western style="MARGIN-TOP: 0.07in; MARGIN-LEFT: 0.09in; LINE-HEIGHT: 98%; MARGIN-RIGHT: 0.56in" align=right><FONT class=extract>Existing data placement designs for modern in-memory MVCC database systems use table<SPAN style="LETTER-SPACING: 0.9pt"> </SPAN>indexes<SPAN style="LETTER-SPACING: 0.9pt"> </SPAN>and<SPAN style="LETTER-SPACING: 0.9pt"> </SPAN>version<SPAN style="LETTER-SPACING: 0.9pt"> </SPAN>chains<SPAN style="LETTER-SPACING: 0.9pt"> </SPAN>to<SPAN style="LETTER-SPACING: 0.9pt"> </SPAN>store<SPAN style="LETTER-SPACING: 0.9pt"> </SPAN>tuple<SPAN style="LETTER-SPACING: 0.9pt"> </SPAN>versions.<SPAN style="LETTER-SPACING: 0.9pt"> </SPAN>However,<SPAN style="LETTER-SPACING: 0.9pt"> </SPAN>these<SPAN style="LETTER-SPACING: 0.9pt"> </SPAN><SPAN style="LETTER-SPACING: -0.1pt">approaches</SPAN></FONT></P>
<P class=western style="MARGIN-TOP: 0.08in"><FONT class=extract><BR></FONT></P>
<P class=western style="MARGIN-RIGHT: 0.34in" align=center><SPAN style="LETTER-SPACING: -0.5pt"><FONT class=extract>7</FONT></SPAN></P></DIV>
<P class=western style="MARGIN-TOP: 0.03in; PAGE-BREAK-BEFORE: always; MARGIN-LEFT: 0.56in; LINE-HEIGHT: 98%; MARGIN-RIGHT: 0.22in" align=justify><FONT class=extract>are write-optimized and result in read amplification when dealing with heterogeneous workloads. Table indexes only provide tuple references, requiring additional linear traversals to fetch tuple versions from version storage. Moreover, version chain orga- nizations lack filtering information, needing visibility checks for each version until the visible version is found for the given transaction.</FONT></P>
<OL start=3>
<LI>
<H1 class=western style="LINE-HEIGHT: 100%; TEXT-INDENT: 0in" align=left><A name="Version-aware Data Placement"></A><FONT class=extract>Version-aware<SPAN style="LETTER-SPACING: 1.4pt"> </SPAN>Data<SPAN style="LETTER-SPACING: 1.4pt"> </SPAN><SPAN style="LETTER-SPACING: -0.1pt">Placement</SPAN></FONT></H1></LI></OL>
<P class=western style="MARGIN-TOP: 0.1in; MARGIN-LEFT: 0.56in; LINE-HEIGHT: 98%; MARGIN-RIGHT: 0.22in" align=justify><FONT class=extract>The<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>version-aware<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>data<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>placement<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>uses<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>two<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>storage<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>layers:<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>the<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>version<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>B<SUP>+</SUP>-tree<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>and<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>the version store. The version B<SUP>+</SUP>-tree holds the most recent version of each tuple, while the version store stores multiple older versions of the same tuple. These two storage components are kept separate.</FONT></P>
<OL>
<OL>
<LI>
<H2 class=western style="MARGIN-TOP: 0.15in; LINE-HEIGHT: 100%; TEXT-INDENT: 0in" align=left><A name="Version B+-tree"></A><FONT class=extract><FONT face="Palatino Linotype, serif">Version</FONT><FONT face="Palatino Linotype, serif"><SPAN style="LETTER-SPACING: 0.6pt"> </SPAN></FONT><FONT face="Palatino Linotype, serif">B</FONT><SUP><FONT face="Georgia, serif">+</FONT></SUP><FONT face="Palatino Linotype, serif">-</FONT><FONT face="Palatino Linotype, serif"><SPAN style="LETTER-SPACING: -0.2pt">tree</SPAN></FONT></FONT></H2></LI></OL></OL>
<P class=western style="MARGIN-TOP: 0.17in"><FONT class=extract><BR></FONT></P>
<DIV id=Section10 style="column-count: 4" dir=ltr gutter="4">
<P class=western style="MARGIN-TOP: 0.08in"><FONT class=extract><BR></FONT></P>
<P class=western style="MARGIN-RIGHT: 0in" align=right><SPAN class=sd-abs-pos style="WIDTH: 279px; POSITION: absolute; LEFT: 0.9in; TOP: -0.14in"><FONT class=extract></FONT></SPAN><FONT style="FONT-SIZE: 11pt" size=2><FONT style="FONT-SIZE: 5pt; BACKGROUND-COLOR: #7be1e1" size=1><SPAN style="LETTER-SPACING: -0.3pt">(a)</SPAN></FONT></FONT></P>
<P class=western><FONT class=extract><BR></FONT></P>
<P class=western style="MARGIN-TOP: 0.07in"><FONT class=extract><BR></FONT></P>
<P class=western align=right><FONT style="FONT-SIZE: 11pt" size=2><FONT style="FONT-SIZE: 5pt; BACKGROUND-COLOR: #7be1e1" size=1><SPAN style="LETTER-SPACING: -0.3pt">(b)</SPAN></FONT></FONT></P>
<P class=western style="MARGIN-TOP: 0.06in; MARGIN-LEFT: 0.23in" align=left><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT style="FONT-SIZE: 5pt" size=1>last</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 5pt" size=1><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 5pt" size=1>sorted</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 5pt" size=1><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 5pt" size=1><SPAN style="LETTER-SPACING: -0.2pt">zone</SPAN></FONT></FONT></FONT></P>
<P class=western><FONT class=extract><BR></FONT></P>
<P class=western style="MARGIN-TOP: 0.05in"><FONT class=extract><BR></FONT></P>
<P class=western style="MARGIN-LEFT: 0.22in" align=left><SPAN class=sd-abs-pos style="WIDTH: 220px; POSITION: absolute; LEFT: 0.03in; TOP: -0.25in"><FONT class=extract></FONT></SPAN><SPAN id=Frame9 style="BORDER-TOP: medium none; BORDER-RIGHT: medium none; WIDTH: 1.53in; BACKGROUND: #ffffff; BORDER-BOTTOM: medium none; POSITION: absolute; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0in; LEFT: 4.63in; BORDER-LEFT: medium none; TOP: 3.96in; PADDING-RIGHT: 0in" dir=ltr>
<TABLE dir=ltr cellSpacing=0 cellPadding=1 width=207>
<COLGROUP><FONT class=extract>
<COL width=27>
<COL width=28>
<COL width=28>
<COL width=31>
<COL width=83></FONT>
<TBODY>
<TR vAlign=top>
<TD style="BORDER-TOP: #000000 0.75pt solid; BORDER-RIGHT: #000000 1px solid; BORDER-BOTTOM: #bebebe 4.5pt solid; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0in; BORDER-LEFT: #000000 1px solid; PADDING-RIGHT: 0in" height=11 width=27>
<P style="MARGIN-LEFT: 0.06in; ORPHANS: 0; WIDOWS: 0"><FONT style="FONT-SIZE: 11pt" size=2><FONT style="FONT-SIZE: 5pt; BACKGROUND-COLOR: #7be1e1" size=1><SPAN style="LETTER-SPACING: -0.3pt">NH</SPAN></FONT></FONT></P></TD>
<TD style="BORDER-TOP: #000000 0.75pt solid; BORDER-RIGHT: #000000 1px solid; BORDER-BOTTOM: #bebebe 4.5pt solid; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0in; BORDER-LEFT: #000000 1px solid; PADDING-RIGHT: 0in" width=28>
<P style="MARGIN-LEFT: 0.02in; ORPHANS: 0; WIDOWS: 0"><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT style="FONT-SIZE: 5pt" size=1>Key</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 5pt" size=1><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 5pt" size=1><SPAN style="LETTER-SPACING: -0.5pt">1</SPAN></FONT></FONT></FONT></P></TD>
<TD style="BORDER-TOP: #000000 0.75pt solid; BORDER-RIGHT: #000000 1px solid; BORDER-BOTTOM: #bebebe 4.5pt solid; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0in; BORDER-LEFT: #000000 1px solid; PADDING-RIGHT: 0in" width=28>
<P style="MARGIN-LEFT: 0.03in; ORPHANS: 0; WIDOWS: 0"><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT style="FONT-SIZE: 5pt" size=1>Key</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 5pt" size=1><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 5pt" size=1><SPAN style="LETTER-SPACING: -0.5pt">2</SPAN></FONT></FONT></FONT></P></TD>
<TD style="BORDER-TOP: #000000 0.75pt solid; BORDER-RIGHT: #c00000 1.5pt solid; BORDER-BOTTOM: #bebebe 4.5pt solid; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0in; BORDER-LEFT: #000000 1px solid; PADDING-RIGHT: 0in" width=31>
<P style="MARGIN-LEFT: 0.02in; ORPHANS: 0; WIDOWS: 0"><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT style="FONT-SIZE: 5pt" size=1>Key</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 5pt" size=1> </FONT></FONT><FONT style="FONT-SIZE: 5pt" size=1><SPAN style="LETTER-SPACING: -0.3pt">13</SPAN></FONT></FONT></FONT></P></TD>
<TD style="BORDER-TOP: #000000 1px solid; BORDER-RIGHT: #000000 1px solid; BORDER-BOTTOM: #bebebe 4.5pt solid; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0in; BORDER-LEFT: #c00000 1.5pt solid; PADDING-RIGHT: 0in" width=83>
<P style="ORPHANS: 0; WIDOWS: 0"><FONT class=extract><BR></FONT></P></TD></TR></TBODY></TABLE>
<P class=western><FONT class=extract><BR></FONT></P></SPAN><SPAN class=sd-abs-pos style="WIDTH: 220px; POSITION: absolute; LEFT: 0.03in; TOP: 0.04in"><FONT class=extract></FONT></SPAN><SPAN id=Frame10 style="BORDER-TOP: medium none; BORDER-RIGHT: medium none; WIDTH: 1.53in; BACKGROUND: #ffffff; BORDER-BOTTOM: medium none; POSITION: absolute; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0in; LEFT: 4.63in; BORDER-LEFT: medium none; TOP: 4.25in; PADDING-RIGHT: 0in" dir=ltr>
<TABLE dir=ltr cellSpacing=0 cellPadding=1 width=207>
<COLGROUP><FONT class=extract>
<COL width=27>
<COL width=23>
<COL width=24>
<COL width=30>
<COL width=28>
<COL width=29>
<COL width=31></FONT>
<TBODY>
<TR vAlign=top>
<TD style="BORDER-TOP: #000000 1pt solid; BORDER-RIGHT: #000000 1px solid; BORDER-BOTTOM: #bebebe 6.35pt solid; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0in; BORDER-LEFT: #000000 1px solid; PADDING-RIGHT: 0in" height=5 width=27>
<P style="MARGIN-LEFT: 0.06in; ORPHANS: 0; WIDOWS: 0"><FONT style="FONT-SIZE: 11pt" size=2><FONT style="FONT-SIZE: 5pt; BACKGROUND-COLOR: #7be1e1" size=1><SPAN style="LETTER-SPACING: -0.3pt">NH</SPAN></FONT></FONT></P></TD>
<TD style="BORDER-TOP: #000000 1pt solid; BORDER-RIGHT: #000000 1px solid; BORDER-BOTTOM: #bebebe 6.35pt solid; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0in; BORDER-LEFT: #000000 1px solid; PADDING-RIGHT: 0in" width=23>
<P style="MARGIN-LEFT: 0.02in; ORPHANS: 0; WIDOWS: 0; MARGIN-RIGHT: -0.01in"><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT style="FONT-SIZE: 5pt" size=1>Key</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 5pt" size=1> </FONT></FONT><FONT style="FONT-SIZE: 5pt" size=1><SPAN style="LETTER-SPACING: -0.5pt">1</SPAN></FONT></FONT></FONT></P></TD>
<TD style="BORDER-TOP: #ffffff 1pt solid; BORDER-RIGHT: #000000 1px solid; BORDER-BOTTOM: #bebebe 6.35pt solid; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0in; BORDER-LEFT: #000000 1px solid; PADDING-RIGHT: 0in" width=24>
<P style="MARGIN-LEFT: 0.02in; ORPHANS: 0; WIDOWS: 0; MARGIN-RIGHT: -0.01in"><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT style="FONT-SIZE: 5pt" size=1>Key</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 5pt" size=1><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 5pt" size=1><SPAN style="LETTER-SPACING: -0.5pt">2</SPAN></FONT></FONT></FONT></P></TD>
<TD style="BORDER-TOP: #ffffff 1pt solid; BORDER-RIGHT: #c00000 2.25pt solid; BORDER-BOTTOM: #bebebe 6.35pt solid; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0in; BORDER-LEFT: #000000 1px solid; PADDING-RIGHT: 0in" width=30>
<P style="MARGIN-LEFT: 0.02in; ORPHANS: 0; WIDOWS: 0; MARGIN-RIGHT: -0.01in"><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT style="FONT-SIZE: 5pt" size=1>Key</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 5pt" size=1><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 5pt" size=1><SPAN style="LETTER-SPACING: -0.3pt">13</SPAN></FONT></FONT></FONT></P></TD>
<TD style="BORDER-TOP: #000000 1pt solid; BORDER-RIGHT: #000000 1px solid; BORDER-BOTTOM: #bebebe 6.35pt solid; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0in; BORDER-LEFT: #c00000 2.25pt solid; PADDING-RIGHT: 0in" width=28>
<P style="MARGIN-LEFT: 0in; ORPHANS: 0; WIDOWS: 0"><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT style="FONT-SIZE: 5pt" size=1>Key</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 5pt" size=1><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 5pt" size=1><SPAN style="LETTER-SPACING: -0.3pt">31</SPAN></FONT></FONT></FONT></P></TD>
<TD style="BORDER-TOP: #000000 1pt solid; BORDER-RIGHT: #000000 1px solid; BORDER-BOTTOM: #bebebe 6.35pt solid; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0in; BORDER-LEFT: #000000 1px solid; PADDING-RIGHT: 0in" width=29>
<P style="MARGIN-LEFT: 0.02in; ORPHANS: 0; WIDOWS: 0; MARGIN-RIGHT: -0.01in"><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT style="FONT-SIZE: 5pt" size=1>Key</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 5pt" size=1><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 5pt" size=1><SPAN style="LETTER-SPACING: -0.3pt">11</SPAN></FONT></FONT></FONT></P></TD>
<TD style="BORDER-TOP: #000000 1pt solid; BORDER-RIGHT: #000000 1px solid; BORDER-BOTTOM: #bebebe 6.35pt solid; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0in; BORDER-LEFT: #000000 1px solid; PADDING-RIGHT: 0in" width=31>
<P style="MARGIN-LEFT: 0.02in; ORPHANS: 0; WIDOWS: 0"><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT style="FONT-SIZE: 5pt" size=1>Key</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 5pt" size=1><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 5pt" size=1><SPAN style="LETTER-SPACING: -0.3pt">21</SPAN></FONT></FONT></FONT></P></TD></TR></TBODY></TABLE>
<P class=western><FONT class=extract><BR></FONT></P></SPAN><FONT class=extract><FONT size=2><FONT size=1>last</FONT><FONT face="Times New Roman, serif"><FONT size=1> </FONT></FONT><FONT size=1>sorted</FONT><FONT face="Times New Roman, serif"><FONT size=1> </FONT></FONT><FONT size=1>zone</FONT></FONT> </FONT>
<P></P>
<P class=western style="MARGIN-TOP: 0.06in" align=right><FONT style="FONT-SIZE: 11pt" size=2><FONT style="FONT-SIZE: 5pt; BACKGROUND-COLOR: #7be1e1" size=1><SPAN style="LETTER-SPACING: -0.1pt">buffer</SPAN></FONT></FONT></P>
<P class=western><FONT class=extract><BR></FONT></P>
<P class=western style="MARGIN-TOP: 0.05in"><FONT class=extract><BR></FONT></P>
<P class=western align=right><SPAN class=sd-abs-pos style="WIDTH: 20px; POSITION: absolute; LEFT: 0in; TOP: 0.04in"><FONT class=extract></FONT></SPAN><FONT style="FONT-SIZE: 11pt" size=2><FONT style="FONT-SIZE: 5pt; BACKGROUND-COLOR: #7be1e1" size=1><SPAN style="LETTER-SPACING: -0.1pt">buffer</SPAN></FONT></FONT></P>
<P class=western style="LINE-HEIGHT: 100%"><FONT class=extract><BR></FONT></P>
<P class=western style="MARGIN-TOP: 0.03in"><FONT class=extract><BR></FONT></P>
<P class=western style="MARGIN-LEFT: 0.26in" align=left><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT style="FONT-SIZE: 5pt" size=1>Leaf</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 5pt" size=1> </FONT></FONT><FONT style="FONT-SIZE: 5pt" size=1><SPAN style="LETTER-SPACING: -0.5pt">A</SPAN></FONT></FONT></FONT></P>
<P class=western><FONT class=extract><BR></FONT></P>
<P class=western style="MARGIN-TOP: 0.06in"><FONT class=extract><BR></FONT></P>
<P class=western style="MARGIN-LEFT: 0.26in" align=left><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT style="FONT-SIZE: 5pt" size=1>Leaf</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 5pt" size=1> </FONT></FONT><FONT style="FONT-SIZE: 5pt" size=1><SPAN style="LETTER-SPACING: -0.5pt">A</SPAN></FONT></FONT></FONT></P></DIV>
<DIV id=Section11 dir=ltr>
<P class=western style="MARGIN-TOP: 0in"><FONT class=extract><BR></FONT></P></DIV>
<DIV id=Section12 style="column-count: 6" dir=ltr gutter="4">
<P class=western><FONT class=extract><BR></FONT></P>
<P class=western style="MARGIN-TOP: 0.05in"><FONT class=extract><BR></FONT></P>
<P class=western style="MARGIN-LEFT: 0.92in" align=left><SPAN class=sd-abs-pos style="WIDTH: 224px; POSITION: absolute; LEFT: 0.87in; TOP: -0.19in"><FONT class=extract></FONT></SPAN><SPAN id=Frame11 style="BORDER-TOP: medium none; BORDER-RIGHT: medium none; WIDTH: 1.55in; BACKGROUND: #ffffff; BORDER-BOTTOM: medium none; POSITION: absolute; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0in; LEFT: 2.03in; BORDER-LEFT: medium none; TOP: 4.6in; PADDING-RIGHT: 0in" dir=ltr>
<TABLE dir=ltr cellSpacing=0 cellPadding=1 width=211>
<COLGROUP><FONT class=extract>
<COL width=32>
<COL width=40>
<COL width=43>
<COL width=37>
<COL width=47></FONT>
<TBODY>
<TR vAlign=top>
<TD style="BORDER-TOP: #000000 1px solid; BORDER-RIGHT: #000000 1px solid; BORDER-BOTTOM: #000000 1px solid; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0in; BORDER-LEFT: #000000 1px solid; PADDING-RIGHT: 0in" height=14 width=32>
<P style="MARGIN-LEFT: 0.04in; ORPHANS: 0; WIDOWS: 0"><FONT style="FONT-SIZE: 11pt" size=2><FONT style="FONT-SIZE: 5pt; BACKGROUND-COLOR: #7be1e1" size=1><SPAN style="LETTER-SPACING: -0.2pt">Node</SPAN></FONT></FONT></P>
<P style="MARGIN-LEFT: 0.07in; ORPHANS: 0; WIDOWS: 0"><FONT style="FONT-SIZE: 11pt" size=2><FONT style="FONT-SIZE: 5pt; BACKGROUND-COLOR: #7be1e1" size=1><SPAN style="LETTER-SPACING: -0.2pt">size</SPAN></FONT></FONT></P></TD>
<TD style="BORDER-TOP: #000000 1px solid; BORDER-RIGHT: #000000 1px solid; BORDER-BOTTOM: #000000 1px solid; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0in; BORDER-LEFT: #000000 1px solid; PADDING-RIGHT: 0in" width=40>
<P style="MARGIN-LEFT: 0.05in; ORPHANS: 0; WIDOWS: 0"><FONT style="FONT-SIZE: 11pt" size=2><FONT style="FONT-SIZE: 5pt; BACKGROUND-COLOR: #7be1e1" size=1><SPAN style="LETTER-SPACING: -0.1pt">Sorted</SPAN></FONT></FONT></P>
<P style="MARGIN-LEFT: 0.06in; ORPHANS: 0; WIDOWS: 0"><FONT style="FONT-SIZE: 11pt" size=2><FONT style="FONT-SIZE: 5pt; BACKGROUND-COLOR: #7be1e1" size=1><SPAN style="LETTER-SPACING: -0.1pt">count</SPAN></FONT></FONT></P></TD>
<TD style="BORDER-TOP: #000000 1px solid; BORDER-RIGHT: #000000 1px solid; BORDER-BOTTOM: #000000 1px solid; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0in; BORDER-LEFT: #000000 1px solid; PADDING-RIGHT: 0in" width=43>
<P style="MARGIN-LEFT: 0.04in; ORPHANS: 0; WIDOWS: 0"><FONT style="FONT-SIZE: 11pt" size=2><FONT style="FONT-SIZE: 5pt; BACKGROUND-COLOR: #7be1e1" size=1><SPAN style="LETTER-SPACING: -0.1pt">Control</SPAN></FONT></FONT></P>
<P style="MARGIN-LEFT: 0.09in; ORPHANS: 0; WIDOWS: 0"><FONT style="FONT-SIZE: 11pt" size=2><FONT style="FONT-SIZE: 5pt; BACKGROUND-COLOR: #7be1e1" size=1><SPAN style="LETTER-SPACING: -0.2pt">bits</SPAN></FONT></FONT></P></TD>
<TD style="BORDER-TOP: #000000 1px solid; BORDER-RIGHT: #000000 1px solid; BORDER-BOTTOM: #000000 1px solid; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0in; BORDER-LEFT: #000000 1px solid; PADDING-RIGHT: 0in" width=37>
<P style="MARGIN-LEFT: 0.04in; ORPHANS: 0; WIDOWS: 0"><FONT style="FONT-SIZE: 11pt" size=2><FONT style="FONT-SIZE: 5pt; BACKGROUND-COLOR: #7be1e1" size=1><SPAN style="LETTER-SPACING: -0.1pt">Tuple</SPAN></FONT></FONT></P>
<P style="MARGIN-LEFT: 0.04in; ORPHANS: 0; WIDOWS: 0"><FONT style="FONT-SIZE: 11pt" size=2><FONT style="FONT-SIZE: 5pt; BACKGROUND-COLOR: #7be1e1" size=1><SPAN style="LETTER-SPACING: -0.1pt">count</SPAN></FONT></FONT></P></TD>
<TD style="BORDER-TOP: #000000 1px solid; BORDER-RIGHT: #000000 1px solid; BORDER-BOTTOM: #000000 1px solid; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0in; BORDER-LEFT: #000000 1px solid; PADDING-RIGHT: 0in" width=47>
<P style="MARGIN-LEFT: 0.01in; ORPHANS: 0; WIDOWS: 0" align=center><FONT style="FONT-SIZE: 11pt" size=2><FONT style="FONT-SIZE: 5pt; BACKGROUND-COLOR: #7be1e1" size=1><SPAN style="LETTER-SPACING: -0.1pt">Occupied</SPAN></FONT></FONT></P>
<P style="MARGIN-LEFT: 0.01in; ORPHANS: 0; WIDOWS: 0; MARGIN-RIGHT: 0in" align=center><FONT style="FONT-SIZE: 11pt" size=2><FONT style="FONT-SIZE: 5pt; BACKGROUND-COLOR: #7be1e1" size=1><SPAN style="LETTER-SPACING: -0.2pt">size</SPAN></FONT></FONT></P></TD></TR></TBODY></TABLE>
<P class=western><FONT class=extract><BR></FONT></P></SPAN><SPAN class=sd-abs-pos style="WIDTH: 146px; POSITION: absolute; LEFT: 0.86in; TOP: 0.09in"><FONT class=extract></FONT></SPAN><SPAN id=Frame12 style="BORDER-TOP: medium none; BORDER-RIGHT: medium none; WIDTH: 1.02in; BACKGROUND: #ffffff; BORDER-BOTTOM: medium none; POSITION: absolute; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0in; LEFT: 2.03in; BORDER-LEFT: medium none; TOP: 4.87in; PADDING-RIGHT: 0in" dir=ltr>
<TABLE dir=ltr cellSpacing=0 cellPadding=1 width=134>
<COLGROUP><FONT class=extract>
<COL width=25>
<COL width=30>
<COL width=29>
<COL width=39></FONT>
<TBODY>
<TR vAlign=top>
<TD style="BORDER-TOP: #000000 1px solid; BORDER-RIGHT: #000000 1pt solid; BORDER-BOTTOM: #000000 1px solid; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0in; BORDER-LEFT: #000000 1px solid; PADDING-RIGHT: 0.01in" height=25 width=25>
<P style="MARGIN-TOP: 0.05in; MARGIN-LEFT: 0.02in; ORPHANS: 0; WIDOWS: 0"><FONT style="FONT-SIZE: 11pt" size=2><FONT style="FONT-SIZE: 5pt; BACKGROUND-COLOR: #7be1e1" size=1><SPAN style="LETTER-SPACING: -0.1pt">State</SPAN></FONT></FONT></P></TD>
<TD style="BORDER-TOP: #000000 1px solid; BORDER-RIGHT: #000000 0.75pt solid; BORDER-BOTTOM: #000000 1px solid; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0in; BORDER-LEFT: #000000 1pt solid; PADDING-RIGHT: 0.01in" width=30>
<P style="MARGIN-TOP: 0.03in; MARGIN-LEFT: 0.01in; ORPHANS: 0; WIDOWS: 0; MARGIN-RIGHT: 0.01in; TEXT-INDENT: 0.04in"><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT style="FONT-SIZE: 5pt" size=1><SPAN style="LETTER-SPACING: -0.2pt">Key</SPAN></FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 5pt" size=1><SPAN style="LETTER-SPACING: 2pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 5pt" size=1><SPAN style="LETTER-SPACING: -0.1pt">length</SPAN></FONT></FONT></FONT></P></TD>
<TD style="BORDER-TOP: #000000 1px solid; BORDER-RIGHT: #000000 1px solid; BORDER-BOTTOM: #000000 1px solid; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0in; BORDER-LEFT: #000000 0.75pt solid; PADDING-RIGHT: 0.01in" width=29>
<P style="MARGIN-TOP: 0.03in; MARGIN-LEFT: 0.05in; ORPHANS: 0; WIDOWS: 0; MARGIN-RIGHT: 0.03in; TEXT-INDENT: 0.01in"><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT style="FONT-SIZE: 5pt" size=1><SPAN style="LETTER-SPACING: -0.2pt">Key</SPAN></FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 5pt" size=1><SPAN style="LETTER-SPACING: 2pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 5pt" size=1><SPAN style="LETTER-SPACING: -0.2pt">data</SPAN></FONT></FONT></FONT></P></TD>
<TD style="BORDER-TOP: #000000 1px solid; BORDER-RIGHT: #000000 1px solid; BORDER-BOTTOM: #000000 1px solid; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0in; BORDER-LEFT: #000000 1px solid; PADDING-RIGHT: 0.01in" width=39>
<P style="MARGIN-TOP: 0.03in; MARGIN-LEFT: 0.06in; ORPHANS: 0; WIDOWS: 0; TEXT-INDENT: 0in"><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT style="FONT-SIZE: 5pt" size=1><SPAN style="LETTER-SPACING: -0.1pt">Tuple</SPAN></FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 5pt" size=1><SPAN style="LETTER-SPACING: 2pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 5pt" size=1><SPAN style="LETTER-SPACING: -0.1pt">offset</SPAN></FONT></FONT></FONT></P></TD></TR></TBODY></TABLE>
<P class=western><FONT class=extract><BR></FONT></P></SPAN><FONT class=extract><FONT size=2><FONT size=1><B>TH</B></FONT><FONT face="Times New Roman, serif"><FONT size=1> </FONT></FONT><FONT size=1><B>(Tuple</B></FONT><FONT face="Times New Roman, serif"><FONT size=1> </FONT></FONT><FONT size=1><B>Header)</B></FONT></FONT> </FONT>
<P></P>
<P class=western style="MARGIN-TOP: 0.06in; MARGIN-LEFT: 0.42in; LINE-HEIGHT: 191%; TEXT-INDENT: 0.49in" align=left><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT style="FONT-SIZE: 5pt" size=1><B>NH</B></FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 5pt" size=1><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 5pt" size=1><B>(Node</B></FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 5pt" size=1><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 5pt" size=1><B>Header)</B></FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 5pt" size=1><SPAN style="LETTER-SPACING: 2pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 5pt" size=1><B>VH</B></FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 5pt" size=1><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 5pt" size=1><B>(Version</B></FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 5pt" size=1><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 5pt" size=1><B>Header)</B></FONT></FONT></FONT></P>
<P class=western style="LINE-HEIGHT: 100%"><FONT class=extract><BR></FONT></P>
<P class=western style="MARGIN-TOP: 0.06in"><FONT class=extract><BR></FONT></P>
<P class=western align=right><FONT style="FONT-SIZE: 11pt" size=2><FONT style="FONT-SIZE: 5pt; BACKGROUND-COLOR: #7be1e1" size=1><SPAN style="LETTER-SPACING: -0.3pt">(c)</SPAN></FONT></FONT></P>
<P class=western style="LINE-HEIGHT: 100%"><FONT class=extract><BR></FONT></P>
<P class=western style="MARGIN-TOP: 0.05in"><FONT class=extract><BR></FONT></P>
<P class=western style="MARGIN-TOP: 0in; MARGIN-LEFT: 0.21in" align=left><SPAN class=sd-abs-pos style="WIDTH: 46px; POSITION: absolute; LEFT: -0.8in; TOP: 0.09in"><FONT class=extract></FONT></SPAN><SPAN class=sd-abs-pos style="WIDTH: 42px; POSITION: absolute; LEFT: -1.88in; TOP: 0.09in"><FONT class=extract></FONT></SPAN><SPAN class=sd-abs-pos style="WIDTH: 165px; POSITION: absolute; LEFT: -1.58in; TOP: 0.08in"><FONT class=extract></FONT></SPAN><SPAN id=Frame13 style="BORDER-TOP: medium none; BORDER-RIGHT: medium none; WIDTH: 1.15in; BACKGROUND: #ffffff; BORDER-BOTTOM: medium none; POSITION: absolute; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0in; LEFT: 3.01in; BORDER-LEFT: medium none; TOP: 4.87in; PADDING-RIGHT: 0in" dir=ltr>
<TABLE dir=ltr cellSpacing=0 cellPadding=1 width=152>
<COLGROUP><FONT class=extract>
<COL width=22>
<COL width=37>
<COL width=41>
<COL width=43></FONT>
<TBODY>
<TR vAlign=top>
<TD style="BORDER-TOP: #000000 1px solid; BORDER-RIGHT: #000000 1px solid; BORDER-BOTTOM: #000000 1px solid; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0in; BORDER-LEFT: #000000 1px solid; PADDING-RIGHT: 0in" height=25 width=22>
<P style="MARGIN-TOP: 0.03in; MARGIN-LEFT: 0.02in; ORPHANS: 0; WIDOWS: 0; MARGIN-RIGHT: 0.01in; TEXT-INDENT: 0.05in"><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT style="FONT-SIZE: 5pt" size=1><SPAN style="LETTER-SPACING: -0.3pt">Is</SPAN></FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 5pt" size=1><SPAN style="LETTER-SPACING: 2pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 5pt" size=1><SPAN style="LETTER-SPACING: -0.1pt">valid</SPAN></FONT></FONT></FONT></P></TD>
<TD style="BORDER-TOP: #000000 1px solid; BORDER-RIGHT: #000000 1px solid; BORDER-BOTTOM: #000000 1px solid; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0in; BORDER-LEFT: #000000 1px solid; PADDING-RIGHT: 0in" width=37>
<P style="MARGIN-TOP: 0.03in; MARGIN-LEFT: 0.01in; ORPHANS: 0; WIDOWS: 0; MARGIN-RIGHT: 0.03in; TEXT-INDENT: 0.02in"><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT style="FONT-SIZE: 5pt" size=1><SPAN style="LETTER-SPACING: -0.1pt">Latest</SPAN></FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 5pt" size=1><SPAN style="LETTER-SPACING: 2pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 5pt" size=1><SPAN style="LETTER-SPACING: -0.1pt">commit</SPAN></FONT></FONT></FONT></P></TD>
<TD style="BORDER-TOP: #000000 1px solid; BORDER-RIGHT: #000000 1px solid; BORDER-BOTTOM: #000000 1px solid; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0in; BORDER-LEFT: #000000 1px solid; PADDING-RIGHT: 0in" width=41>
<P style="MARGIN-LEFT: 0.04in; ORPHANS: 0; WIDOWS: 0"><FONT style="FONT-SIZE: 11pt" size=2><FONT style="FONT-SIZE: 5pt; BACKGROUND-COLOR: #7be1e1" size=1><SPAN style="LETTER-SPACING: -0.1pt">Version</SPAN></FONT></FONT></P>
<P style="MARGIN-LEFT: 0.04in; ORPHANS: 0; WIDOWS: 0; TEXT-INDENT: 0.03in"><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT style="FONT-SIZE: 5pt" size=1><SPAN style="LETTER-SPACING: -0.2pt">store</SPAN></FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 5pt" size=1><SPAN style="LETTER-SPACING: 2pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 5pt" size=1><SPAN style="LETTER-SPACING: -0.1pt">pointer</SPAN></FONT></FONT></FONT></P></TD>
<TD style="BORDER-TOP: #000000 1px solid; BORDER-RIGHT: #000000 1px solid; BORDER-BOTTOM: #000000 1px solid; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0in; BORDER-LEFT: #000000 1px solid; PADDING-RIGHT: 0in" width=43>
<P style="MARGIN-LEFT: 0.08in; ORPHANS: 0; WIDOWS: 0"><FONT style="FONT-SIZE: 11pt" size=2><FONT style="FONT-SIZE: 5pt; BACKGROUND-COLOR: #7be1e1" size=1><SPAN style="LETTER-SPACING: -0.1pt">Tuple</SPAN></FONT></FONT></P>
<P style="MARGIN-LEFT: 0.07in; ORPHANS: 0; WIDOWS: 0; TEXT-INDENT: -0.01in"><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT style="FONT-SIZE: 5pt" size=1><SPAN style="LETTER-SPACING: -0.1pt">version</SPAN></FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 5pt" size=1><SPAN style="LETTER-SPACING: 2pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 5pt" size=1><SPAN style="LETTER-SPACING: -0.1pt">length</SPAN></FONT></FONT></FONT></P></TD></TR></TBODY></TABLE>
<P class=western><FONT class=extract><BR></FONT></P></SPAN><SPAN class=sd-abs-pos style="WIDTH: 26px; POSITION: absolute; LEFT: -1.54in; TOP: 0.09in"><FONT class=extract></FONT></SPAN><FONT class=extract><FONT size=2><FONT size=1>last</FONT><FONT face="Times New Roman, serif"><FONT size=1> </FONT></FONT><FONT size=1>sorted</FONT><FONT face="Times New Roman, serif"><FONT size=1> </FONT></FONT><FONT size=1>zone</FONT></FONT> </FONT>
<P></P>
<P class=western style="LINE-HEIGHT: 100%"><FONT class=extract><BR></FONT></P>
<P class=western style="MARGIN-TOP: 0.08in"><FONT class=extract><BR></FONT></P>
<P class=western align=right><SPAN class=sd-abs-pos style="WIDTH: 19px; POSITION: absolute; LEFT: 0.08in; TOP: 0.02in"><FONT class=extract></FONT></SPAN><FONT style="FONT-SIZE: 11pt" size=2><FONT style="FONT-SIZE: 5pt; BACKGROUND-COLOR: #7be1e1" size=1><SPAN style="LETTER-SPACING: -0.1pt">buffer</SPAN></FONT></FONT></P>
<P class=western style="MARGIN-TOP: 0.02in; LINE-HEIGHT: 100%"><FONT class=extract><BR></FONT></P>
<P class=western style="MARGIN-TOP: 0in; MARGIN-LEFT: 0.26in" align=left><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT style="FONT-SIZE: 5pt" size=1>Leaf</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 5pt" size=1> </FONT></FONT><FONT style="FONT-SIZE: 5pt" size=1><SPAN style="LETTER-SPACING: -0.5pt">B</SPAN></FONT></FONT></FONT></P>
<P class=western><FONT class=extract><BR></FONT></P>
<P class=western style="MARGIN-TOP: 0.03in"><FONT class=extract><BR></FONT></P>
<P class=western style="MARGIN-LEFT: 0.26in" align=left><SPAN class=sd-abs-pos style="WIDTH: 208px; POSITION: absolute; LEFT: -1.27in; TOP: -0.41in"><FONT class=extract></FONT></SPAN><SPAN class=sd-abs-pos style="WIDTH: 220px; POSITION: absolute; LEFT: -1.31in; TOP: -0.1in"><FONT class=extract></FONT></SPAN><SPAN id=Frame14 style="BORDER-TOP: medium none; BORDER-RIGHT: medium none; WIDTH: 1.53in; BACKGROUND: #ffffff; BORDER-BOTTOM: medium none; POSITION: absolute; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0in; LEFT: 4.63in; BORDER-LEFT: medium none; TOP: 4.86in; PADDING-RIGHT: 0in" dir=ltr>
<TABLE dir=ltr cellSpacing=0 cellPadding=1 width=208>
<COLGROUP><FONT class=extract>
<COL width=25>
<COL width=29>
<COL width=29>
<COL width=32>
<COL width=81></FONT>
<TBODY>
<TR vAlign=top>
<TD style="BORDER-TOP: #000000 0.75pt solid; BORDER-RIGHT: #000000 1px solid; BORDER-BOTTOM: #bebebe 4.5pt solid; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0in; BORDER-LEFT: #000000 1px solid; PADDING-RIGHT: 0in" height=11 width=25>
<P style="MARGIN-TOP: 0in; MARGIN-LEFT: 0.06in; ORPHANS: 0; WIDOWS: 0"><FONT style="FONT-SIZE: 11pt" size=2><FONT style="FONT-SIZE: 5pt; BACKGROUND-COLOR: #7be1e1" size=1><SPAN style="LETTER-SPACING: -0.3pt">NH</SPAN></FONT></FONT></P></TD>
<TD style="BORDER-TOP: #ffffff 1pt solid; BORDER-RIGHT: #000000 1px solid; BORDER-BOTTOM: #bebebe 4.5pt solid; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0in; BORDER-LEFT: #000000 1px solid; PADDING-RIGHT: 0in" width=29>
<P style="MARGIN-TOP: 0in; MARGIN-LEFT: 0.02in; ORPHANS: 0; WIDOWS: 0"><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT style="FONT-SIZE: 5pt" size=1>Key</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 5pt" size=1> </FONT></FONT><FONT style="FONT-SIZE: 5pt" size=1><SPAN style="LETTER-SPACING: -0.3pt">13</SPAN></FONT></FONT></FONT></P></TD>
<TD style="BORDER-TOP: #ffffff 1pt solid; BORDER-RIGHT: #000000 1px solid; BORDER-BOTTOM: #bebebe 4.5pt solid; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0in; BORDER-LEFT: #000000 1px solid; PADDING-RIGHT: 0in" width=29>
<P style="MARGIN-TOP: 0in; MARGIN-LEFT: 0.02in; ORPHANS: 0; WIDOWS: 0; MARGIN-RIGHT: -0.01in"><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT style="FONT-SIZE: 5pt" size=1>Key</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 5pt" size=1><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 5pt" size=1><SPAN style="LETTER-SPACING: -0.3pt">21</SPAN></FONT></FONT></FONT></P></TD>
<TD style="BORDER-TOP: #ffffff 1pt solid; BORDER-RIGHT: #c00000 1.5pt solid; BORDER-BOTTOM: #bebebe 4.5pt solid; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0in; BORDER-LEFT: #000000 1px solid; PADDING-RIGHT: 0in" width=32>
<P style="MARGIN-TOP: 0in; MARGIN-LEFT: 0.02in; ORPHANS: 0; WIDOWS: 0"><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT style="FONT-SIZE: 5pt" size=1>Key</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 5pt" size=1> </FONT></FONT><FONT style="FONT-SIZE: 5pt" size=1><SPAN style="LETTER-SPACING: -0.3pt">31</SPAN></FONT></FONT></FONT></P></TD>
<TD style="BORDER-TOP: #000000 1px solid; BORDER-RIGHT: #000000 1px solid; BORDER-BOTTOM: #bebebe 4.5pt solid; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0in; BORDER-LEFT: #c00000 1.5pt solid; PADDING-RIGHT: 0in" width=81>
<P style="ORPHANS: 0; WIDOWS: 0"><FONT class=extract><BR></FONT></P></TD></TR></TBODY></TABLE>
<P class=western><FONT class=extract><BR></FONT></P></SPAN><FONT class=extract><FONT size=2><FONT size=1>Leaf</FONT><FONT face="Times New Roman, serif"><FONT size=1> </FONT></FONT><FONT size=1>C</FONT></FONT> </FONT>
<P></P></DIV>
<DIV id=Section13 dir=ltr>
<P class=western style="MARGIN-TOP: 0.08in"><FONT class=extract><BR></FONT></P>
<P class=western style="MARGIN-LEFT: 0.56in; LINE-HEIGHT: 96%; MARGIN-RIGHT: 0.22in" align=justify><A name=_bookmark7></A><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT face="Georgia, serif"><FONT style="FONT-SIZE: 8pt" size=1>Fig.</FONT></FONT><FONT face="Georgia, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 1.7pt"> </SPAN></FONT></FONT><FONT face="Georgia, serif"><FONT style="FONT-SIZE: 8pt" size=1>7</FONT></FONT><FONT face="Georgia, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 2pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 8pt" size=1>The</FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 1.3pt"> </SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1>Structure</FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 1.3pt"> </SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1>of</FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 1.3pt"> </SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1>Version</FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 1.3pt"> </SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1>B</FONT><SUP><FONT face="Verdana, serif"><FONT style="FONT-SIZE: 8pt" size=1>+</FONT></FONT></SUP><FONT style="FONT-SIZE: 8pt" size=1>-tree.</FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 1.3pt"> </SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1>The</FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 1.3pt"> </SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1>lifecycle</FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 1.3pt"> </SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1>of</FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 1.3pt"> </SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1>inserts</FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 1.3pt"> </SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1>in</FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 1.3pt"> </SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1>the</FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 1.3pt"> </SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1>leaf</FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 1.3pt"> </SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1>node</FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 1.3pt"> </SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1>A.</FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 1.3pt"> </SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1>(a)</FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 1.3pt"> </SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1>After</FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 1.3pt"> </SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1>a split, the new leaf node A is partially full (the last sorted zone), its tuples are fully sorted, and the unsorted</FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1>buffer</FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1>is</FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1>empty.</FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1>(b)</FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1>newer</FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1>inserts</FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1>are</FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1>appended</FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1>to</FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1>the</FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1>buffer;</FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1>the</FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1>buffer</FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1>becomes</FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1>full.</FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1>(c) all tuples of the leaf node A are sorted and split into two new leaf nodes, B and C.</FONT></FONT></FONT></P>
<P class=western><FONT class=extract><BR></FONT></P>
<P class=western style="MARGIN-TOP: 0.01in"><FONT class=extract><BR></FONT></P>
<P class=western style="MARGIN-TOP: 0in; MARGIN-LEFT: 0.56in; LINE-HEIGHT: 98%; MARGIN-RIGHT: 0.22in; TEXT-INDENT: 0.21in" align=right><FONT class=extract>The version B<SUP>+</SUP>-tree organizes tuples in the primary key order and stores the latest versions<SPAN style="LETTER-SPACING: 1.8pt"> </SPAN>in<SPAN style="LETTER-SPACING: 1.8pt"> </SPAN>a<SPAN style="LETTER-SPACING: 1.6pt"> </SPAN>B<SUP>+</SUP>-tree<SPAN style="LETTER-SPACING: 1.8pt"> </SPAN>index<SPAN style="LETTER-SPACING: 1.8pt"> </SPAN>structure.<SPAN style="LETTER-SPACING: 1.8pt"> </SPAN>Each<SPAN style="LETTER-SPACING: 1.8pt"> </SPAN>tuple<SPAN style="LETTER-SPACING: 1.8pt"> </SPAN>version<SPAN style="LETTER-SPACING: 1.8pt"> </SPAN>includes<SPAN style="LETTER-SPACING: 1.8pt"> </SPAN>key<SPAN style="LETTER-SPACING: 1.8pt"> </SPAN>and<SPAN style="LETTER-SPACING: 1.8pt"> </SPAN>non-key columns, which are stored together with the key column in the leaf nodes of the tree. The<SPAN style="LETTER-SPACING: 1.5pt"> </SPAN>tree<SPAN style="LETTER-SPACING: 1.5pt"> </SPAN>consists<SPAN style="LETTER-SPACING: 1.5pt"> </SPAN>of<SPAN style="LETTER-SPACING: 1.5pt"> </SPAN>non-leaf<SPAN style="LETTER-SPACING: 1.5pt"> </SPAN>nodes<SPAN style="LETTER-SPACING: 1.5pt"> </SPAN>and<SPAN style="LETTER-SPACING: 1.5pt"> </SPAN>leaf<SPAN style="LETTER-SPACING: 1.5pt"> </SPAN>nodes.<SPAN style="LETTER-SPACING: 1.5pt"> </SPAN>Non-leaf<SPAN style="LETTER-SPACING: 1.5pt"> </SPAN>nodes<SPAN style="LETTER-SPACING: 1.5pt"> </SPAN>store<SPAN style="LETTER-SPACING: 1.5pt"> </SPAN>primary keys and pointers to child nodes, while leaf nodes store the actual tuple versions. The primary keys can have variable or fixed lengths. All nodes are aligned with cache lines to optimize memory access. Each leaf node is created using a large contiguous block<SPAN style="LETTER-SPACING: 4pt"> </SPAN>of<SPAN style="LETTER-SPACING: 1.4pt"> </SPAN>memory<SPAN style="LETTER-SPACING: 1.5pt"> </SPAN>that<SPAN style="LETTER-SPACING: 1.5pt"> </SPAN>is<SPAN style="LETTER-SPACING: 1.5pt"> </SPAN>divided<SPAN style="LETTER-SPACING: 1.4pt"> </SPAN>into<SPAN style="LETTER-SPACING: 1.5pt"> </SPAN>four<SPAN style="LETTER-SPACING: 1.5pt"> </SPAN>sections:<SPAN style="LETTER-SPACING: 1.5pt"> </SPAN>the<SPAN style="LETTER-SPACING: 1.4pt"> </SPAN>node<SPAN style="LETTER-SPACING: 1.5pt"> </SPAN>header,<SPAN style="LETTER-SPACING: 1.5pt"> </SPAN>tuple<SPAN style="LETTER-SPACING: 1.5pt"> </SPAN>header<SPAN style="LETTER-SPACING: 1.4pt"> </SPAN><SPAN style="LETTER-SPACING: -0.1pt">array,</SPAN></FONT></P>
<P class=western style="MARGIN-TOP: 0in; MARGIN-LEFT: 0.56in; LINE-HEIGHT: 0.17in" align=justify><FONT class=extract>unsorted<SPAN style="LETTER-SPACING: 0.2pt"> </SPAN>buffer,<SPAN style="LETTER-SPACING: 0.2pt"> </SPAN>and<SPAN style="LETTER-SPACING: 0.2pt"> </SPAN>tuple<SPAN style="LETTER-SPACING: 0.2pt"> </SPAN>version<SPAN style="LETTER-SPACING: 0.2pt"> </SPAN>storage<SPAN style="LETTER-SPACING: 0.2pt"> </SPAN><SPAN style="LETTER-SPACING: -0.1pt">block.</SPAN></FONT></P>
<P class=western style="MARGIN-TOP: 0in; MARGIN-LEFT: 0.56in; LINE-HEIGHT: 98%; MARGIN-RIGHT: 0.22in; TEXT-INDENT: 0.21in" align=right><FONT class=extract>The<SPAN style="LETTER-SPACING: 0.9pt"> </SPAN>leaf<SPAN style="LETTER-SPACING: 0.9pt"> </SPAN>node<SPAN style="LETTER-SPACING: 0.9pt"> </SPAN>block<SPAN style="LETTER-SPACING: 0.9pt"> </SPAN>uses<SPAN style="LETTER-SPACING: 0.9pt"> </SPAN>a<SPAN style="LETTER-SPACING: 0.9pt"> </SPAN>slotted<SPAN style="LETTER-SPACING: 0.9pt"> </SPAN>page<SPAN style="LETTER-SPACING: 0.9pt"> </SPAN>organization,<SPAN style="LETTER-SPACING: 0.9pt"> </SPAN>and<SPAN style="LETTER-SPACING: 0.9pt"> </SPAN>the<SPAN style="LETTER-SPACING: 0.9pt"> </SPAN>tuple<SPAN style="LETTER-SPACING: 0.9pt"> </SPAN>header<SPAN style="LETTER-SPACING: 0.9pt"> </SPAN>array is a collection of nearly sorted keys. This approach is attractive because it reduces the cost<SPAN style="LETTER-SPACING: 1.2pt"> </SPAN>of<SPAN style="LETTER-SPACING: 1.2pt"> </SPAN>moving<SPAN style="LETTER-SPACING: 1.2pt"> </SPAN>data,<SPAN style="LETTER-SPACING: 1.2pt"> </SPAN>especially<SPAN style="LETTER-SPACING: 1.2pt"> </SPAN>when<SPAN style="LETTER-SPACING: 1.2pt"> </SPAN>the<SPAN style="LETTER-SPACING: 1.2pt"> </SPAN>tuple<SPAN style="LETTER-SPACING: 1.2pt"> </SPAN>version<SPAN style="LETTER-SPACING: 1.2pt"> </SPAN>length<SPAN style="LETTER-SPACING: 1.2pt"> </SPAN>is<SPAN style="LETTER-SPACING: 1.2pt"> </SPAN>large<SPAN style="LETTER-SPACING: 1.2pt"> </SPAN>(e.g.,<SPAN style="LETTER-SPACING: 1.2pt"> </SPAN>1K,<SPAN style="LETTER-SPACING: 1.2pt"> </SPAN>2K). In the slotted page organization, the version data can be placed in any location of the tuple version storage block, which minimizes data movement when new inserts occur. Additionally,<SPAN style="LETTER-SPACING: 2pt"> </SPAN>the<SPAN style="LETTER-SPACING: 2pt"> </SPAN>nearly<SPAN style="LETTER-SPACING: 2pt"> </SPAN>sorted<SPAN style="LETTER-SPACING: 2pt"> </SPAN>tuple<SPAN style="LETTER-SPACING: 2pt"> </SPAN>header<SPAN style="LETTER-SPACING: 2pt"> </SPAN>array<SPAN style="LETTER-SPACING: 2pt"> </SPAN>provides<SPAN style="LETTER-SPACING: 2pt"> </SPAN>good<SPAN style="LETTER-SPACING: 2pt"> </SPAN>spatial<SPAN style="LETTER-SPACING: 2pt"> </SPAN>locality and<SPAN style="LETTER-SPACING: 1.9pt"> </SPAN>reduces<SPAN style="LETTER-SPACING: 2pt"> </SPAN>the<SPAN style="LETTER-SPACING: 1.9pt"> </SPAN>cost<SPAN style="LETTER-SPACING: 2pt"> </SPAN>of<SPAN style="LETTER-SPACING: 1.9pt"> </SPAN>sorting.<SPAN style="LETTER-SPACING: 2pt"> </SPAN>Without<SPAN style="LETTER-SPACING: 2pt"> </SPAN>spatial<SPAN style="LETTER-SPACING: 2pt"> </SPAN>locality,<SPAN style="LETTER-SPACING: 2pt"> </SPAN>performing<SPAN style="LETTER-SPACING: 1.9pt"> </SPAN>binary<SPAN style="LETTER-SPACING: 2pt"> </SPAN><SPAN style="LETTER-SPACING: -0.1pt">search</SPAN></FONT></P>
<P class=western style="MARGIN-TOP: 0.1in"><FONT class=extract><BR></FONT></P>
<P class=western style="MARGIN-LEFT: 0.34in" align=center><SPAN style="LETTER-SPACING: -0.5pt"><FONT class=extract>8</FONT></SPAN></P></DIV>
<P class=western style="MARGIN-TOP: 0.09in; PAGE-BREAK-BEFORE: always"><FONT class=extract><BR></FONT></P>
<P class=western style="MARGIN-LEFT: 0.42in; LINE-HEIGHT: 100%"><FONT style="FONT-SIZE: 11pt" size=2><SUP><FONT style="FONT-SIZE: 10pt; BACKGROUND-COLOR: #7be1e1" size=2></FONT></SUP></FONT></P>
<P class=western style="MARGIN-LEFT: 0.42in; LINE-HEIGHT: 0.14in"><FONT style="FONT-SIZE: 11pt" size=2><SUB><FONT style="FONT-SIZE: 5pt; BACKGROUND-COLOR: #7be1e1" size=1></FONT></SUB></FONT></P>
<P class=western style="MARGIN-TOP: 0.07in; MARGIN-LEFT: 0.74in; MARGIN-RIGHT: 2.19in" align=center><SPAN class=sd-abs-pos style="WIDTH: 63px; POSITION: absolute; LEFT: 0.43in; TOP: 0.15in"><FONT class=extract></FONT></SPAN><SPAN class=sd-abs-pos style="WIDTH: 100px; POSITION: absolute; LEFT: 4.47in; TOP: 0.01in"><FONT class=extract></FONT></SPAN><SPAN class=sd-abs-pos style="WIDTH: 104px; POSITION: absolute; LEFT: 0.28in; TOP: -0.64in"><FONT class=extract></FONT></SPAN>
<P class=western style="MARGIN-LEFT: 0.42in; LINE-HEIGHT: 0.15in"><FONT style="FONT-SIZE: 11pt" size=2><SUB><FONT style="FONT-SIZE: 5pt" size=1><SPAN id=Frame17 style="BORDER-TOP: medium none; BORDER-RIGHT: medium none; WIDTH: 1.66in; BACKGROUND: #ffffff; BORDER-BOTTOM: medium none; POSITION: absolute; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0in; BORDER-LEFT: medium none; TOP: -0.03in; PADDING-RIGHT: 0in" dir=ltr>
<TABLE dir=ltr cellSpacing=1 cellPadding=1 width=239>
<COLGROUP><FONT class=extract>
<COL width=55>
<COL width=58>
<COL width=58>
<COL width=54></FONT>
<TBODY>
<TR vAlign=top>
<TD style="BORDER-TOP: #000000 1px solid; BORDER-RIGHT: #000000 0.75pt double; BACKGROUND: #f2f2f2; BORDER-BOTTOM: #000000 3pt double; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0in; BORDER-LEFT: #000000 1px solid; PADDING-RIGHT: 0in" bgColor=#f2f2f2 height=7 width=55>
<P style="MARGIN-TOP: 0in; MARGIN-LEFT: 0.01in; ORPHANS: 0; WIDOWS: 0"><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT color=#c00000><SUB><FONT style="FONT-SIZE: 5pt" size=1><B>Epoch</B></FONT></SUB></FONT><FONT color=#c00000><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 5pt" size=1> </FONT></FONT></FONT><FONT color=#c00000><FONT style="FONT-SIZE: 5pt" size=1><SPAN style="LETTER-SPACING: -0.5pt"><B>1</B></SPAN></FONT></FONT></FONT></FONT></P></TD>
<TD style="BORDER-TOP: #000000 1px solid; BORDER-RIGHT: #000000 0.75pt double; BACKGROUND: #f2f2f2; BORDER-BOTTOM: #000000 3pt double; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0in; BORDER-LEFT: #000000 0.75pt double; PADDING-RIGHT: 0in" bgColor=#f2f2f2 width=58>
<P style="MARGIN-TOP: 0in; MARGIN-LEFT: 0.03in; ORPHANS: 0; WIDOWS: 0"><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT color=#c00000><FONT style="FONT-SIZE: 5pt" size=1><B>Epoch</B></FONT></FONT><FONT color=#c00000><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 5pt" size=1> </FONT></FONT></FONT><FONT color=#c00000><FONT style="FONT-SIZE: 5pt" size=1><SPAN style="LETTER-SPACING: -0.5pt"><B>3</B></SPAN></FONT></FONT></FONT></FONT></P></TD>
<TD style="BORDER-TOP: #000000 1px solid; BORDER-RIGHT: #000000 0.75pt double; BACKGROUND: #f2f2f2; BORDER-BOTTOM: #000000 3pt double; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0in; BORDER-LEFT: #000000 0.75pt double; PADDING-RIGHT: 0in" bgColor=#f2f2f2 width=58>
<P style="MARGIN-TOP: 0in; MARGIN-LEFT: 0.03in; ORPHANS: 0; WIDOWS: 0"><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT color=#c00000><FONT style="FONT-SIZE: 5pt" size=1><B>Epoch</B></FONT></FONT><FONT color=#c00000><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 5pt" size=1> </FONT></FONT></FONT><FONT color=#c00000><FONT style="FONT-SIZE: 5pt" size=1><SPAN style="LETTER-SPACING: -0.5pt"><B>5</B></SPAN></FONT></FONT></FONT></FONT></P></TD>
<TD style="BORDER-TOP: #000000 1px solid; BORDER-RIGHT: #000000 1px solid; BACKGROUND: #f2f2f2; BORDER-BOTTOM: #000000 3pt double; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0in; BORDER-LEFT: #000000 0.75pt double; PADDING-RIGHT: 0in" bgColor=#f2f2f2 width=54>
<P style="MARGIN-TOP: 0in; MARGIN-LEFT: 0.03in; ORPHANS: 0; WIDOWS: 0"><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT color=#c00000><FONT style="FONT-SIZE: 5pt" size=1><B>Epoch</B></FONT></FONT><FONT color=#c00000><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 5pt" size=1> </FONT></FONT></FONT><FONT color=#c00000><FONT style="FONT-SIZE: 5pt" size=1><SPAN style="LETTER-SPACING: -0.5pt"><B>9</B></SPAN></FONT></FONT></FONT></FONT></P></TD></TR></TBODY></TABLE>
<P class=western><FONT class=extract><BR></FONT></P></SPAN></FONT></SUB></FONT><FONT class=extract><FONT style="FONT-SIZE: 11pt" size=2><FONT style="FONT-SIZE: 5pt" size=1><I><B>The</B></I></FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 5pt" size=1><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 5pt" size=1><I><B>epoch</B></I></FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 5pt" size=1><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 5pt" size=1><I><B>queue</B></I></FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 5pt" size=1><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 5pt" size=1><I><B>of</B></I></FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 5pt" size=1> </FONT></FONT><FONT style="FONT-SIZE: 5pt" size=1><I><B>tuple</B></I></FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 5pt" size=1><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 5pt" size=1><I><B>key</B></I></FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 5pt" size=1> </FONT></FONT><FONT style="FONT-SIZE: 5pt" size=1><SPAN style="LETTER-SPACING: -0.3pt"><I><B>10</B></I></SPAN></FONT></FONT> </FONT>
<DIV id=Section15 dir=ltr>
<P class=western style="MARGIN-TOP: 0.08in"><FONT class=extract><BR></FONT></P>
<P class=western style="MARGIN-LEFT: 0.22in" align=left><A name=_bookmark8></A><A name=_bookmark9></A><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT face="Georgia, serif"><FONT style="FONT-SIZE: 8pt" size=1>Fig.</FONT></FONT><FONT face="Georgia, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.4pt"> </SPAN></FONT></FONT><FONT face="Georgia, serif"><FONT style="FONT-SIZE: 8pt" size=1>8</FONT></FONT><FONT face="Georgia, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 2.8pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 8pt" size=1>Range</FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.2pt"> </SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.1pt">Partitioning.</SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1> </FONT><FONT face="Georgia, serif"><FONT style="FONT-SIZE: 8pt" size=1>Fig.</FONT></FONT><FONT face="Georgia, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.6pt"> </SPAN></FONT></FONT><FONT face="Georgia, serif"><FONT style="FONT-SIZE: 8pt" size=1>9</FONT></FONT><FONT face="Georgia, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 3.1pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 8pt" size=1>Epoch</FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.4pt"> </SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.1pt">Partitioning.</SPAN></FONT></FONT></FONT></P>
<P class=western style="MARGIN-TOP: 0.04in"><FONT class=extract><BR></FONT></P>
<P class=western style="MARGIN-LEFT: 0.22in; LINE-HEIGHT: 98%; MARGIN-RIGHT: 0.56in" align=justify><FONT class=extract>on<SPAN style="LETTER-SPACING: 2pt"> </SPAN>a<SPAN style="LETTER-SPACING: 2pt"> </SPAN>large<SPAN style="LETTER-SPACING: 2pt"> </SPAN>node<SPAN style="LETTER-SPACING: 2pt"> </SPAN>block<SPAN style="LETTER-SPACING: 2pt"> </SPAN>would<SPAN style="LETTER-SPACING: 2pt"> </SPAN>suffer<SPAN style="LETTER-SPACING: 2pt"> </SPAN>from<SPAN style="LETTER-SPACING: 2pt"> </SPAN>poor<SPAN style="LETTER-SPACING: 2pt"> </SPAN>cache<SPAN style="LETTER-SPACING: 2pt"> </SPAN>performance.<SPAN style="LETTER-SPACING: 2pt"> </SPAN>This<SPAN style="LETTER-SPACING: 2pt"> </SPAN>approach helps to minimize cache misses during key comparisons, resulting in significant perfor- mance improvements. Furthermore, sorting a large tuple header array for every insert operation would be highly costly.</FONT></P>
<P class=western style="MARGIN-TOP: 0in; MARGIN-LEFT: 0.22in; LINE-HEIGHT: 98%; MARGIN-RIGHT: 0.56in; TEXT-INDENT: 0.21in" align=justify><FONT class=extract>As<SPAN style="LETTER-SPACING: 2pt"> </SPAN>shown<SPAN style="LETTER-SPACING: 2pt"> </SPAN>in<SPAN style="LETTER-SPACING: 2pt"> </SPAN>Figure<SPAN style="LETTER-SPACING: 2pt"> </SPAN></FONT><A href="file:///C:/SuperMemo/systems/Incremental/temp/HTMLFile.htm#_bookmark7"><FONT class=extract color=#0000ff>7</FONT></A><FONT class=extract>,<SPAN style="LETTER-SPACING: 2pt"> </SPAN>the<SPAN style="LETTER-SPACING: 2pt"> </SPAN>node<SPAN style="LETTER-SPACING: 2pt"> </SPAN>header<SPAN style="LETTER-SPACING: 2pt"> </SPAN>is<SPAN style="LETTER-SPACING: 2pt"> </SPAN>located<SPAN style="LETTER-SPACING: 2pt"> </SPAN>at<SPAN style="LETTER-SPACING: 2pt"> </SPAN>the<SPAN style="LETTER-SPACING: 2pt"> </SPAN>beginning<SPAN style="LETTER-SPACING: 2pt"> </SPAN>of<SPAN style="LETTER-SPACING: 2pt"> </SPAN>a<SPAN style="LETTER-SPACING: 2pt"> </SPAN>node and<SPAN style="LETTER-SPACING: 1.1pt"> </SPAN>consists<SPAN style="LETTER-SPACING: 1.1pt"> </SPAN>of<SPAN style="LETTER-SPACING: 1.1pt"> </SPAN>five<SPAN style="LETTER-SPACING: 1.1pt"> </SPAN>fields.<SPAN style="LETTER-SPACING: 1.1pt"> </SPAN>A<SPAN style="LETTER-SPACING: 1.1pt"> </SPAN>node<SPAN style="LETTER-SPACING: 1.1pt"> </SPAN>size<SPAN style="LETTER-SPACING: 1.1pt"> </SPAN>field<SPAN style="LETTER-SPACING: 1.1pt"> </SPAN>stores<SPAN style="LETTER-SPACING: 1.1pt"> </SPAN>the<SPAN style="LETTER-SPACING: 1.1pt"> </SPAN>size<SPAN style="LETTER-SPACING: 1.1pt"> </SPAN>of<SPAN style="LETTER-SPACING: 1.1pt"> </SPAN>the<SPAN style="LETTER-SPACING: 1.1pt"> </SPAN>entire<SPAN style="LETTER-SPACING: 1.1pt"> </SPAN>node<SPAN style="LETTER-SPACING: 1.1pt"> </SPAN>block. By<SPAN style="LETTER-SPACING: 1.9pt"> </SPAN>default,<SPAN style="LETTER-SPACING: 1.9pt"> </SPAN>the<SPAN style="LETTER-SPACING: 1.8pt"> </SPAN>leaf<SPAN style="LETTER-SPACING: 1.8pt"> </SPAN>nodes<SPAN style="LETTER-SPACING: 1.8pt"> </SPAN>are<SPAN style="LETTER-SPACING: 1.8pt"> </SPAN>fixed<SPAN style="LETTER-SPACING: 1.8pt"> </SPAN>in<SPAN style="LETTER-SPACING: 1.8pt"> </SPAN>size<SPAN style="LETTER-SPACING: 1.8pt"> </SPAN>(e.g.,<SPAN style="LETTER-SPACING: 1.9pt"> </SPAN>16K,<SPAN style="LETTER-SPACING: 1.8pt"> </SPAN>64K),<SPAN style="LETTER-SPACING: 1.9pt"> </SPAN>while<SPAN style="LETTER-SPACING: 1.8pt"> </SPAN>the<SPAN style="LETTER-SPACING: 1.8pt"> </SPAN>inner<SPAN style="LETTER-SPACING: 1.8pt"> </SPAN>nodes size depends on when they are created. A sorted count field is used to optimize the search performance on the node. The control bits field is used to flag an in-process insert/update/delete operation on the node. The tuple count field stores the total number<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>of<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>elements<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>in<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>the<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>tuple<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>header<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>array.<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>When<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>inserting<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>a<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>new<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>tuple,<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>the<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>occupied size field is used to compute the offset of the new tuple in the buffer.</FONT></P>
<P class=western style="MARGIN-TOP: 0in; MARGIN-LEFT: 0.22in; LINE-HEIGHT: 98%; MARGIN-RIGHT: 0.56in; TEXT-INDENT: 0.21in" align=justify><FONT class=extract>The unsorted buffer sits between the tuple header array and the tuple version storage<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>block.<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>The<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>tuple<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>header<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>array<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>grows<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN><I>downward </I>into<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>this<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>space,<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>while<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>the<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>tuple versions grow <I>upward</I>. Tuple versions are stored contiguously in the tuple version storage<SPAN style="LETTER-SPACING: 0.8pt"> </SPAN>block.<SPAN style="LETTER-SPACING: 0.9pt"> </SPAN>Each<SPAN style="LETTER-SPACING: 0.9pt"> </SPAN>tuple<SPAN style="LETTER-SPACING: 0.8pt"> </SPAN>version<SPAN style="LETTER-SPACING: 0.9pt"> </SPAN>has<SPAN style="LETTER-SPACING: 0.9pt"> </SPAN>a<SPAN style="LETTER-SPACING: 0.8pt"> </SPAN>version<SPAN style="LETTER-SPACING: 0.9pt"> </SPAN>header.<SPAN style="LETTER-SPACING: 0.9pt"> </SPAN>A<SPAN style="LETTER-SPACING: 0.8pt"> </SPAN>version<SPAN style="LETTER-SPACING: 0.9pt"> </SPAN>header<SPAN style="LETTER-SPACING: 0.9pt"> </SPAN>consists<SPAN style="LETTER-SPACING: 0.9pt"> </SPAN><SPAN style="LETTER-SPACING: -0.3pt">of:</SPAN></FONT></P>
<P class=western style="MARGIN-TOP: 0in; MARGIN-LEFT: 0.22in; LINE-HEIGHT: 98%; MARGIN-RIGHT: 0.56in" align=justify><FONT class=extract>(1) valid field is used to mark a tuple version as valid or invalid, (2) latest commit field stores the committed transaction&#8217;s timestamp of this current version, (3) the version store pointer points to the version store, (4) tuple version length field stores the total length of the tuple version; subtracting the key length from this value provides the non-key column size.</FONT></P>
<OL>
<OL start=2>
<LI>
<H2 class=western style="MARGIN-TOP: 0.15in; LINE-HEIGHT: 100%; TEXT-INDENT: 0in" align=justify><A name="Version Store"></A><FONT class=extract><FONT face="Palatino Linotype, serif"><SPAN style="LETTER-SPACING: -0.1pt">Version</SPAN></FONT><FONT face="Palatino Linotype, serif"><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT><FONT face="Palatino Linotype, serif"><SPAN style="LETTER-SPACING: -0.1pt">Store</SPAN></FONT></FONT></H2></LI></OL></OL>
<P class=western style="MARGIN-TOP: 0.07in; MARGIN-LEFT: 0.22in; LINE-HEIGHT: 98%; MARGIN-RIGHT: 0.56in" align=justify><FONT class=extract>The version store efficiently organizes tuple versions into blocks using a partitioning scheme. It takes advantage of the <I>timestamp ordering</I><SPAN style="LETTER-SPACING: 1.2pt"><I> </I></SPAN>of version creation and search in MVCC. Grouping the tuple versions into version groups can maximize the chances<SPAN style="LETTER-SPACING: 4pt"> </SPAN>of avoiding unnecessary version access. There are two partitioning schemes based on the version timestamp.</FONT></P>
<P class=western><FONT class=extract><BR></FONT></P>
<P class=western><FONT class=extract><BR></FONT></P>
<P class=western style="MARGIN-TOP: 0.15in"><FONT class=extract><BR></FONT></P>
<P class=western style="MARGIN-RIGHT: 0.34in" align=center><SPAN style="LETTER-SPACING: -0.5pt"><FONT class=extract>9</FONT></SPAN></P></DIV>
<OL>
<OL>
<OL>
<LI>
<H3 class=western style="MARGIN-TOP: 0.04in; PAGE-BREAK-BEFORE: always; LINE-HEIGHT: 100%; TEXT-INDENT: 0in" align=left><A name="Range Partitioning"></A><FONT class=extract><FONT face="Georgia, serif">Range</FONT><FONT face="Georgia, serif"><SPAN style="LETTER-SPACING: 1.8pt"> </SPAN></FONT><FONT face="Georgia, serif"><SPAN style="LETTER-SPACING: -0.1pt">Partitioning</SPAN></FONT></FONT></H3></LI></OL></OL></OL>
<P class=western style="MARGIN-TOP: 0.09in; MARGIN-LEFT: 0.53in; LINE-HEIGHT: 98%; MARGIN-RIGHT: 0.22in" align=right><FONT class=extract>The<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>first<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>scheme<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>is<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>range<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>partitioning,<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>where<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>tuple<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>versions<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>are<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>horizontally<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>partitioned by<SPAN style="LETTER-SPACING: 1.8pt"> </SPAN>timestamp<SPAN style="LETTER-SPACING: 1.8pt"> </SPAN>range.<SPAN style="LETTER-SPACING: 1.8pt"> </SPAN>Initially,<SPAN style="LETTER-SPACING: 1.8pt"> </SPAN>the<SPAN style="LETTER-SPACING: 1.8pt"> </SPAN>system<SPAN style="LETTER-SPACING: 1.8pt"> </SPAN>allocates<SPAN style="LETTER-SPACING: 1.8pt"> </SPAN>a<SPAN style="LETTER-SPACING: 1.8pt"> </SPAN>memory<SPAN style="LETTER-SPACING: 1.8pt"> </SPAN>chunk<SPAN style="LETTER-SPACING: 1.8pt"> </SPAN>to<SPAN style="LETTER-SPACING: 1.8pt"> </SPAN>create<SPAN style="LETTER-SPACING: 1.8pt"> </SPAN>one partition for each tuple. The allocated memory is used to serve memory requests for creating tuple versions. Each tuple&#8217;s partitions are sorted in a separate partition array. Figure<SPAN style="LETTER-SPACING: 1.8pt"> </SPAN></FONT><A href="file:///C:/SuperMemo/systems/Incremental/temp/HTMLFile.htm#_bookmark8"><FONT class=extract color=#0000ff>8</FONT></A><FONT class=extract><FONT color=#0000ff><SPAN style="LETTER-SPACING: 1.8pt"> </SPAN></FONT>shows<SPAN style="LETTER-SPACING: 1.8pt"> </SPAN>the<SPAN style="LETTER-SPACING: 1.8pt"> </SPAN>partition<SPAN style="LETTER-SPACING: 1.8pt"> </SPAN>placement<SPAN style="LETTER-SPACING: 1.8pt"> </SPAN>of<SPAN style="LETTER-SPACING: 1.8pt"> </SPAN>a<SPAN style="LETTER-SPACING: 1.8pt"> </SPAN>tuple<SPAN style="LETTER-SPACING: 1.8pt"> </SPAN>(key=10).<SPAN style="LETTER-SPACING: 1.8pt"> </SPAN>Each<SPAN style="LETTER-SPACING: 1.8pt"> </SPAN>partition<SPAN style="LETTER-SPACING: 1.8pt"> </SPAN>keeps the<SPAN style="LETTER-SPACING: 1.6pt"> </SPAN>timestamp<SPAN style="LETTER-SPACING: 1.6pt"> </SPAN>of<SPAN style="LETTER-SPACING: 1.6pt"> </SPAN>the<SPAN style="LETTER-SPACING: 1.6pt"> </SPAN>latest<SPAN style="LETTER-SPACING: 1.6pt"> </SPAN>committed<SPAN style="LETTER-SPACING: 1.7pt"> </SPAN>transaction<SPAN style="LETTER-SPACING: 1.6pt"> </SPAN>(Max=150)<SPAN style="LETTER-SPACING: 1.6pt"> </SPAN>in<SPAN style="LETTER-SPACING: 1.7pt"> </SPAN>the<SPAN style="LETTER-SPACING: 1.6pt"> </SPAN>partition,<SPAN style="LETTER-SPACING: 1.6pt"> </SPAN>the oldest<SPAN style="LETTER-SPACING: 1.7pt"> </SPAN>version<SPAN style="LETTER-SPACING: 1.7pt"> </SPAN>(Min=120),<SPAN style="LETTER-SPACING: 1.7pt"> </SPAN>the<SPAN style="LETTER-SPACING: 1.6pt"> </SPAN>partition&#8217;s<SPAN style="LETTER-SPACING: 1.7pt"> </SPAN>identifier<SPAN style="LETTER-SPACING: 1.7pt"> </SPAN>(range<SPAN style="LETTER-SPACING: 1.7pt"> </SPAN>partition<SPAN style="LETTER-SPACING: 1.7pt"> </SPAN>0),<SPAN style="LETTER-SPACING: 1.7pt"> </SPAN>and<SPAN style="LETTER-SPACING: 1.7pt"> </SPAN>the<SPAN style="LETTER-SPACING: 1.7pt"> </SPAN>cur- rently<SPAN style="LETTER-SPACING: 2pt"> </SPAN>committed<SPAN style="LETTER-SPACING: 2pt"> </SPAN>transaction<SPAN style="LETTER-SPACING: 2pt"> </SPAN>counts.<SPAN style="LETTER-SPACING: 2pt"> </SPAN>Each<SPAN style="LETTER-SPACING: 2pt"> </SPAN>tuple<SPAN style="LETTER-SPACING: 2pt"> </SPAN>version<SPAN style="LETTER-SPACING: 2pt"> </SPAN>is<SPAN style="LETTER-SPACING: 2pt"> </SPAN>stored<SPAN style="LETTER-SPACING: 2pt"> </SPAN>continuously<SPAN style="LETTER-SPACING: 2pt"> </SPAN>in those<SPAN style="LETTER-SPACING: 1.4pt"> </SPAN>memory<SPAN style="LETTER-SPACING: 1.4pt"> </SPAN>chunks,<SPAN style="LETTER-SPACING: 1.4pt"> </SPAN>with<SPAN style="LETTER-SPACING: 1.4pt"> </SPAN>version<SPAN style="LETTER-SPACING: 1.4pt"> </SPAN>timestamps<SPAN style="LETTER-SPACING: 1.4pt"> </SPAN>along<SPAN style="LETTER-SPACING: 1.4pt"> </SPAN>with<SPAN style="LETTER-SPACING: 1.4pt"> </SPAN>the<SPAN style="LETTER-SPACING: 1.4pt"> </SPAN>version<SPAN style="LETTER-SPACING: 1.4pt"> </SPAN>data.<SPAN style="LETTER-SPACING: 1.4pt"> </SPAN>When the<SPAN style="LETTER-SPACING: 0.8pt"> </SPAN>committed<SPAN style="LETTER-SPACING: 0.8pt"> </SPAN>transaction<SPAN style="LETTER-SPACING: 0.8pt"> </SPAN>counts<SPAN style="LETTER-SPACING: 0.8pt"> </SPAN>of<SPAN style="LETTER-SPACING: 0.8pt"> </SPAN>one<SPAN style="LETTER-SPACING: 0.8pt"> </SPAN>partition<SPAN style="LETTER-SPACING: 0.8pt"> </SPAN>reach<SPAN style="LETTER-SPACING: 0.8pt"> </SPAN>the<SPAN style="LETTER-SPACING: 0.8pt"> </SPAN>assigned<SPAN style="LETTER-SPACING: 0.8pt"> </SPAN><I>range</I>,<SPAN style="LETTER-SPACING: 0.8pt"> </SPAN>such<SPAN style="LETTER-SPACING: 0.8pt"> </SPAN>as 3<SPAN style="LETTER-SPACING: 1pt"> </SPAN>in<SPAN style="LETTER-SPACING: 1pt"> </SPAN>the<SPAN style="LETTER-SPACING: 1pt"> </SPAN>example,<SPAN style="LETTER-SPACING: 1.1pt"> </SPAN>a<SPAN style="LETTER-SPACING: 1pt"> </SPAN>new<SPAN style="LETTER-SPACING: 1pt"> </SPAN>partition<SPAN style="LETTER-SPACING: 1.1pt"> </SPAN>is<SPAN style="LETTER-SPACING: 1pt"> </SPAN>created<SPAN style="LETTER-SPACING: 1pt"> </SPAN>and<SPAN style="LETTER-SPACING: 1.1pt"> </SPAN>added<SPAN style="LETTER-SPACING: 1pt"> </SPAN>to<SPAN style="LETTER-SPACING: 1pt"> </SPAN>the<SPAN style="LETTER-SPACING: 1pt"> </SPAN>partition<SPAN style="LETTER-SPACING: 1.1pt"> </SPAN>array<SPAN style="LETTER-SPACING: 1pt"> </SPAN><SPAN style="LETTER-SPACING: -0.1pt">index.</SPAN></FONT></P>
<P class=western style="MARGIN-TOP: 0in; MARGIN-LEFT: 0.56in; LINE-HEIGHT: 0.17in" align=justify><FONT class=extract>The<SPAN style="LETTER-SPACING: 0.8pt"> </SPAN>default<SPAN style="LETTER-SPACING: 0.8pt"> </SPAN>range<SPAN style="LETTER-SPACING: 0.8pt"> </SPAN>assignment<SPAN style="LETTER-SPACING: 0.8pt"> </SPAN>policy<SPAN style="LETTER-SPACING: 0.8pt"> </SPAN>in<SPAN style="LETTER-SPACING: 0.8pt"> </SPAN>our<SPAN style="LETTER-SPACING: 0.8pt"> </SPAN>implementation<SPAN style="LETTER-SPACING: 0.8pt"> </SPAN>is<SPAN style="LETTER-SPACING: 0.8pt"> </SPAN><SPAN style="LETTER-SPACING: -0.3pt">50.</SPAN></FONT></P>
<P class=western style="MARGIN-TOP: 0in; MARGIN-LEFT: 0.56in; LINE-HEIGHT: 98%; MARGIN-RIGHT: 0.22in; TEXT-INDENT: 0.21in" align=justify><FONT class=extract>On a high level, each partition can be seen as a single version, having a visibility window<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>from<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>the<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>timestamp<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>of<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>the<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>oldest<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>version<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>in<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>the<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>partition<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>to<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>the<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>latest<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>transac- tion,<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>which<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>created<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>a<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>version<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>in<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>the<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>given<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>partition.<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>Therefore,<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>a<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>query<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>can<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>leverage<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>this partition<SPAN style="LETTER-SPACING: 1.4pt"> </SPAN>visibility<SPAN style="LETTER-SPACING: 1.4pt"> </SPAN>window<SPAN style="LETTER-SPACING: 1.4pt"> </SPAN>to<SPAN style="LETTER-SPACING: 1.4pt"> </SPAN>skip<SPAN style="LETTER-SPACING: 1.4pt"> </SPAN>those<SPAN style="LETTER-SPACING: 1.4pt"> </SPAN>unnecessary<SPAN style="LETTER-SPACING: 1.4pt"> </SPAN>iterations<SPAN style="LETTER-SPACING: 1.4pt"> </SPAN>and<SPAN style="LETTER-SPACING: 1.4pt"> </SPAN>visibility<SPAN style="LETTER-SPACING: 1.4pt"> </SPAN>checks.</FONT></P>
<P class=western style="MARGIN-TOP: 0in"><FONT class=extract><BR></FONT></P>
<OL>
<OL>
<OL start=2>
<LI>
<H3 class=western style="LINE-HEIGHT: 100%; TEXT-INDENT: 0in" align=left><A name="Epoch Partitioning"></A><FONT class=extract><FONT face="Georgia, serif">Epoch</FONT><FONT face="Georgia, serif"><SPAN style="LETTER-SPACING: 1.4pt"> </SPAN></FONT><FONT face="Georgia, serif"><SPAN style="LETTER-SPACING: -0.1pt">Partitioning</SPAN></FONT></FONT></H3></LI></OL></OL></OL>
<P class=western style="MARGIN-TOP: 0.09in; MARGIN-LEFT: 0.56in; LINE-HEIGHT: 98%; MARGIN-RIGHT: 0.22in" align=justify><FONT class=extract>The second scheme is epoch-based partitioning, where tuple versions are assigned to the<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>current<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>epoch<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>memory<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>management.<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>In<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>an<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>epoch-based<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>system,<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>when<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>a<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>transaction starts, it registers itself in the current epoch by entering the epoch. When the trans- action finishes, it adds committed tuple versions and version timestamp information<SPAN style="LETTER-SPACING: 2pt"> </SPAN>to the access-friendly data structures.</FONT></P>
<P class=western style="MARGIN-TOP: 0in; MARGIN-LEFT: 0.56in; LINE-HEIGHT: 98%; MARGIN-RIGHT: 0.22in; TEXT-INDENT: 0.21in" align=justify><FONT class=extract>As shown in Figure </FONT><A href="file:///C:/SuperMemo/systems/Incremental/temp/HTMLFile.htm#_bookmark9"><FONT class=extract color=#0000ff>9</FONT></A><FONT class=extract>, it implements the data structure as a hash table. Each entry<SPAN style="LETTER-SPACING: 2pt"> </SPAN>in<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>the<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>hash<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>table<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>includes<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>the<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>tuple<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>identifier<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>(key=10),<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>the<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>version<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>timestamps<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>(V(130, 140)),<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>the<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>version<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>data<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>(10,<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>115),<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>and<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>the<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>next<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>pointer,<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>where<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>the<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>next<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>pointer<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>points<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>to the older version in the list if it exists or a null pointer to mark list termination. When<SPAN style="LETTER-SPACING: 4pt"> </SPAN>a background thread advances the global epoch, a new epoch partition is created, and the following committed tuple versions are partitioned into this new partition. The default epoch threshold in our implementation is 100 ms.</FONT></P>
<P class=western style="MARGIN-TOP: 0in; MARGIN-LEFT: 0.56in; LINE-HEIGHT: 98%; MARGIN-RIGHT: 0.22in; TEXT-INDENT: 0.21in" align=justify><FONT class=extract>Each tuple holds a queue to track the epoch partitions generated by transactions. When a transaction commits a new tuple version of a tuple, it appends the current epoch to the tuple&#8217;s epoch partition queue. The subsequent transactions would read this tuple-local epoch queue to determine the visible maximum epoch partition. This partitioning enables version traversal at the epoch level instead of the version level.</FONT></P>
<OL>
<OL start=3>
<LI>
<H2 class=western style="MARGIN-TOP: 0.15in; LINE-HEIGHT: 100%; TEXT-INDENT: 0in" align=left><A name="Version Visibility Check and Validation"></A><FONT class=extract><FONT face="Palatino Linotype, serif">Version</FONT><FONT face="Palatino Linotype, serif"><SPAN style="LETTER-SPACING: 0.3pt"> </SPAN></FONT><FONT face="Palatino Linotype, serif">Visibility</FONT><FONT face="Palatino Linotype, serif"><SPAN style="LETTER-SPACING: 0.3pt"> </SPAN></FONT><FONT face="Palatino Linotype, serif">Check</FONT><FONT face="Palatino Linotype, serif"><SPAN style="LETTER-SPACING: 0.3pt"> </SPAN></FONT><FONT face="Palatino Linotype, serif">and</FONT><FONT face="Palatino Linotype, serif"><SPAN style="LETTER-SPACING: 0.3pt"> </SPAN></FONT><FONT face="Palatino Linotype, serif"><SPAN style="LETTER-SPACING: -0.1pt">Validation</SPAN></FONT></FONT></H2></LI></OL></OL>
<P class=western style="MARGIN-TOP: 0.07in; MARGIN-LEFT: 0.56in; LINE-HEIGHT: 98%; MARGIN-RIGHT: 0.22in" align=justify><FONT class=extract>The<SPAN style="LETTER-SPACING: 1.5pt"> </SPAN>scalable<SPAN style="LETTER-SPACING: 1.5pt"> </SPAN>version-aware<SPAN style="LETTER-SPACING: 1.5pt"> </SPAN>data<SPAN style="LETTER-SPACING: 1.5pt"> </SPAN>placement<SPAN style="LETTER-SPACING: 1.5pt"> </SPAN>supports<SPAN style="LETTER-SPACING: 1.5pt"> </SPAN>index-only<SPAN style="LETTER-SPACING: 1.6pt"> </SPAN>visibility-check,<SPAN style="LETTER-SPACING: 1.6pt"> </SPAN>i.e., it can return a set of versions matching the search condition and visible to the calling transaction by just searching the index. Doing so avoids the expensive retrieval of ver- sion<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>store<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>to<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>extract<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>tuples&#8217;<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>versioning<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>information.<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>If<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>the<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>indexed<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>versions<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>are<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>invisible to the calling transaction, additional visibility checks are required by processing the version chains in the version store.</FONT></P>
<P class=western style="MARGIN-TOP: 0.11in"><FONT class=extract><BR></FONT></P>
<P class=western style="MARGIN-LEFT: 0.34in" align=center><SPAN style="LETTER-SPACING: -0.3pt"><FONT class=extract>10</FONT></SPAN></P>
<P class=western style="MARGIN-TOP: 0in; PAGE-BREAK-BEFORE: always"><FONT class=extract><BR></FONT></P>
<P class=western style="MARGIN-LEFT: 0.22in; LINE-HEIGHT: 0.01in"><FONT class=extract></FONT></P>
<P class=western style="MARGIN-BOTTOM: 0in; MARGIN-LEFT: 0.22in"><FONT class=extract><FONT face="Georgia, serif">Algorithm</FONT><FONT face="Georgia, serif"><SPAN style="LETTER-SPACING: 0.3pt"> </SPAN></FONT><FONT face="Georgia, serif">1</FONT><FONT face="Georgia, serif"><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT>Visibility<SPAN style="LETTER-SPACING: 0.1pt"> </SPAN>Check<SPAN style="LETTER-SPACING: 0.2pt"> </SPAN>and<SPAN style="LETTER-SPACING: 0.1pt"> </SPAN><SPAN style="LETTER-SPACING: -0.1pt">Validation</SPAN></FONT></P>
<P class=western style="MARGIN-LEFT: 0.22in; LINE-HEIGHT: 0.01in"><FONT class=extract></FONT></P>
<P class=western style="MARGIN-LEFT: 0.3in; LINE-HEIGHT: 0.16in" align=left><A name=_bookmark10></A><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT style="FONT-SIZE: 7pt" size=1>1:</FONT><FONT style="FONT-SIZE: 7pt" size=1><SPAN style="LETTER-SPACING: 3.2pt"> </SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2>//</FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: 0.8pt"> </SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2><I>Read</I></FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: 1pt"><I> </I></SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: -0.2pt"><I>Phase</I></SPAN></FONT></FONT></FONT></P>
<P class=western style="MARGIN-LEFT: 0.3in; LINE-HEIGHT: 0.17in"><FONT class=extract><FONT style="FONT-SIZE: 7pt" size=1>2:</FONT><FONT style="FONT-SIZE: 7pt" size=1><SPAN style="LETTER-SPACING: 2.8pt"> </SPAN></FONT>Generate<SPAN style="LETTER-SPACING: 0.6pt"> </SPAN>a<SPAN style="LETTER-SPACING: 0.6pt"> </SPAN>read<SPAN style="LETTER-SPACING: 0.7pt"> </SPAN>timestamp<SPAN style="LETTER-SPACING: 0.6pt"> </SPAN><SPAN style="LETTER-SPACING: -0.3pt"><I>Rts</I></SPAN></FONT></P>
<P class=western style="MARGIN-LEFT: 0.3in; LINE-HEIGHT: 0.17in" align=left><SPAN class=sd-abs-pos style="WIDTH: 6px; POSITION: absolute; LEFT: 2.82in; TOP: 0.13in"><FONT class=extract></FONT></SPAN><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT style="FONT-SIZE: 7pt" size=1>3:</FONT><FONT style="FONT-SIZE: 7pt" size=1><SPAN style="LETTER-SPACING: 2.9pt"> </SPAN></FONT><FONT face="Georgia, serif"><FONT style="FONT-SIZE: 10pt" size=2>while</FONT></FONT><FONT face="Georgia, serif"><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: 0.6pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 10pt" size=2>has</FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: 0.7pt"> </SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2>next</FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: 0.7pt"> </SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2>request</FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: 0.7pt"> </SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2>key</FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: 0.7pt"> </SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2>in</FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: 0.7pt"> </SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2>the</FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: 0.7pt"> </SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2><I>read</I></FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: 1pt"><I> </I></SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2><I>set</I></FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: 1.6pt"><I> </I></SPAN></FONT><FONT face="Georgia, serif"><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: -0.3pt">do</SPAN></FONT></FONT></FONT></FONT></P>
<P class=western style="MARGIN-TOP: 0in; MARGIN-LEFT: 0.3in; LINE-HEIGHT: 98%; MARGIN-RIGHT: 2.95in"><SPAN class=sd-abs-pos style="WIDTH: 6px; POSITION: absolute; LEFT: 0.73in; TOP: 0.13in"><FONT class=extract></FONT></SPAN><SPAN class=sd-abs-pos style="WIDTH: 6px; POSITION: absolute; LEFT: 0.88in; TOP: 0.3in"><FONT class=extract></FONT></SPAN><SPAN class=sd-abs-pos style="WIDTH: 6px; POSITION: absolute; LEFT: 1.73in; TOP: 0.3in"><FONT class=extract></FONT></SPAN><SPAN class=sd-abs-pos style="WIDTH: 6px; POSITION: absolute; LEFT: 1.09in; TOP: 0.46in"><FONT class=extract></FONT></SPAN><SPAN class=sd-abs-pos style="WIDTH: 6px; POSITION: absolute; LEFT: 1.69in; TOP: 0.46in"><FONT class=extract></FONT></SPAN><FONT class=extract><FONT style="FONT-SIZE: 7pt" size=1><SPAN style="LETTER-SPACING: -0.3pt">4:</SPAN></FONT><FONT style="FONT-SIZE: 7pt" size=1> </FONT><SPAN style="LETTER-SPACING: -0.1pt">t version</SPAN><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN><SPAN style="LETTER-SPACING: -0.1pt">=</SPAN><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN><SPAN style="LETTER-SPACING: -0.1pt">SearchVersionTree(key)</SPAN><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN><SPAN style="LETTER-SPACING: -0.1pt">; </SPAN><FONT style="FONT-SIZE: 7pt" size=1><SPAN style="LETTER-SPACING: -0.3pt">5:</SPAN></FONT><FONT style="FONT-SIZE: 7pt" size=1> </FONT><FONT face="Georgia, serif"><SPAN style="LETTER-SPACING: -0.1pt">if</SPAN></FONT><FONT face="Georgia, serif"><SPAN style="LETTER-SPACING: 0.2pt"> </SPAN></FONT><SPAN style="LETTER-SPACING: -0.1pt">t</SPAN><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN><SPAN style="LETTER-SPACING: -0.1pt">version.latest</SPAN><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN><SPAN style="LETTER-SPACING: -0.1pt">commit</SPAN><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN><SPAN style="LETTER-SPACING: -0.1pt"><I>&lt;</I></SPAN><SPAN style="LETTER-SPACING: -0.6pt"><I> </I></SPAN><SPAN style="LETTER-SPACING: -0.1pt">Rts</SPAN><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN><FONT face="Georgia, serif"><SPAN style="LETTER-SPACING: -0.1pt">then </SPAN></FONT><FONT style="FONT-SIZE: 7pt" size=1><SPAN style="LETTER-SPACING: -0.3pt">6:</SPAN></FONT><FONT style="FONT-SIZE: 7pt" size=1> </FONT><FONT face="Georgia, serif">if</FONT><FONT face="Georgia, serif"><SPAN style="LETTER-SPACING: 2pt"> </SPAN></FONT>t version.is valid <FONT face="Georgia, serif">then</FONT></FONT></P>
<P class=western style="MARGIN-LEFT: 0.3in; LINE-HEIGHT: 0.17in" align=left><SPAN class=sd-abs-pos style="WIDTH: 6px; POSITION: absolute; LEFT: 1.34in; TOP: 0.13in"><FONT class=extract></FONT></SPAN><SPAN class=sd-abs-pos style="WIDTH: 6px; POSITION: absolute; LEFT: 2.41in; TOP: 0.13in"><FONT class=extract></FONT></SPAN><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT style="FONT-SIZE: 7pt" size=1><SPAN style="LETTER-SPACING: -0.3pt">7:</SPAN></FONT><FONT style="FONT-SIZE: 7pt" size=1> </FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: -0.1pt"><I>read</I></SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: -0.2pt"><I> </I></SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: -0.1pt"><I>set</I></SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: -1.6pt"><I> </I></SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: -0.1pt">[key].data</SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: -0.1pt">=</SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: -0.5pt"> </SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: -0.1pt">t</SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: -0.1pt">version </SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: -0.5pt">;</SPAN></FONT></FONT></FONT></P>
<P class=western style="MARGIN-LEFT: 0.3in; LINE-HEIGHT: 0.17in" align=left><SPAN class=sd-abs-pos style="WIDTH: 6px; POSITION: absolute; LEFT: 1.34in; TOP: 0.13in"><FONT class=extract></FONT></SPAN><SPAN class=sd-abs-pos style="WIDTH: 6px; POSITION: absolute; LEFT: 2.15in; TOP: 0.13in"><FONT class=extract></FONT></SPAN><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT style="FONT-SIZE: 7pt" size=1><SPAN style="LETTER-SPACING: -0.3pt">8:</SPAN></FONT><FONT style="FONT-SIZE: 7pt" size=1> </FONT><FONT style="FONT-SIZE: 10pt" size=2><I>read</I></FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: 0.7pt"><I> </I></SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2><I>set</I></FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: -1.5pt"><I> </I></SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2>[key].read</FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: 0.8pt"> </SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2>latest</FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: 0.6pt"> </SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2>=</FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: 0.6pt"> </SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2>true</FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: 0.6pt"> </SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: -0.5pt">;</SPAN></FONT></FONT></FONT></P>
<P class=western style="MARGIN-TOP: 0in; MARGIN-LEFT: 0.3in" align=left><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT style="FONT-SIZE: 7pt" size=1><SPAN style="LETTER-SPACING: -0.3pt">9:</SPAN></FONT><FONT style="FONT-SIZE: 7pt" size=1> </FONT><FONT face="Georgia, serif"><FONT style="FONT-SIZE: 10pt" size=2>end</FONT></FONT><FONT face="Georgia, serif"><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: 0.4pt"> </SPAN></FONT></FONT><FONT face="Georgia, serif"><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: -0.3pt">if</SPAN></FONT></FONT></FONT></FONT></P>
<P class=western style="MARGIN-TOP: 0.01in; MARGIN-LEFT: 0.25in" align=left><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT style="FONT-SIZE: 7pt" size=1><SPAN style="LETTER-SPACING: -0.3pt">10:</SPAN></FONT><FONT style="FONT-SIZE: 7pt" size=1> </FONT><FONT face="Georgia, serif"><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: -0.2pt">else</SPAN></FONT></FONT></FONT></FONT></P>
<P class=western style="MARGIN-TOP: 0in; MARGIN-LEFT: 0.25in; LINE-HEIGHT: 0.17in"><FONT class=extract><FONT style="FONT-SIZE: 7pt" size=1><SPAN style="LETTER-SPACING: -0.3pt">11:</SPAN></FONT><FONT style="FONT-SIZE: 7pt" size=1> </FONT><FONT face="Georgia, serif">while </FONT>has<SPAN style="LETTER-SPACING: 0.2pt"> </SPAN>next<SPAN style="LETTER-SPACING: 0.2pt"> </SPAN>partition<SPAN style="LETTER-SPACING: 0.2pt"> </SPAN><FONT face="Georgia, serif"><SPAN style="LETTER-SPACING: -0.3pt">do</SPAN></FONT></FONT></P>
<P class=western style="MARGIN-LEFT: 0.25in; LINE-HEIGHT: 0.17in"><SPAN class=sd-abs-pos style="WIDTH: 6px; POSITION: absolute; LEFT: 1.14in; TOP: 0.13in"><FONT class=extract></FONT></SPAN><FONT class=extract><FONT style="FONT-SIZE: 7pt" size=1><SPAN style="LETTER-SPACING: -0.3pt">12:</SPAN></FONT><FONT style="FONT-SIZE: 7pt" size=1> </FONT>t<SPAN style="LETTER-SPACING: 0.7pt"> </SPAN>version<SPAN style="LETTER-SPACING: 0.5pt"> </SPAN>=<SPAN style="LETTER-SPACING: 0.5pt"> </SPAN>SearchPartition(key)<SPAN style="LETTER-SPACING: 0.5pt"> </SPAN><SPAN style="LETTER-SPACING: -0.5pt">;</SPAN></FONT></P>
<P class=western style="MARGIN-LEFT: 0.25in; LINE-HEIGHT: 0.17in"><SPAN class=sd-abs-pos style="WIDTH: 6px; POSITION: absolute; LEFT: 1.3in; TOP: 0.13in"><FONT class=extract></FONT></SPAN><SPAN class=sd-abs-pos style="WIDTH: 6px; POSITION: absolute; LEFT: 2.15in; TOP: 0.13in"><FONT class=extract></FONT></SPAN><SPAN class=sd-abs-pos style="WIDTH: 6px; POSITION: absolute; LEFT: 3.09in; TOP: 0.13in"><FONT class=extract></FONT></SPAN><SPAN class=sd-abs-pos style="WIDTH: 6px; POSITION: absolute; LEFT: 3.85in; TOP: 0.13in"><FONT class=extract></FONT></SPAN><FONT class=extract><FONT style="FONT-SIZE: 7pt" size=1><SPAN style="LETTER-SPACING: -0.3pt">13:</SPAN></FONT><FONT style="FONT-SIZE: 7pt" size=1> </FONT><FONT face="Georgia, serif">if</FONT><FONT face="Georgia, serif"><SPAN style="LETTER-SPACING: 0.7pt"> </SPAN></FONT>t<SPAN style="LETTER-SPACING: 0.3pt"> </SPAN>version.Begin<SPAN style="LETTER-SPACING: 0.2pt"> </SPAN>ts<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN><I>&lt;</I><SPAN style="LETTER-SPACING: -0.2pt"><I> </I></SPAN>Rts and<SPAN style="LETTER-SPACING: 0.1pt"> </SPAN>t<SPAN style="LETTER-SPACING: 0.2pt"> </SPAN>version.End<SPAN style="LETTER-SPACING: 0.3pt"> </SPAN>ts<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN><I>&gt;</I><SPAN style="LETTER-SPACING: -0.2pt"><I> </I></SPAN>Rts<SPAN style="LETTER-SPACING: 2.6pt"> </SPAN><FONT face="Georgia, serif"><SPAN style="LETTER-SPACING: -0.2pt">then</SPAN></FONT></FONT></P>
<P class=western style="MARGIN-LEFT: 0.25in; LINE-HEIGHT: 0.17in" align=left><SPAN class=sd-abs-pos style="WIDTH: 6px; POSITION: absolute; LEFT: 1.55in; TOP: 0.13in"><FONT class=extract></FONT></SPAN><SPAN class=sd-abs-pos style="WIDTH: 6px; POSITION: absolute; LEFT: 2.53in; TOP: 0.13in"><FONT class=extract></FONT></SPAN><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT style="FONT-SIZE: 7pt" size=1><SPAN style="LETTER-SPACING: -0.3pt">14:</SPAN></FONT><FONT style="FONT-SIZE: 7pt" size=1> </FONT><FONT style="FONT-SIZE: 10pt" size=2><I>read</I></FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: 0.7pt"><I> </I></SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2><I>set</I></FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: -1.5pt"><I> </I></SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2>[key].data=t</FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: 0.8pt"> </SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2>version</FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: 0.6pt"> </SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: -0.5pt">;</SPAN></FONT></FONT></FONT></P>
<P class=western style="MARGIN-LEFT: 0.25in; LINE-HEIGHT: 0.17in" align=left><SPAN class=sd-abs-pos style="WIDTH: 6px; POSITION: absolute; LEFT: 1.55in; TOP: 0.13in"><FONT class=extract></FONT></SPAN><SPAN class=sd-abs-pos style="WIDTH: 6px; POSITION: absolute; LEFT: 2.36in; TOP: 0.13in"><FONT class=extract></FONT></SPAN><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT style="FONT-SIZE: 7pt" size=1><SPAN style="LETTER-SPACING: -0.3pt">15:</SPAN></FONT><FONT style="FONT-SIZE: 7pt" size=1> </FONT><FONT style="FONT-SIZE: 10pt" size=2><I>read</I></FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: 0.2pt"><I> </I></SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2><I>set</I></FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: -1.5pt"><I> </I></SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2>[key].read</FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: 0.4pt"> </SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2>latest=false</FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: 0.2pt"> </SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: -0.5pt">;</SPAN></FONT></FONT></FONT></P>
<P class=western style="MARGIN-TOP: 0in; MARGIN-LEFT: 0.25in" align=left><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT style="FONT-SIZE: 7pt" size=1><SPAN style="LETTER-SPACING: -0.3pt">16:</SPAN></FONT><FONT style="FONT-SIZE: 7pt" size=1> </FONT><FONT face="Georgia, serif"><FONT style="FONT-SIZE: 10pt" size=2>end</FONT></FONT><FONT face="Georgia, serif"><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: 0.4pt"> </SPAN></FONT></FONT><FONT face="Georgia, serif"><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: -0.3pt">if</SPAN></FONT></FONT></FONT></FONT></P>
<P class=western style="MARGIN-TOP: 0.01in; MARGIN-LEFT: 0.25in" align=left><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT style="FONT-SIZE: 7pt" size=1><SPAN style="LETTER-SPACING: -0.3pt">17:</SPAN></FONT><FONT style="FONT-SIZE: 7pt" size=1> </FONT><FONT face="Georgia, serif"><FONT style="FONT-SIZE: 10pt" size=2>end</FONT></FONT><FONT face="Georgia, serif"><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: 0.4pt"> </SPAN></FONT></FONT><FONT face="Georgia, serif"><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: -0.2pt">while</SPAN></FONT></FONT></FONT></FONT></P>
<P class=western style="MARGIN-TOP: 0.01in; MARGIN-LEFT: 0.25in" align=left><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT style="FONT-SIZE: 7pt" size=1><SPAN style="LETTER-SPACING: -0.3pt">18:</SPAN></FONT><FONT style="FONT-SIZE: 7pt" size=1> </FONT><FONT face="Georgia, serif"><FONT style="FONT-SIZE: 10pt" size=2>end</FONT></FONT><FONT face="Georgia, serif"><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: 0.4pt"> </SPAN></FONT></FONT><FONT face="Georgia, serif"><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: -0.3pt">if</SPAN></FONT></FONT></FONT></FONT></P>
<P class=western style="MARGIN-TOP: 0.01in; MARGIN-LEFT: 0.25in" align=left><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT style="FONT-SIZE: 7pt" size=1>19:</FONT><FONT style="FONT-SIZE: 7pt" size=1><SPAN style="LETTER-SPACING: 3.2pt"> </SPAN></FONT><FONT face="Georgia, serif"><FONT style="FONT-SIZE: 10pt" size=2>end</FONT></FONT><FONT face="Georgia, serif"><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: 0.7pt"> </SPAN></FONT></FONT><FONT face="Georgia, serif"><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: -0.1pt">while</SPAN></FONT></FONT></FONT></FONT></P>
<P class=western style="MARGIN-TOP: 0in; MARGIN-LEFT: 0.25in; LINE-HEIGHT: 0.17in" align=left><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT style="FONT-SIZE: 7pt" size=1>20:</FONT><FONT style="FONT-SIZE: 7pt" size=1><SPAN style="LETTER-SPACING: 2pt"> </SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2>//</FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2><I>Validation</I></FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: 0.1pt"><I> </I></SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: -0.2pt"><I>Phase</I></SPAN></FONT></FONT></FONT></P>
<P class=western style="MARGIN-LEFT: 0.25in; LINE-HEIGHT: 0.17in"><FONT class=extract><FONT style="FONT-SIZE: 7pt" size=1>21:</FONT><FONT style="FONT-SIZE: 7pt" size=1><SPAN style="LETTER-SPACING: 3pt"> </SPAN></FONT>Generate<SPAN style="LETTER-SPACING: 0.7pt"> </SPAN>a<SPAN style="LETTER-SPACING: 0.8pt"> </SPAN>commmit<SPAN style="LETTER-SPACING: 0.8pt"> </SPAN>timestamp<SPAN style="LETTER-SPACING: 0.7pt"> </SPAN><SPAN style="LETTER-SPACING: -0.3pt"><I>Cts</I></SPAN></FONT></P>
<P class=western style="MARGIN-LEFT: 0.25in; LINE-HEIGHT: 0.17in" align=left><SPAN class=sd-abs-pos style="WIDTH: 6px; POSITION: absolute; LEFT: 2.82in; TOP: 0.13in"><FONT class=extract></FONT></SPAN><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT style="FONT-SIZE: 7pt" size=1>22:</FONT><FONT style="FONT-SIZE: 7pt" size=1><SPAN style="LETTER-SPACING: 2.9pt"> </SPAN></FONT><FONT face="Georgia, serif"><FONT style="FONT-SIZE: 10pt" size=2>while</FONT></FONT><FONT face="Georgia, serif"><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: 0.6pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 10pt" size=2>has</FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: 0.7pt"> </SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2>next</FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: 0.7pt"> </SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2>request</FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: 0.7pt"> </SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2>key</FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: 0.7pt"> </SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2>in</FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: 0.7pt"> </SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2>the</FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: 0.7pt"> </SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2><I>read</I></FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: 1pt"><I> </I></SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2><I>set</I></FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: 1.6pt"><I> </I></SPAN></FONT><FONT face="Georgia, serif"><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: -0.3pt">do</SPAN></FONT></FONT></FONT></FONT></P>
<P class=western style="MARGIN-LEFT: 0.25in; LINE-HEIGHT: 0.17in" align=left><SPAN class=sd-abs-pos style="WIDTH: 6px; POSITION: absolute; LEFT: 0.73in; TOP: 0.13in"><FONT class=extract></FONT></SPAN><SPAN class=sd-abs-pos style="WIDTH: 6px; POSITION: absolute; LEFT: 1.65in; TOP: 0.13in"><FONT class=extract></FONT></SPAN><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT style="FONT-SIZE: 7pt" size=1><SPAN style="LETTER-SPACING: -0.3pt">23:</SPAN></FONT><FONT style="FONT-SIZE: 7pt" size=1> </FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: -0.1pt">t</SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: -0.1pt">version</SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: -0.1pt">=</SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: -0.5pt"> </SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: -0.1pt"><I>read</I></SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: 0.1pt"><I> </I></SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: -0.1pt"><I>set</I></SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: -1.6pt"><I> </I></SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: -0.1pt">[key].data </SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: -0.5pt">;</SPAN></FONT></FONT></FONT></P>
<P class=western style="MARGIN-LEFT: 0.25in; LINE-HEIGHT: 0.17in"><SPAN class=sd-abs-pos style="WIDTH: 6px; POSITION: absolute; LEFT: 0.88in; TOP: 0.13in"><FONT class=extract></FONT></SPAN><SPAN class=sd-abs-pos style="WIDTH: 6px; POSITION: absolute; LEFT: 1.66in; TOP: 0.13in"><FONT class=extract></FONT></SPAN><FONT class=extract><FONT style="FONT-SIZE: 7pt" size=1><SPAN style="LETTER-SPACING: -0.3pt">24:</SPAN></FONT><FONT style="FONT-SIZE: 7pt" size=1> </FONT><FONT face="Georgia, serif">if</FONT><FONT face="Georgia, serif"><SPAN style="LETTER-SPACING: 1.5pt"> </SPAN></FONT>t<SPAN style="LETTER-SPACING: 0.9pt"> </SPAN>version.read<SPAN style="LETTER-SPACING: 0.9pt"> </SPAN>latest<SPAN style="LETTER-SPACING: 0.7pt"> </SPAN><FONT face="Georgia, serif"><SPAN style="LETTER-SPACING: -0.2pt">then</SPAN></FONT></FONT></P>
<P class=western style="MARGIN-LEFT: 0.25in; LINE-HEIGHT: 0.16in"><SPAN class=sd-abs-pos style="WIDTH: 6px; POSITION: absolute; LEFT: 1.21in; TOP: 0.13in"><FONT class=extract></FONT></SPAN><SPAN class=sd-abs-pos style="WIDTH: 6px; POSITION: absolute; LEFT: 1.69in; TOP: 0.13in"><FONT class=extract></FONT></SPAN><SPAN class=sd-abs-pos style="WIDTH: 6px; POSITION: absolute; LEFT: 2.53in; TOP: 0.13in"><FONT class=extract></FONT></SPAN><FONT class=extract><FONT style="FONT-SIZE: 7pt" size=1><SPAN style="LETTER-SPACING: -0.3pt">25:</SPAN></FONT><FONT style="FONT-SIZE: 7pt" size=1> </FONT>latest<SPAN style="LETTER-SPACING: 0.3pt"> </SPAN>cts<SPAN style="LETTER-SPACING: 0.1pt"> </SPAN>=<SPAN style="LETTER-SPACING: 0.1pt"> </SPAN>t<SPAN style="LETTER-SPACING: 0.3pt"> </SPAN>version.latest<SPAN style="LETTER-SPACING: 0.3pt"> </SPAN>commit<SPAN style="LETTER-SPACING: 0.1pt"> </SPAN><SPAN style="LETTER-SPACING: -0.5pt">;</SPAN></FONT></P>
<P class=western style="MARGIN-LEFT: 0.25in; LINE-HEIGHT: 0.17in"><SPAN class=sd-abs-pos style="WIDTH: 6px; POSITION: absolute; LEFT: 1.37in; TOP: 0.13in"><FONT class=extract></FONT></SPAN><FONT class=extract><FONT style="FONT-SIZE: 7pt" size=1><SPAN style="LETTER-SPACING: -0.3pt">26:</SPAN></FONT><FONT style="FONT-SIZE: 7pt" size=1> </FONT><FONT face="Georgia, serif">if</FONT><FONT face="Georgia, serif"><SPAN style="LETTER-SPACING: 1.4pt"> </SPAN></FONT>latest<SPAN style="LETTER-SPACING: 1pt"> </SPAN>cts<SPAN style="LETTER-SPACING: 0.8pt"> </SPAN><FONT face="SimSun-ExtB, serif">&#8805;</FONT><FONT face="SimSun-ExtB, serif"><SPAN style="LETTER-SPACING: -2pt"> </SPAN></FONT>Cts<SPAN style="LETTER-SPACING: 0.8pt"> </SPAN><FONT face="Georgia, serif"><SPAN style="LETTER-SPACING: -0.2pt">then</SPAN></FONT></FONT></P>
<P class=western style="MARGIN-LEFT: 0.25in; LINE-HEIGHT: 0.17in" align=left><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT style="FONT-SIZE: 7pt" size=1><SPAN style="LETTER-SPACING: -0.3pt">27:</SPAN></FONT><FONT style="FONT-SIZE: 7pt" size=1> </FONT><FONT face="Georgia, serif"><FONT style="FONT-SIZE: 10pt" size=2>return</FONT></FONT><FONT face="Georgia, serif"><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: 1.3pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 10pt" size=2>Abort</FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: 1.4pt"> </SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: -0.5pt">;</SPAN></FONT></FONT></FONT></P>
<P class=western style="MARGIN-TOP: 0in; MARGIN-LEFT: 0.25in" align=left><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT style="FONT-SIZE: 7pt" size=1><SPAN style="LETTER-SPACING: -0.3pt">28:</SPAN></FONT><FONT style="FONT-SIZE: 7pt" size=1> </FONT><FONT face="Georgia, serif"><FONT style="FONT-SIZE: 10pt" size=2>end</FONT></FONT><FONT face="Georgia, serif"><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: 0.4pt"> </SPAN></FONT></FONT><FONT face="Georgia, serif"><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: -0.3pt">if</SPAN></FONT></FONT></FONT></FONT></P>
<P class=western style="MARGIN-TOP: 0.01in; MARGIN-LEFT: 0.25in" align=left><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT style="FONT-SIZE: 7pt" size=1><SPAN style="LETTER-SPACING: -0.3pt">29:</SPAN></FONT><FONT style="FONT-SIZE: 7pt" size=1> </FONT><FONT face="Georgia, serif"><FONT style="FONT-SIZE: 10pt" size=2>end</FONT></FONT><FONT face="Georgia, serif"><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: 0.4pt"> </SPAN></FONT></FONT><FONT face="Georgia, serif"><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: -0.3pt">if</SPAN></FONT></FONT></FONT></FONT></P>
<P class=western style="MARGIN-TOP: 0.01in; MARGIN-LEFT: 0.25in" align=left><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT style="FONT-SIZE: 7pt" size=1>30:</FONT><FONT style="FONT-SIZE: 7pt" size=1><SPAN style="LETTER-SPACING: 3.2pt"> </SPAN></FONT><FONT face="Georgia, serif"><FONT style="FONT-SIZE: 10pt" size=2>end</FONT></FONT><FONT face="Georgia, serif"><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: 0.7pt"> </SPAN></FONT></FONT><FONT face="Georgia, serif"><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: -0.1pt">while</SPAN></FONT></FONT></FONT></FONT></P>
<P class=western style="MARGIN-TOP: 0in; MARGIN-LEFT: 0.25in; LINE-HEIGHT: 0.17in" align=left><SPAN class=sd-abs-pos style="WIDTH: 6px; POSITION: absolute; LEFT: 2.87in; TOP: 0.13in"><FONT class=extract></FONT></SPAN><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT style="FONT-SIZE: 7pt" size=1>31:</FONT><FONT style="FONT-SIZE: 7pt" size=1><SPAN style="LETTER-SPACING: 3.1pt"> </SPAN></FONT><FONT face="Georgia, serif"><FONT style="FONT-SIZE: 10pt" size=2>while</FONT></FONT><FONT face="Georgia, serif"><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: 0.7pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 10pt" size=2>has</FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: 0.8pt"> </SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2>next</FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: 0.8pt"> </SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2>request</FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: 0.8pt"> </SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2>key</FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: 0.9pt"> </SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2>in</FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: 0.8pt"> </SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2>the</FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: 0.8pt"> </SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2><I>write</I></FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: 1.1pt"><I> </I></SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2><I>set</I></FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: 1.7pt"><I> </I></SPAN></FONT><FONT face="Georgia, serif"><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: -0.3pt">do</SPAN></FONT></FONT></FONT></FONT></P>
<P class=western style="MARGIN-LEFT: 0.25in; LINE-HEIGHT: 0.17in" align=left><SPAN class=sd-abs-pos style="WIDTH: 6px; POSITION: absolute; LEFT: 0.73in; TOP: 0.13in"><FONT class=extract></FONT></SPAN><SPAN class=sd-abs-pos style="WIDTH: 6px; POSITION: absolute; LEFT: 1.7in; TOP: 0.13in"><FONT class=extract></FONT></SPAN><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT style="FONT-SIZE: 7pt" size=1><SPAN style="LETTER-SPACING: -0.3pt">32:</SPAN></FONT><FONT style="FONT-SIZE: 7pt" size=1> </FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: -0.1pt">t</SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: -0.1pt">version</SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: -0.1pt">=</SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: -0.1pt"><I>write</I></SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: 0.4pt"><I> </I></SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: -0.1pt"><I>set</I></SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: -1.6pt"><I> </I></SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: -0.1pt">[key].data</SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: -0.5pt">;</SPAN></FONT></FONT></FONT></P>
<P class=western style="MARGIN-LEFT: 0.25in; LINE-HEIGHT: 0.17in"><SPAN class=sd-abs-pos style="WIDTH: 6px; POSITION: absolute; LEFT: 0.88in; TOP: 0.13in"><FONT class=extract></FONT></SPAN><FONT class=extract><FONT style="FONT-SIZE: 7pt" size=1><SPAN style="LETTER-SPACING: -0.3pt">33:</SPAN></FONT><FONT style="FONT-SIZE: 7pt" size=1> </FONT><FONT face="Georgia, serif">if</FONT><FONT face="Georgia, serif"><SPAN style="LETTER-SPACING: 1.3pt"> </SPAN></FONT>t<SPAN style="LETTER-SPACING: 0.8pt"> </SPAN>version<SPAN style="LETTER-SPACING: 0.6pt"> </SPAN>is<SPAN style="LETTER-SPACING: 0.6pt"> </SPAN>moved<SPAN style="LETTER-SPACING: 0.6pt"> </SPAN><FONT face="Georgia, serif"><SPAN style="LETTER-SPACING: -0.2pt">then</SPAN></FONT></FONT></P>
<P class=western style="MARGIN-LEFT: 0.25in; LINE-HEIGHT: 0.17in"><FONT class=extract><FONT style="FONT-SIZE: 7pt" size=1><SPAN style="LETTER-SPACING: -0.3pt">34:</SPAN></FONT><FONT style="FONT-SIZE: 7pt" size=1> </FONT>SearchVersionTree(key)<SPAN style="LETTER-SPACING: 0.8pt"> </SPAN><SPAN style="LETTER-SPACING: -0.5pt">;</SPAN></FONT></P>
<P class=western style="MARGIN-TOP: 0in; MARGIN-LEFT: 0.25in" align=left><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT style="FONT-SIZE: 7pt" size=1><SPAN style="LETTER-SPACING: -0.3pt">35:</SPAN></FONT><FONT style="FONT-SIZE: 7pt" size=1> </FONT><FONT face="Georgia, serif"><FONT style="FONT-SIZE: 10pt" size=2>end</FONT></FONT><FONT face="Georgia, serif"><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: 0.4pt"> </SPAN></FONT></FONT><FONT face="Georgia, serif"><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: -0.3pt">if</SPAN></FONT></FONT></FONT></FONT></P>
<P class=western style="MARGIN-TOP: 0.01in; MARGIN-LEFT: 0.25in" align=left><SPAN class=sd-abs-pos style="WIDTH: 741px; POSITION: absolute; LEFT: 0.22in; TOP: 0.19in"><FONT class=extract></FONT></SPAN><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT style="FONT-SIZE: 7pt" size=1>36:</FONT><FONT style="FONT-SIZE: 7pt" size=1><SPAN style="LETTER-SPACING: 3.2pt"> </SPAN></FONT><FONT face="Georgia, serif"><FONT style="FONT-SIZE: 10pt" size=2>end</FONT></FONT><FONT face="Georgia, serif"><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: 0.7pt"> </SPAN></FONT></FONT><FONT face="Georgia, serif"><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: -0.1pt">while</SPAN></FONT></FONT></FONT></FONT></P>
<P class=western style="MARGIN-TOP: 0.06in"><FONT class=extract><BR></FONT></P>
<P class=western style="MARGIN-LEFT: 0.22in; LINE-HEIGHT: 98%; MARGIN-RIGHT: 0.56in; TEXT-INDENT: 0.21in" align=justify><FONT class=extract>As shown in Algorithm </FONT><A href="file:///C:/SuperMemo/systems/Incremental/temp/HTMLFile.htm#_bookmark10"><FONT class=extract color=#0000ff>1</FONT></A><FONT class=extract>, a transaction begins with a newly allocated timestamp and<SPAN style="LETTER-SPACING: 0.7pt"> </SPAN>performs<SPAN style="LETTER-SPACING: 0.7pt"> </SPAN>executions<SPAN style="LETTER-SPACING: 0.7pt"> </SPAN>that<SPAN style="LETTER-SPACING: 0.7pt"> </SPAN>request<SPAN style="LETTER-SPACING: 0.7pt"> </SPAN>tuple<SPAN style="LETTER-SPACING: 0.7pt"> </SPAN>access.<SPAN style="LETTER-SPACING: 0.7pt"> </SPAN>In<SPAN style="LETTER-SPACING: 0.7pt"> </SPAN>the<SPAN style="LETTER-SPACING: 0.7pt"> </SPAN>read<SPAN style="LETTER-SPACING: 0.7pt"> </SPAN>phase,<SPAN style="LETTER-SPACING: 0.7pt"> </SPAN>it<SPAN style="LETTER-SPACING: 0.7pt"> </SPAN>searches<SPAN style="LETTER-SPACING: 0.7pt"> </SPAN>for a particular version of the requested tuple by comparing the transaction&#8217;s timestamp with that of the versions. After the version B<SUP>+</SUP>-tree returns the matching tuple, the visibility<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>check<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>is<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>processed.<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>The<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>best<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>case<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>is<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>that<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>the<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>indexed<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>version<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>passes<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>the<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>check, continuing the next tuple access. Suppose the version is marked invalid, or the latest commit<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>timestamp<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>is greater than<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>the timestamp of<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>the calling transaction, or <SPAN style="LETTER-SPACING: -0.1pt">another</SPAN></FONT></P>
<P class=western style="MARGIN-TOP: 0.14in"><FONT class=extract><BR></FONT></P>
<P class=western style="MARGIN-RIGHT: 0.34in" align=center><SPAN style="LETTER-SPACING: -0.3pt"><FONT class=extract>11</FONT></SPAN></P>
<P class=western style="MARGIN-TOP: 0.03in; PAGE-BREAK-BEFORE: always; MARGIN-LEFT: 0.56in; LINE-HEIGHT: 98%; MARGIN-RIGHT: 0.22in" align=justify><FONT class=extract>transaction corresponding to the index version timestamp is concurrent to the calling transaction. In that case, it is invisible to the transaction. Thus, the transaction needs<SPAN style="LETTER-SPACING: 2pt"> </SPAN>to probe the partitions to find the target version.</FONT></P>
<P class=western style="MARGIN-TOP: 0in; MARGIN-LEFT: 0.56in; LINE-HEIGHT: 98%; MARGIN-RIGHT: 0.22in; TEXT-INDENT: 0.21in" align=justify><SPAN class=sd-abs-pos style="WIDTH: 6px; POSITION: absolute; LEFT: 3.58in; TOP: 0.63in"><FONT class=extract></FONT></SPAN><SPAN class=sd-abs-pos style="WIDTH: 6px; POSITION: absolute; LEFT: 4.24in; TOP: 0.63in"><FONT class=extract></FONT></SPAN><FONT class=extract>In the validation phase, the transaction first generates a commit timestamp. Then, it checks whether the tuple versions in the read set are valid based on this commit timestamp. A tuple version read is valid to the calling transaction if and only if the commit<SPAN style="LETTER-SPACING: -0.5pt"> </SPAN>timestamp<SPAN style="LETTER-SPACING: -0.5pt"> </SPAN>is<SPAN style="LETTER-SPACING: -0.5pt"> </SPAN>in<SPAN style="LETTER-SPACING: -0.5pt"> </SPAN>between<SPAN style="LETTER-SPACING: -0.5pt"> </SPAN>the<SPAN style="LETTER-SPACING: -0.5pt"> </SPAN>versions<SPAN style="LETTER-SPACING: -0.5pt"> </SPAN>begin<SPAN style="LETTER-SPACING: 0.8pt"> </SPAN>ts<SPAN style="LETTER-SPACING: -0.5pt"> </SPAN>and<SPAN style="LETTER-SPACING: -0.5pt"> </SPAN>end<SPAN style="LETTER-SPACING: 0.8pt"> </SPAN>ts.<SPAN style="LETTER-SPACING: -0.5pt"> </SPAN>If<SPAN style="LETTER-SPACING: -0.5pt"> </SPAN>the<SPAN style="LETTER-SPACING: -0.5pt"> </SPAN>transaction<SPAN style="LETTER-SPACING: -0.5pt"> </SPAN>has read an older tuple version, it can bypass the duplicate access check. If the transaction has read the latest tuple version, i.e., the indexed tuple version, it has to ensure the latest commit timestamp less than the current commit timestamp.</FONT></P>
<P class=western style="MARGIN-TOP: 0in; MARGIN-LEFT: 0.56in; LINE-HEIGHT: 98%; MARGIN-RIGHT: 0.22in; TEXT-INDENT: 0.21in" align=justify><FONT class=extract>However,<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>when<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>a<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>transaction<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>reads<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>an<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>indexed<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>version,<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>there<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>exists<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>a<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>leaf<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>node<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>split issue [</FONT><A href="file:///C:/SuperMemo/systems/Incremental/temp/HTMLFile.htm#_bookmark39"><FONT class=extract color=#0000ff>23</FONT></A><FONT class=extract>]. The transaction cannot find the accessed version at the validation phase because, during the transaction processing, a concurrent transaction has moved it to the other physical address due to leaf node splits. Our solution is to perform an index search again. This is not very expensive commonly, and skewed updates on tuples do not lower the overall performance due to index-organized tuple versions.</FONT></P>
<OL start=4>
<LI>
<H1 class=western style="MARGIN-TOP: 0.15in; LINE-HEIGHT: 100%; TEXT-INDENT: 0in" align=left><A name="Scalable Version Ingestion"></A><FONT class=extract>Scalable<SPAN style="LETTER-SPACING: 2pt"> </SPAN>Version<SPAN style="LETTER-SPACING: 2pt"> </SPAN><SPAN style="LETTER-SPACING: -0.1pt">Ingestion</SPAN></FONT></H1>
<OL>
<LI>
<H2 class=western style="MARGIN-TOP: 0.09in; LINE-HEIGHT: 100%; TEXT-INDENT: 0in" align=left><A name="Fine-grained Memory Management"></A><FONT class=extract><FONT face="Palatino Linotype, serif">Fine-grained</FONT><FONT face="Palatino Linotype, serif"><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT><FONT face="Palatino Linotype, serif">Memory</FONT><FONT face="Palatino Linotype, serif"><SPAN style="LETTER-SPACING: -0.1pt"> Management</SPAN></FONT></FONT></H2></LI></OL></LI></OL>
<P class=western><FONT class=extract><BR></FONT></P>
<P class=western style="MARGIN-TOP: 0.11in"><FONT class=extract><BR></FONT></P>
<DIV id=Section16 style="column-count: 4" dir=ltr gutter="4">
<P class=western><FONT class=extract><BR></FONT></P>
<P class=western><FONT class=extract><BR></FONT></P>
<P class=western><FONT class=extract><BR></FONT></P>
<P class=western><FONT class=extract><BR></FONT></P>
<P class=western style="MARGIN-TOP: 0.02in"><FONT class=extract><BR></FONT></P>
<P class=western align=right><SPAN class=sd-abs-pos style="WIDTH: 242px; POSITION: absolute; LEFT: 1.29in; TOP: -0.49in"><FONT class=extract></FONT></SPAN><FONT style="FONT-SIZE: 11pt" size=2><FONT style="FONT-SIZE: 5pt; BACKGROUND-COLOR: #7be1e1" size=1><SPAN style="LETTER-SPACING: -0.1pt">feedback</SPAN></FONT></FONT></P>
<P class=western style="MARGIN-TOP: 0.05in; MARGIN-LEFT: 0.16in; LINE-HEIGHT: 98%; TEXT-INDENT: 0.01in" align=left><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT style="FONT-SIZE: 7pt" size=1><SPAN style="LETTER-SPACING: -0.1pt">Memory</SPAN></FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 7pt" size=1><SPAN style="LETTER-SPACING: 2pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 7pt" size=1><SPAN style="LETTER-SPACING: -0.1pt">Allocator</SPAN></FONT></FONT></FONT></P>
<P class=western style="LINE-HEIGHT: 100%"><FONT class=extract><BR></FONT></P>
<P class=western style="MARGIN-TOP: 0.09in"><FONT class=extract><BR></FONT></P>
<P class=western style="MARGIN-LEFT: 0.21in" align=left><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT style="FONT-SIZE: 5pt" size=1>try</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 5pt" size=1><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 5pt" size=1>to</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 5pt" size=1><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 5pt" size=1>pop</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 5pt" size=1> </FONT></FONT><FONT style="FONT-SIZE: 5pt" size=1>a</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 5pt" size=1><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 5pt" size=1><SPAN style="LETTER-SPACING: -0.1pt">chunk</SPAN></FONT></FONT></FONT></P>
<P class=western style="LINE-HEIGHT: 100%"><FONT class=extract><BR></FONT></P>
<P class=western><FONT class=extract><BR></FONT></P>
<P class=western><FONT class=extract><BR></FONT></P>
<P class=western style="MARGIN-TOP: 0.01in"><FONT class=extract><BR></FONT></P>
<P class=western style="MARGIN-LEFT: 0.06in" align=left><SPAN class=sd-abs-pos style="WIDTH: 304px; POSITION: absolute; LEFT: 0.72in; TOP: -0.47in"><FONT class=extract></FONT></SPAN><FONT style="FONT-SIZE: 11pt" size=2><FONT style="FONT-SIZE: 7pt; BACKGROUND-COLOR: #7be1e1" size=1><SPAN style="LETTER-SPACING: -0.3pt">...</SPAN></FONT></FONT></P></DIV>
<DIV id=Section17 style="column-count: 4" dir=ltr gutter="4">
<P class=western style="MARGIN-TOP: 0in"><FONT class=extract><BR></FONT></P>
<P class=western style="MARGIN-LEFT: 0.94in; LINE-HEIGHT: 0.14in; MARGIN-RIGHT: -0.01in"><FONT class=extract></FONT></P>
<P class=western style="MARGIN-TOP: 0.03in" align=right><FONT style="FONT-SIZE: 11pt" size=2><FONT style="FONT-SIZE: 5pt; BACKGROUND-COLOR: #7be1e1" size=1><SPAN style="LETTER-SPACING: -0.1pt">require/</SPAN></FONT></FONT></P>
<P class=western style="MARGIN-TOP: 0.01in; MARGIN-LEFT: 0.07in" align=left><FONT style="FONT-SIZE: 11pt" size=2><FONT style="FONT-SIZE: 7pt; BACKGROUND-COLOR: #7be1e1" size=1><SPAN style="LETTER-SPACING: -0.1pt">Controller</SPAN></FONT></FONT></P>
<P class=western style="MARGIN-TOP: 0.09in; MARGIN-LEFT: 0.13in; TEXT-INDENT: -0.05in" align=left><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT style="FONT-SIZE: 5pt" size=1>try</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 5pt" size=1><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 5pt" size=1>to</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 5pt" size=1><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 5pt" size=1>push</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 5pt" size=1><SPAN style="LETTER-SPACING: 2pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 5pt" size=1>a</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 5pt" size=1><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 5pt" size=1>chunk</FONT></FONT></FONT></P>
<P class=western style="MARGIN-TOP: 0.04in; MARGIN-LEFT: 0.23in; LINE-HEIGHT: 98%; MARGIN-RIGHT: 3.05in; TEXT-INDENT: -0.13in" align=left><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT style="FONT-SIZE: 7pt" size=1><SPAN style="LETTER-SPACING: -0.1pt">Reuse</SPAN></FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 7pt" size=1><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 7pt" size=1><SPAN style="LETTER-SPACING: -0.1pt">chunk</SPAN></FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 7pt" size=1><SPAN style="LETTER-SPACING: 2pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 7pt" size=1><SPAN style="LETTER-SPACING: -0.1pt">queue</SPAN></FONT></FONT></FONT></P></DIV>
<DIV id=Section18 style="column-count: 2" dir=ltr gutter="4">
<P class=western style="MARGIN-LEFT: 0.88in; LINE-HEIGHT: 0.08in" align=left><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT style="FONT-SIZE: 5pt" size=1>recycle</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 5pt" size=1><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 5pt" size=1>a</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 5pt" size=1><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 5pt" size=1><SPAN style="LETTER-SPACING: -0.1pt">chunk</SPAN></FONT></FONT></FONT></P>
<P class=western style="MARGIN-TOP: 0.03in; LINE-HEIGHT: 100%"><FONT class=extract><BR></FONT></P>
<P class=western style="MARGIN-LEFT: 0.21in; MARGIN-RIGHT: 3.44in; TEXT-INDENT: 0.08in" align=left><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT style="FONT-SIZE: 5pt" size=1>utilization</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 5pt" size=1> </FONT></FONT><FONT style="FONT-SIZE: 5pt" size=1>of</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 5pt" size=1> </FONT></FONT><FONT style="FONT-SIZE: 5pt" size=1>the</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 5pt" size=1> </FONT></FONT><FONT style="FONT-SIZE: 5pt" size=1>queue</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 5pt" size=1><SPAN style="LETTER-SPACING: 2pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 5pt" size=1>(empty,full</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 5pt" size=1><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 5pt" size=1>or</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 5pt" size=1><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 5pt" size=1>pop</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 5pt" size=1><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 5pt" size=1>the</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 5pt" size=1><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 5pt" size=1>front)</FONT></FONT></FONT></P></DIV>
<DIV id=Section19 dir=ltr>
<P class=western style="MARGIN-TOP: 0.03in"><FONT class=extract><BR></FONT></P>
<P class=western style="MARGIN-LEFT: 1.16in" align=left><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT style="FONT-SIZE: 7pt" size=1>(a)</FONT><FONT style="FONT-SIZE: 7pt" size=1><SPAN style="LETTER-SPACING: 0.7pt"> </SPAN></FONT><FONT style="FONT-SIZE: 7pt" size=1>Leaf</FONT><FONT style="FONT-SIZE: 7pt" size=1><SPAN style="LETTER-SPACING: 0.3pt"> </SPAN></FONT><FONT style="FONT-SIZE: 7pt" size=1>node</FONT><FONT style="FONT-SIZE: 7pt" size=1><SPAN style="LETTER-SPACING: 0.2pt"> </SPAN></FONT><FONT style="FONT-SIZE: 7pt" size=1>block</FONT><FONT style="FONT-SIZE: 7pt" size=1><SPAN style="LETTER-SPACING: 0.3pt"> </SPAN></FONT><FONT style="FONT-SIZE: 7pt" size=1><SPAN style="LETTER-SPACING: -0.1pt">allocator.</SPAN></FONT><FONT style="FONT-SIZE: 7pt" size=1> </FONT><FONT style="FONT-SIZE: 7pt" size=1>(b)</FONT><FONT style="FONT-SIZE: 7pt" size=1><SPAN style="LETTER-SPACING: 0.2pt"> </SPAN></FONT><FONT style="FONT-SIZE: 7pt" size=1>Non-leaf</FONT><FONT style="FONT-SIZE: 7pt" size=1><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT><FONT style="FONT-SIZE: 7pt" size=1>node</FONT><FONT style="FONT-SIZE: 7pt" size=1><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT><FONT style="FONT-SIZE: 7pt" size=1>block</FONT><FONT style="FONT-SIZE: 7pt" size=1><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT><FONT style="FONT-SIZE: 7pt" size=1><SPAN style="LETTER-SPACING: -0.1pt">allocator.</SPAN></FONT></FONT></FONT></P>
<P class=western style="MARGIN-TOP: 0.09in; MARGIN-LEFT: 0.56in; LINE-HEIGHT: 96%; MARGIN-RIGHT: 0.22in" align=left><A name=_bookmark11></A><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT face="Georgia, serif"><FONT style="FONT-SIZE: 8pt" size=1>Fig.</FONT></FONT><FONT face="Georgia, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 1.2pt"> </SPAN></FONT></FONT><FONT face="Georgia, serif"><FONT style="FONT-SIZE: 8pt" size=1>10</FONT></FONT><FONT face="Georgia, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 4pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 8pt" size=1>Fine-grained</FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.9pt"> </SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1>memory</FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.9pt"> </SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1>management.</FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.9pt"> </SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1>Two</FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.9pt"> </SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1>data</FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.9pt"> </SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1>block</FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.9pt"> </SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1>allocators</FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.9pt"> </SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1>for</FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.9pt"> </SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1>fixed-sized</FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.9pt"> </SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1>leaf</FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.9pt"> </SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1>node</FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.9pt"> </SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1>and</FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 2pt"> </SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1>variable-sized non-leaf node.</FONT></FONT></FONT></P>
<P class=western style="MARGIN-TOP: 0.09in"><FONT class=extract><BR></FONT></P>
<P class=western style="MARGIN-LEFT: 0.56in; LINE-HEIGHT: 98%; MARGIN-RIGHT: 0.22in; TEXT-INDENT: 0.21in" align=justify><FONT class=extract>To<SPAN style="LETTER-SPACING: 1.6pt"> </SPAN>reduce<SPAN style="LETTER-SPACING: 1.6pt"> </SPAN>the<SPAN style="LETTER-SPACING: 1.6pt"> </SPAN>memory<SPAN style="LETTER-SPACING: 1.6pt"> </SPAN>fragmentation<SPAN style="LETTER-SPACING: 1.6pt"> </SPAN>and<SPAN style="LETTER-SPACING: 1.6pt"> </SPAN>the<SPAN style="LETTER-SPACING: 1.6pt"> </SPAN>contention<SPAN style="LETTER-SPACING: 1.6pt"> </SPAN>in<SPAN style="LETTER-SPACING: 1.6pt"> </SPAN>memory<SPAN style="LETTER-SPACING: 1.6pt"> </SPAN>allocation for multiple threads, we design and implement a fine-grained allocation/deallocation mechanism for leaf and non-leaf node blocks.</FONT></P>
<P class=western style="MARGIN-TOP: 0in; MARGIN-LEFT: 0.56in; LINE-HEIGHT: 98%; MARGIN-RIGHT: 0.22in; TEXT-INDENT: 0.21in" align=justify><FONT class=extract>As shown in Figure <FONT color=#0000ff><A href="file:///C:/SuperMemo/systems/Incremental/temp/HTMLFile.htm#_bookmark11"><FONT color=#000080>10</FONT></A> </FONT>(a), this allocator is a global memory manager that manages the entire leaf node memory space at the granularity of chunks. The chunk size is adjustable<SPAN style="LETTER-SPACING: 0.7pt"> </SPAN>and<SPAN style="LETTER-SPACING: 0.7pt"> </SPAN>default<SPAN style="LETTER-SPACING: 0.7pt"> </SPAN>to<SPAN style="LETTER-SPACING: 0.7pt"> </SPAN>16<SPAN style="LETTER-SPACING: 0.7pt"> </SPAN>KB.<SPAN style="LETTER-SPACING: 0.7pt"> </SPAN>The<SPAN style="LETTER-SPACING: 0.7pt"> </SPAN>manager<SPAN style="LETTER-SPACING: 0.7pt"> </SPAN>maintains<SPAN style="LETTER-SPACING: 0.7pt"> </SPAN>a<SPAN style="LETTER-SPACING: 0.7pt"> </SPAN>global<SPAN style="LETTER-SPACING: 0.7pt"> </SPAN><I>reuse</I><SPAN style="LETTER-SPACING: 1pt"><I> </I></SPAN><I>chunk</I><SPAN style="LETTER-SPACING: 1pt"><I> </I></SPAN><I>queue</I>. It contains the released chunks and several fields indicating the usage of the reuse chunk<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>queue.<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>When<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>a<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>thread<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>requests<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>a<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>new<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>chunk<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>from<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>the<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>manager,<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>it<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>first<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>searches the<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>reuse<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>chunk<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>queue<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>controlled<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>by<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>the<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN><I>controller</I>.<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>If<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>the<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>reuse<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>chunk<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>queue<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>is<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>empty, it<SPAN style="LETTER-SPACING: 0.9pt"> </SPAN>will<SPAN style="LETTER-SPACING: 0.9pt"> </SPAN>obtain<SPAN style="LETTER-SPACING: 0.9pt"> </SPAN>a<SPAN style="LETTER-SPACING: 0.9pt"> </SPAN>new<SPAN style="LETTER-SPACING: 0.9pt"> </SPAN>fixed-size<SPAN style="LETTER-SPACING: 0.9pt"> </SPAN>space<SPAN style="LETTER-SPACING: 1pt"> </SPAN>from<SPAN style="LETTER-SPACING: 0.9pt"> </SPAN>the<SPAN style="LETTER-SPACING: 0.9pt"> </SPAN><I>memory</I><SPAN style="LETTER-SPACING: 1.1pt"><I> </I></SPAN><I>allocator</I><SPAN style="LETTER-SPACING: 1.9pt"><I> </I></SPAN>and<SPAN style="LETTER-SPACING: 0.9pt"> </SPAN>feedback.<SPAN style="LETTER-SPACING: 0.9pt"> </SPAN>If<SPAN style="LETTER-SPACING: 0.9pt"> </SPAN><SPAN style="LETTER-SPACING: -0.3pt">the</SPAN></FONT></P>
<P class=western style="MARGIN-TOP: 0.1in"><FONT class=extract><BR></FONT></P>
<P class=western style="MARGIN-LEFT: 0.34in" align=center><SPAN style="LETTER-SPACING: -0.3pt"><FONT class=extract>12</FONT></SPAN></P></DIV>
<P class=western style="MARGIN-TOP: 0.03in; PAGE-BREAK-BEFORE: always; MARGIN-LEFT: 0.22in; LINE-HEIGHT: 98%; MARGIN-RIGHT: 0.56in" align=justify><FONT class=extract>reuse<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>chunk<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>queue<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>is<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>not<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>empty,<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>it<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>pops<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>the<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>front<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>of<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>the<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>queue<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>and<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>returns<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>to<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>the<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>user. When a discarded chunk requested, if the reuse chunk queue is full, it will deallocate the<SPAN style="LETTER-SPACING: 2pt"> </SPAN>chunk<SPAN style="LETTER-SPACING: 2pt"> </SPAN>through<SPAN style="LETTER-SPACING: 2pt"> </SPAN>the<SPAN style="LETTER-SPACING: 2pt"> </SPAN>allocator,<SPAN style="LETTER-SPACING: 2pt"> </SPAN>while<SPAN style="LETTER-SPACING: 2pt"> </SPAN>if<SPAN style="LETTER-SPACING: 2pt"> </SPAN>it<SPAN style="LETTER-SPACING: 2pt"> </SPAN>is<SPAN style="LETTER-SPACING: 2pt"> </SPAN>not<SPAN style="LETTER-SPACING: 2pt"> </SPAN>full,<SPAN style="LETTER-SPACING: 2pt"> </SPAN>it<SPAN style="LETTER-SPACING: 2pt"> </SPAN>will<SPAN style="LETTER-SPACING: 2pt"> </SPAN>push<SPAN style="LETTER-SPACING: 2pt"> </SPAN>the<SPAN style="LETTER-SPACING: 2pt"> </SPAN>chunk<SPAN style="LETTER-SPACING: 2pt"> </SPAN>into the queue and use an atomic fetch-and-add struction to increase the size of the reuse chunk queue. We use a spin latch to guarantee thread safety for each operation, i.e., pop and push.</FONT></P>
<P class=western style="MARGIN-TOP: 0in; MARGIN-LEFT: 0.22in; LINE-HEIGHT: 98%; MARGIN-RIGHT: 0.56in; TEXT-INDENT: 0.21in" align=justify><FONT class=extract>As shown in Figure <FONT color=#0000ff><A href="file:///C:/SuperMemo/systems/Incremental/temp/HTMLFile.htm#_bookmark11"><FONT color=#000080>10</FONT></A> </FONT>(b), non-leaf nodes are immutable once created and store elements<SPAN style="LETTER-SPACING: -0.5pt"> </SPAN>sorted<SPAN style="LETTER-SPACING: -0.5pt"> </SPAN>order<SPAN style="LETTER-SPACING: -0.5pt"> </SPAN>by<SPAN style="LETTER-SPACING: -0.5pt"> </SPAN>key.<SPAN style="LETTER-SPACING: -0.5pt"> </SPAN>Since<SPAN style="LETTER-SPACING: -0.5pt"> </SPAN>the<SPAN style="LETTER-SPACING: -0.5pt"> </SPAN>non-leaf<SPAN style="LETTER-SPACING: -0.5pt"> </SPAN>nodes<SPAN style="LETTER-SPACING: -0.5pt"> </SPAN>are<SPAN style="LETTER-SPACING: -0.5pt"> </SPAN>read-mostly<SPAN style="LETTER-SPACING: -0.5pt"> </SPAN>and<SPAN style="LETTER-SPACING: -0.5pt"> </SPAN>change<SPAN style="LETTER-SPACING: -0.5pt"> </SPAN>less frequently,<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>they<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>are<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>replaced<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>wholesale<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>by<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>the<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>new<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>created<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>non-leaf<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>nodes<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>when<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>node splitting. While this benefits searches on the node, it produces small memory space allocation<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>overhead.<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>To<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>overcome<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>this<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>problem,<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>we<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>design<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>and<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>implement<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>a<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN><I>valenblock allocator</I><SPAN style="LETTER-SPACING: 1.7pt"><I> </I></SPAN>performing non-leaf nodes&#8217; storage space allocation. It includes two layers.<SPAN style="LETTER-SPACING: 2pt"> </SPAN>In the first layer, we use a <I>free chunk list</I><SPAN style="LETTER-SPACING: 1.7pt"><I> </I></SPAN>to maintain a list of fixed size free chunks.<SPAN style="LETTER-SPACING: 2pt"> </SPAN>The<SPAN style="LETTER-SPACING: 1.6pt"> </SPAN>valenblock<SPAN style="LETTER-SPACING: 1.6pt"> </SPAN>allocator<SPAN style="LETTER-SPACING: 1.6pt"> </SPAN>requests<SPAN style="LETTER-SPACING: 1.6pt"> </SPAN>a<SPAN style="LETTER-SPACING: 1.6pt"> </SPAN>new<SPAN style="LETTER-SPACING: 1.6pt"> </SPAN>free<SPAN style="LETTER-SPACING: 1.6pt"> </SPAN>chunk<SPAN style="LETTER-SPACING: 1.6pt"> </SPAN>from<SPAN style="LETTER-SPACING: 1.6pt"> </SPAN>the<SPAN style="LETTER-SPACING: 1.6pt"> </SPAN>linked<SPAN style="LETTER-SPACING: 1.6pt"> </SPAN>list,<SPAN style="LETTER-SPACING: 1.6pt"> </SPAN>initializing its reference counter to 0, and adds it to the active chunk array. In the second layer, when an non-leaf node created, a thread acquires a small space from a random active chunk and increment its referenced count by one. When the non-leaf node released, the active chunk&#8217; referenced count decrements by one. There is a background thread periodically<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>check<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>and<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>recycle<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>the<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>active<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>chunks<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>once<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>they<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>are<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>no<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>longer<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>referenced<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>by any non-leaf node.</FONT></P>
<OL>
<OL start=2>
<LI>
<H2 class=western style="MARGIN-TOP: 0.16in; LINE-HEIGHT: 100%; TEXT-INDENT: 0in" align=left><A name="Delayed Node Reclamation"></A><FONT class=extract><FONT face="Palatino Linotype, serif">Delayed</FONT><FONT face="Palatino Linotype, serif"><SPAN style="LETTER-SPACING: 1.2pt"> </SPAN></FONT><FONT face="Palatino Linotype, serif">Node</FONT><FONT face="Palatino Linotype, serif"><SPAN style="LETTER-SPACING: 1.2pt"> </SPAN></FONT><FONT face="Palatino Linotype, serif"><SPAN style="LETTER-SPACING: -0.1pt">Reclamation</SPAN></FONT></FONT></H2></LI></OL></OL>
<P class=western style="MARGIN-TOP: 0.14in"><FONT class=extract><BR></FONT></P>
<DIV id=Section20 style="column-count: 4" dir=ltr gutter="4">
<P class=western style="MARGIN-TOP: 0.01in"><FONT class=extract><BR></FONT></P>
<P class=western style="MARGIN-LEFT: 0.94in" align=left><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: -0.1pt">core1</SPAN></FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 6pt" size=1> </FONT></FONT><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: -0.2pt">core2</SPAN></FONT></FONT></FONT></P>
<P class=western style="MARGIN-TOP: 0.05in; MARGIN-LEFT: 0.5in" align=left><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT style="FONT-SIZE: 6pt" size=1>Thread</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 6pt" size=1>1</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: 0.2pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: -0.1pt">updating</SPAN></FONT></FONT></FONT></P>
<P class=western style="MARGIN-TOP: 0.08in; LINE-HEIGHT: 100%"><FONT class=extract><BR></FONT></P>
<P class=western style="MARGIN-LEFT: 0.28in; LINE-HEIGHT: 0.08in" align=left><SPAN class=sd-abs-pos style="WIDTH: 44px; POSITION: absolute; LEFT: 5.03in; TOP: 0.1in"><FONT class=extract><IMG border=0 name="Image 552" src="file:///C:/Users/aaron/AppData/Local/Temp/lu21164a2h8qi.tmp/lu21164a2h8vc_tmp_d04b9673d92b96e7.png" width=44 height=20> </FONT></SPAN><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT style="FONT-SIZE: 5pt" size=1>node</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 5pt" size=1><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 5pt" size=1><SPAN style="LETTER-SPACING: -0.5pt"><I>L</I></SPAN></FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 5pt" size=1> </FONT></FONT><FONT style="FONT-SIZE: 5pt" size=1>node</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 5pt" size=1><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 5pt" size=1><SPAN style="LETTER-SPACING: -0.5pt"><I>i</I></SPAN></FONT></FONT></FONT></P>
<P class=western style="MARGIN-TOP: 0.02in; LINE-HEIGHT: 100%"><FONT class=extract><BR></FONT></P>
<P class=western style="MARGIN-LEFT: 0.11in" align=left><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT style="FONT-SIZE: 6pt" size=1>Thread-</FONT><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: -0.1pt">local</SPAN></FONT></FONT></FONT></P></DIV>
<DIV id=Section21 style="column-count: 3" dir=ltr gutter="2">
<P class=western><FONT class=extract><BR></FONT></P>
<P class=western style="MARGIN-LEFT: 0.97in; LINE-HEIGHT: 0.16in"><SPAN class=sd-abs-pos style="WIDTH: 139px; POSITION: absolute; LEFT: 2.71in; TOP: -0.12in"><FONT class=extract></FONT></SPAN><FONT style="FONT-SIZE: 11pt" size=2><SUB><FONT style="FONT-SIZE: 10pt" size=2></FONT></SUB></FONT></P>
<P class=western style="MARGIN-LEFT: 0.8in" align=left><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT style="FONT-SIZE: 6pt" size=1>Thread</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 6pt" size=1>1</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: -0.1pt">updating</SPAN></FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 6pt" size=1> </FONT></FONT><FONT style="FONT-SIZE: 6pt" size=1>Thread</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 6pt" size=1>2</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: -0.1pt">splitting</SPAN></FONT></FONT></FONT></P>
<P class=western style="MARGIN-RIGHT: 0.11in" align=right><SPAN class=sd-abs-pos style="WIDTH: 5px; POSITION: absolute; LEFT: 1in; TOP: 0.08in"><FONT class=extract></FONT></SPAN><SPAN class=sd-abs-pos style="WIDTH: 5px; POSITION: absolute; LEFT: 1.95in; TOP: 0.08in"><FONT class=extract></FONT></SPAN><SPAN class=sd-abs-pos style="WIDTH: 14px; POSITION: absolute; LEFT: 0.79in; TOP: 0.09in"><FONT class=extract></FONT></SPAN><SPAN id=Frame23 style="BORDER-TOP: medium none; BORDER-RIGHT: medium none; WIDTH: 0.1in; BACKGROUND: #ffffff; BORDER-BOTTOM: medium none; POSITION: absolute; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0in; LEFT: 1.95in; BORDER-LEFT: medium none; TOP: 5.69in; PADDING-RIGHT: 0in">
<P style="MARGIN-TOP: 0in; MARGIN-LEFT: 0.01in" dir=ltr align=left><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT style="FONT-SIZE: 5pt" size=1>node</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 5pt" size=1><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 5pt" size=1><SPAN style="LETTER-SPACING: -0.5pt"><I>L</I></SPAN></FONT></FONT></FONT></P></SPAN><SPAN class=sd-abs-pos style="WIDTH: 7px; POSITION: absolute; LEFT: 0.99in; TOP: 0.16in"><FONT class=extract></FONT></SPAN><SPAN id=Frame18 style="BORDER-TOP: medium none; BORDER-RIGHT: medium none; WIDTH: 0.05in; BACKGROUND: #ffffff; BORDER-BOTTOM: medium none; POSITION: absolute; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0in; LEFT: 2.15in; BORDER-LEFT: medium none; TOP: 5.76in; PADDING-RIGHT: 0in" dir=ltr>
<P style="LINE-HEIGHT: 0.09in" align=left><FONT style="FONT-SIZE: 11pt" size=2><FONT color=#c00000><FONT style="FONT-SIZE: 6pt; BACKGROUND-COLOR: #7be1e1" size=1><SPAN style="LETTER-SPACING: -0.5pt">A</SPAN></FONT></FONT></FONT></P></SPAN><SPAN class=sd-abs-pos style="WIDTH: 7px; POSITION: absolute; LEFT: 1.22in; TOP: 0.16in"><FONT class=extract></FONT></SPAN><SPAN id=Frame19 style="BORDER-TOP: medium none; BORDER-RIGHT: medium none; WIDTH: 0.05in; BACKGROUND: #ffffff; BORDER-BOTTOM: medium none; POSITION: absolute; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0in; LEFT: 2.39in; BORDER-LEFT: medium none; TOP: 5.76in; PADDING-RIGHT: 0in" dir=ltr>
<P style="LINE-HEIGHT: 0.09in" align=left><FONT style="FONT-SIZE: 11pt" size=2><FONT style="FONT-SIZE: 6pt; BACKGROUND-COLOR: #7be1e1" size=1><SPAN style="LETTER-SPACING: -0.5pt">B</SPAN></FONT></FONT></P></SPAN><SPAN class=sd-abs-pos style="WIDTH: 7px; POSITION: absolute; LEFT: 1.46in; TOP: 0.16in"><FONT class=extract></FONT></SPAN><SPAN id=Frame20 style="BORDER-TOP: medium none; BORDER-RIGHT: medium none; WIDTH: 0.05in; BACKGROUND: #ffffff; BORDER-BOTTOM: medium none; POSITION: absolute; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0in; LEFT: 2.63in; BORDER-LEFT: medium none; TOP: 5.76in; PADDING-RIGHT: 0in" dir=ltr>
<P style="LINE-HEIGHT: 0.09in" align=left><FONT style="FONT-SIZE: 11pt" size=2><FONT style="FONT-SIZE: 6pt; BACKGROUND-COLOR: #7be1e1" size=1><SPAN style="LETTER-SPACING: -0.5pt">C</SPAN></FONT></FONT></P></SPAN><SPAN class=sd-abs-pos style="WIDTH: 8px; POSITION: absolute; LEFT: 1.7in; TOP: 0.16in"><FONT class=extract></FONT></SPAN><SPAN id=Frame21 style="BORDER-TOP: medium none; BORDER-RIGHT: medium none; WIDTH: 0.05in; BACKGROUND: #ffffff; BORDER-BOTTOM: medium none; POSITION: absolute; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0in; LEFT: 2.86in; BORDER-LEFT: medium none; TOP: 5.76in; PADDING-RIGHT: 0in" dir=ltr>
<P style="LINE-HEIGHT: 0.09in" align=left><FONT style="FONT-SIZE: 11pt" size=2><FONT style="FONT-SIZE: 6pt; BACKGROUND-COLOR: #7be1e1" size=1><SPAN style="LETTER-SPACING: -0.5pt">D</SPAN></FONT></FONT></P></SPAN><SPAN class=sd-abs-pos style="WIDTH: 6px; POSITION: absolute; LEFT: 1.94in; TOP: 0.16in"><FONT class=extract></FONT></SPAN><SPAN id=Frame22 style="BORDER-TOP: medium none; BORDER-RIGHT: medium none; WIDTH: 0.04in; BACKGROUND: #ffffff; BORDER-BOTTOM: medium none; POSITION: absolute; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0in; LEFT: 3.11in; BORDER-LEFT: medium none; TOP: 5.76in; PADDING-RIGHT: 0in" dir=ltr>
<P style="LINE-HEIGHT: 0.09in" align=left><FONT style="FONT-SIZE: 11pt" size=2><FONT style="FONT-SIZE: 6pt; BACKGROUND-COLOR: #7be1e1" size=1><SPAN style="LETTER-SPACING: -0.5pt">E</SPAN></FONT></FONT></P></SPAN><SPAN class=sd-abs-pos style="WIDTH: 1px; POSITION: absolute; LEFT: 1.01in; TOP: 0in"><FONT class=extract></FONT></SPAN><SPAN class=sd-abs-pos style="WIDTH: 1px; POSITION: absolute; LEFT: 1.96in; TOP: -0.01in"><FONT class=extract></FONT></SPAN><SPAN class=sd-abs-pos style="WIDTH: 172px; POSITION: absolute; LEFT: 0.89in; TOP: 0.13in"><FONT class=extract></FONT></SPAN><FONT class=extract><FONT size=2><FONT color=#c00000><FONT size=1>waiting</FONT></FONT></FONT> </FONT>
<P></P>
<P class=western style="MARGIN-TOP: 0.04in; MARGIN-LEFT: 0.43in" align=left><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT color=#c00000><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: -0.5pt">A</SPAN></FONT></FONT><FONT color=#c00000><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 6pt" size=1> </FONT></FONT></FONT><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: -0.5pt">B</SPAN></FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 6pt" size=1> </FONT></FONT><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: -0.5pt">C</SPAN></FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 6pt" size=1> </FONT></FONT><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: -0.5pt">D</SPAN></FONT></FONT></FONT></P>
<P class=western style="MARGIN-TOP: 0.01in; MARGIN-LEFT: 0.36in" align=left><SPAN class=sd-abs-pos style="WIDTH: 3px; POSITION: absolute; LEFT: 0.44in; TOP: 0.11in"><FONT class=extract></FONT></SPAN><FONT style="FONT-SIZE: 11pt" size=2><FONT color=#c00000><FONT style="FONT-SIZE: 4pt; BACKGROUND-COLOR: #7be1e1" size=1><SPAN style="LETTER-SPACING: -0.2pt">moved</SPAN></FONT></FONT></FONT></P>
<P class=western style="MARGIN-TOP: 0.06in; MARGIN-LEFT: 0.75in" align=left><SPAN class=sd-abs-pos style="WIDTH: 187px; POSITION: absolute; LEFT: 0.36in; TOP: 0.17in"><FONT class=extract></FONT></SPAN><SPAN class=sd-abs-pos style="WIDTH: 16px; POSITION: absolute; LEFT: 0.26in; TOP: 0.09in"><FONT class=extract></FONT></SPAN><SPAN id=Frame24 style="BORDER-TOP: medium none; BORDER-RIGHT: medium none; WIDTH: 0.11in; BACKGROUND: #ffffff; BORDER-BOTTOM: medium none; POSITION: absolute; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0in; LEFT: 3.77in; BORDER-LEFT: medium none; TOP: 5.62in; PADDING-RIGHT: 0in">
<P style="MARGIN-TOP: 0.01in; MARGIN-LEFT: 0.01in" dir=ltr align=left><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT style="FONT-SIZE: 5pt" size=1>new</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 5pt" size=1><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 5pt" size=1>node</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 5pt" size=1><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 5pt" size=1><SPAN style="LETTER-SPACING: -0.3pt"><I>L</I></SPAN></FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 5pt" size=1><SPAN style="LETTER-SPACING: -0.3pt"><I>&#8217;</I></SPAN></FONT></FONT></FONT></FONT></P></SPAN><FONT class=extract><FONT size=2><FONT size=1>Thread</FONT><FONT face="Times New Roman, serif"><FONT size=1> </FONT></FONT><FONT size=1>2</FONT><FONT face="Times New Roman, serif"><FONT size=1> </FONT></FONT><FONT size=1>splitting</FONT></FONT> </FONT>
<P></P>
<P class=western style="MARGIN-LEFT: 0.61in; LINE-HEIGHT: 66%; MARGIN-RIGHT: 1.14in; TEXT-INDENT: -0.61in" align=left><FONT class=extract><SUB><SPAN style="LETTER-SPACING: -0.5pt">&#8230;</SPAN></SUB><FONT style="FONT-SIZE: 11pt" size=2><SUB><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 6pt" size=1> </FONT></FONT></SUB><SUB><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 6pt" size=1>&#8230;</FONT></FONT></SUB><SUB><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: 0.5pt"> </SPAN></FONT></FONT></SUB><FONT style="FONT-SIZE: 6pt" size=1>retired</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 6pt" size=1>node</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: 2pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 6pt" size=1>blocks</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: 0.2pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: -0.1pt">queue</SPAN></FONT></FONT></FONT></P></DIV>
<DIV id=Section22 dir=ltr>
<P class=western style="MARGIN-TOP: 0.01in"><FONT class=extract><BR></FONT></P>
<P class=western style="MARGIN-LEFT: 0.89in; LINE-HEIGHT: 100%"><SPAN id=Frame25 style="BORDER-TOP: medium none; BORDER-RIGHT: medium none; WIDTH: 1.2in; BACKGROUND: #ffffff; BORDER-BOTTOM: medium none; POSITION: absolute; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0in; BORDER-LEFT: medium none; TOP: 0in; PADDING-RIGHT: 0in" dir=ltr>
<TABLE dir=ltr cellSpacing=1 cellPadding=1 width=172>
<COLGROUP><FONT class=extract>
<COL width=30>
<COL width=31>
<COL width=32>
<COL width=32>
<COL width=30></FONT>
<TBODY>
<TR vAlign=top>
<TD style="BORDER-TOP: #000000 1px solid; BORDER-RIGHT: #000000 0.75pt double; BACKGROUND: #feffff; BORDER-BOTTOM: #000000 1px solid; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0in; BORDER-LEFT: #000000 1px solid; PADDING-RIGHT: 0in" bgColor=#feffff height=13 width=30>
<P style="MARGIN-TOP: 0.01in; MARGIN-LEFT: 0.01in; ORPHANS: 0; WIDOWS: 0; MARGIN-RIGHT: 0in" align=center><FONT style="FONT-SIZE: 11pt" size=2><FONT color=#c00000><SUP><FONT style="FONT-SIZE: 6pt; BACKGROUND-COLOR: #7be1e1" size=1><SPAN style="LETTER-SPACING: -0.5pt">A</SPAN></FONT></SUP></FONT></FONT></P></TD>
<TD style="BORDER-TOP: #000000 1px solid; BORDER-RIGHT: #000000 1px solid; BACKGROUND: #feffff; BORDER-BOTTOM: #000000 1px solid; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0in; BORDER-LEFT: #000000 0.75pt double; PADDING-RIGHT: 0in" bgColor=#feffff width=31>
<P style="MARGIN-TOP: 0.01in; MARGIN-LEFT: 0.01in; ORPHANS: 0; WIDOWS: 0; MARGIN-RIGHT: 0.01in" align=center><FONT style="FONT-SIZE: 11pt" size=2><FONT style="FONT-SIZE: 6pt; BACKGROUND-COLOR: #7be1e1" size=1><SPAN style="LETTER-SPACING: -0.5pt">B</SPAN></FONT></FONT></P></TD>
<TD style="BORDER-TOP: #000000 1px solid; BORDER-RIGHT: #000000 1px solid; BACKGROUND: #feffff; BORDER-BOTTOM: #000000 1px solid; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0in; BORDER-LEFT: #000000 1px solid; PADDING-RIGHT: 0in" bgColor=#feffff width=32>
<P style="MARGIN-TOP: 0.01in; MARGIN-LEFT: 0in; ORPHANS: 0; WIDOWS: 0" align=center><FONT style="FONT-SIZE: 11pt" size=2><FONT style="FONT-SIZE: 6pt; BACKGROUND-COLOR: #7be1e1" size=1><SPAN style="LETTER-SPACING: -0.5pt">C</SPAN></FONT></FONT></P></TD>
<TD style="BORDER-TOP: #000000 1px solid; BORDER-RIGHT: #000000 1px solid; BACKGROUND: #feffff; BORDER-BOTTOM: #000000 1px solid; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0in; BORDER-LEFT: #000000 1px solid; PADDING-RIGHT: 0in" bgColor=#feffff width=32>
<P style="MARGIN-TOP: 0.01in; MARGIN-LEFT: 0in; ORPHANS: 0; WIDOWS: 0; MARGIN-RIGHT: 0in" align=center><FONT style="FONT-SIZE: 11pt" size=2><FONT style="FONT-SIZE: 6pt; BACKGROUND-COLOR: #7be1e1" size=1><SPAN style="LETTER-SPACING: -0.5pt">D</SPAN></FONT></FONT></P></TD>
<TD style="BORDER-TOP: #000000 1px solid; BORDER-RIGHT: #000000 1px solid; BACKGROUND: #feffff; BORDER-BOTTOM: #000000 1px solid; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0in; BORDER-LEFT: #000000 1px solid; PADDING-RIGHT: 0in" bgColor=#feffff width=30>
<P style="MARGIN-TOP: 0.01in; MARGIN-LEFT: 0in; ORPHANS: 0; WIDOWS: 0; MARGIN-RIGHT: 0in" align=center><FONT style="FONT-SIZE: 11pt" size=2><FONT style="FONT-SIZE: 6pt; BACKGROUND-COLOR: #7be1e1" size=1><SPAN style="LETTER-SPACING: -0.5pt">E</SPAN></FONT></FONT></P></TD></TR></TBODY></TABLE>
<P class=western><FONT class=extract><BR></FONT></P></SPAN><FONT size=2><SUP><FONT size=2><SPAN id=Frame26 style="BORDER-TOP: medium none; BORDER-RIGHT: medium none; WIDTH: 0.96in; BACKGROUND: #ffffff; BORDER-BOTTOM: medium none; POSITION: absolute; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0in; BORDER-LEFT: medium none; TOP: 0in; PADDING-RIGHT: 0in" dir=ltr>
<TABLE dir=ltr cellSpacing=1 cellPadding=1 width=138>
<COLGROUP><FONT class=extract>
<COL width=23>
<COL width=24>
<COL width=25>
<COL width=25>
<COL width=23></FONT>
<TBODY>
<TR vAlign=top>
<TD style="BORDER-TOP: #000000 1px solid; BORDER-RIGHT: #000000 0.75pt double; BORDER-BOTTOM: #000000 1px solid; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0in; BORDER-LEFT: #000000 1px solid; PADDING-RIGHT: 0in" height=13 width=23>
<P style="MARGIN-TOP: 0.01in; MARGIN-LEFT: 0.07in; ORPHANS: 0; WIDOWS: 0"><FONT style="FONT-SIZE: 11pt" size=2><FONT style="FONT-SIZE: 6pt; BACKGROUND-COLOR: #7be1e1" size=1><SPAN style="LETTER-SPACING: -0.5pt">D</SPAN></FONT></FONT></P></TD>
<TD style="BORDER-TOP: #000000 1px solid; BORDER-RIGHT: #000000 1px solid; BORDER-BOTTOM: #000000 1px solid; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0in; BORDER-LEFT: #000000 0.75pt double; PADDING-RIGHT: 0in" width=24>
<P style="MARGIN-TOP: 0.01in; ORPHANS: 0; WIDOWS: 0" align=center><FONT style="FONT-SIZE: 11pt" size=2><FONT style="FONT-SIZE: 6pt; BACKGROUND-COLOR: #7be1e1" size=1><SPAN style="LETTER-SPACING: -0.5pt">E</SPAN></FONT></FONT></P></TD>
<TD style="BORDER-TOP: #000000 1px solid; BORDER-RIGHT: #000000 1px solid; BORDER-BOTTOM: #000000 1px solid; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0in; BORDER-LEFT: #000000 1px solid; PADDING-RIGHT: 0in" width=25>
<P style="MARGIN-TOP: 0.01in; MARGIN-LEFT: 0.01in; ORPHANS: 0; WIDOWS: 0" align=center><FONT style="FONT-SIZE: 11pt" size=2><FONT style="FONT-SIZE: 6pt; BACKGROUND-COLOR: #7be1e1" size=1><SPAN style="LETTER-SPACING: -0.5pt">F</SPAN></FONT></FONT></P></TD>
<TD style="BORDER-TOP: #000000 1px solid; BORDER-RIGHT: #000000 1px solid; BORDER-BOTTOM: #000000 1px solid; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0in; BORDER-LEFT: #000000 1px solid; PADDING-RIGHT: 0in" width=25>
<P style="ORPHANS: 0; WIDOWS: 0"><FONT class=extract><BR></FONT></P></TD>
<TD style="BORDER-TOP: #000000 1px solid; BORDER-RIGHT: #000000 1px solid; BORDER-BOTTOM: #000000 1px solid; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0in; BORDER-LEFT: #000000 1px solid; PADDING-RIGHT: 0in" width=23>
<P style="ORPHANS: 0; WIDOWS: 0"><FONT class=extract><BR></FONT></P></TD></TR></TBODY></TABLE>
<P class=western><FONT class=extract><BR></FONT></P></SPAN></FONT></SUP></FONT>
<P><FONT class=extract></FONT></P>
<P class=western style="MARGIN-TOP: 0.01in"><FONT class=extract><BR></FONT></P></DIV>
<DIV id=Section23 style="column-count: 2" dir=ltr gutter="4">
<OL type=a>
<LI>
<P style="MARGIN-TOP: 0.05in; LINE-HEIGHT: 100%" align=left><SPAN class=sd-abs-pos style="WIDTH: 16px; POSITION: absolute; LEFT: 4.68in; TOP: -0.38in"><FONT class=extract></FONT></SPAN><SPAN id=Frame27 style="BORDER-TOP: medium none; BORDER-RIGHT: medium none; WIDTH: 0.11in; BACKGROUND: #ffffff; BORDER-BOTTOM: medium none; POSITION: absolute; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0in; LEFT: 5.85in; BORDER-LEFT: medium none; TOP: 5.73in; PADDING-RIGHT: 0in">
<P style="MARGIN-TOP: 0.01in; MARGIN-LEFT: 0.01in" dir=ltr align=left><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT style="FONT-SIZE: 5pt" size=1>new</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 5pt" size=1> </FONT></FONT><FONT style="FONT-SIZE: 5pt" size=1>node</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 5pt" size=1><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 5pt" size=1><SPAN style="LETTER-SPACING: -0.3pt"><I>L</I></SPAN></FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 5pt" size=1><SPAN style="LETTER-SPACING: -0.3pt"><I>&#8221;</I></SPAN></FONT></FONT></FONT></FONT></P></SPAN><FONT class=extract><FONT size=2><FONT size=1>thread2</FONT><FONT face="Times New Roman, serif"><FONT size=1> </FONT></FONT><FONT size=1>keeps</FONT><FONT face="Times New Roman, serif"><FONT size=1> </FONT></FONT><FONT size=1>waiting</FONT><FONT face="Times New Roman, serif"><FONT size=1> </FONT></FONT><FONT size=1>when</FONT><FONT face="Times New Roman, serif"><FONT size=1> </FONT></FONT><FONT size=1>detects</FONT><FONT face="Times New Roman, serif"><FONT size=1> </FONT></FONT><FONT size=1>the</FONT><FONT face="Times New Roman, serif"><FONT size=1> </FONT></FONT><FONT size=1>concurrent</FONT><FONT face="Times New Roman, serif"><FONT size=1> </FONT></FONT><FONT size=1>transaction</FONT><FONT face="Times New Roman, serif"><FONT size=1> </FONT></FONT><FONT size=1>thread1</FONT></FONT> </FONT>
<P></P>
<LI>
<P style="MARGIN-TOP: 0.05in; LINE-HEIGHT: 100%; MARGIN-RIGHT: 1.57in" align=left><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: -0.1pt">delay</SPAN></FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: -0.1pt">reclaiming</SPAN></FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: -0.1pt">the</SPAN></FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: -0.1pt">node</SPAN></FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: -0.1pt"><I>L</I></SPAN></FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: -0.1pt">to</SPAN></FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: -0.1pt">avoid</SPAN></FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: 2pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 6pt" size=1>blocking</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 6pt" size=1> </FONT></FONT><FONT style="FONT-SIZE: 6pt" size=1>thread1</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 6pt" size=1> </FONT></FONT><FONT style="FONT-SIZE: 6pt" size=1>and</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 6pt" size=1> </FONT></FONT><FONT style="FONT-SIZE: 6pt" size=1>thread2</FONT></FONT></FONT></P></LI></OL></DIV>
<DIV id=Section24 dir=ltr>
<P class=western style="MARGIN-TOP: 0.12in; MARGIN-LEFT: 0.22in" align=left><A name=_bookmark12></A><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT face="Georgia, serif"><FONT style="FONT-SIZE: 8pt" size=1>Fig.</FONT></FONT><FONT face="Georgia, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.5pt"> </SPAN></FONT></FONT><FONT face="Georgia, serif"><FONT style="FONT-SIZE: 8pt" size=1>11</FONT></FONT><FONT face="Georgia, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 2.8pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 8pt" size=1>Delayed</FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.3pt"> </SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1>Node</FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.4pt"> </SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1>Reclamation</FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.4pt"> </SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1>to</FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.3pt"> </SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1>simplify</FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.4pt"> </SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1>structure</FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.3pt"> </SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1>maintains</FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.4pt"> </SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1>and</FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.3pt"> </SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1>improve</FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.4pt"> </SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.1pt">scalability.</SPAN></FONT></FONT></FONT></P>
<P class=western style="MARGIN-TOP: 0.11in"><FONT class=extract><BR></FONT></P>
<P class=western style="MARGIN-LEFT: 0.22in; LINE-HEIGHT: 98%; MARGIN-RIGHT: 0.56in; TEXT-INDENT: 0.21in" align=justify><FONT class=extract>Instead of using traditional latching [</FONT><A href="file:///C:/SuperMemo/systems/Incremental/temp/HTMLFile.htm#_bookmark40"><FONT class=extract color=#0000ff>24</FONT></A><FONT class=extract>], our version B<SUP>+</SUP>-tree implementation uses the optimistic lock coupling approach [</FONT><A href="file:///C:/SuperMemo/systems/Incremental/temp/HTMLFile.htm#_bookmark41"><FONT class=extract color=#0000ff>25</FONT></A><FONT class=extract>]. Optimistic lock coupling eliminates con- tention generated by readers and allows read-mostly workloads to scale perfectly. However, when a leaf node splits, we must wait until all concurrent update transac- tions complete their in-place writing because these transactions are pointing to the physical addresses in the node. If we move any tuples, the transaction will be aborted due to the tuple&#8217;s reference in the write-set being invalid.</FONT></P>
<P class=western style="MARGIN-TOP: 0in; MARGIN-LEFT: 0.22in; LINE-HEIGHT: 98%; MARGIN-RIGHT: 0.56in; TEXT-INDENT: 0.21in" align=justify><FONT class=extract>To<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>solve<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>the<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>problem,<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>we<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>introduce<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>a<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>delayed<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>node<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>reclamation<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>method.<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>Figure <FONT color=#0000ff><A href="file:///C:/SuperMemo/systems/Incremental/temp/HTMLFile.htm#_bookmark12"><FONT color=#000080>11</FONT></A> </FONT>illustrates the approach using an example. Threads 1 and 2 concurrently access tuples<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>A<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>and<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>F,respectively,<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>unnecessarily<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>blocking<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>the<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>deterioration<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>of<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>leaf<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>node<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN><I>L</I>. To<SPAN style="LETTER-SPACING: 1.1pt"> </SPAN>reduce<SPAN style="LETTER-SPACING: 1.1pt"> </SPAN>contention,<SPAN style="LETTER-SPACING: 1.1pt"> </SPAN>we<SPAN style="LETTER-SPACING: 1.1pt"> </SPAN>mark<SPAN style="LETTER-SPACING: 1.2pt"> </SPAN>the<SPAN style="LETTER-SPACING: 1.1pt"> </SPAN>tuple<SPAN style="LETTER-SPACING: 1.1pt"> </SPAN>as<SPAN style="LETTER-SPACING: 1.1pt"> </SPAN><I>moved</I><SPAN style="LETTER-SPACING: 1.1pt"><I> </I></SPAN>and<SPAN style="LETTER-SPACING: 1.2pt"> </SPAN>also<SPAN style="LETTER-SPACING: 1.1pt"> </SPAN>allow<SPAN style="LETTER-SPACING: 1.1pt"> </SPAN>splitting<SPAN style="LETTER-SPACING: 1.1pt"> </SPAN>leaf<SPAN style="LETTER-SPACING: 1.1pt"> </SPAN>node<SPAN style="LETTER-SPACING: 1.2pt"> </SPAN><SPAN style="LETTER-SPACING: -0.5pt"><I>L</I></SPAN></FONT></P>
<P class=western><FONT class=extract><BR></FONT></P>
<P class=western style="MARGIN-TOP: 0.01in"><FONT class=extract><BR></FONT></P>
<P class=western style="MARGIN-RIGHT: 0.34in" align=center><SPAN style="LETTER-SPACING: -0.3pt"><FONT class=extract>13</FONT></SPAN></P></DIV>
<P class=western style="MARGIN-TOP: 0.03in; PAGE-BREAK-BEFORE: always; MARGIN-LEFT: 0.56in; LINE-HEIGHT: 98%; MARGIN-RIGHT: 0.22in" align=justify><FONT class=extract>without blocking. After splitting, we append the leaf node <I>L</I><SPAN style="LETTER-SPACING: -0.5pt"><I> </I></SPAN>to the thread-local retired node queue. Retired node blocks are reclaimed based on periods to guarantee that no transactions are referencing them as of reclaiming. A background process monitors<SPAN style="LETTER-SPACING: 2pt"> </SPAN>the<SPAN style="LETTER-SPACING: 2pt"> </SPAN>queue<SPAN style="LETTER-SPACING: 2pt"> </SPAN>and<SPAN style="LETTER-SPACING: 2pt"> </SPAN>triggers<SPAN style="LETTER-SPACING: 2pt"> </SPAN>the<SPAN style="LETTER-SPACING: 2pt"> </SPAN>recycling<SPAN style="LETTER-SPACING: 2pt"> </SPAN>of<SPAN style="LETTER-SPACING: 2pt"> </SPAN>a<SPAN style="LETTER-SPACING: 2pt"> </SPAN>chunk<SPAN style="LETTER-SPACING: 2pt"> </SPAN>to<SPAN style="LETTER-SPACING: 2pt"> </SPAN>the<SPAN style="LETTER-SPACING: 2pt"> </SPAN>leaf<SPAN style="LETTER-SPACING: 2pt"> </SPAN>node<SPAN style="LETTER-SPACING: 2pt"> </SPAN>block<SPAN style="LETTER-SPACING: 2pt"> </SPAN>allocator. In<SPAN style="LETTER-SPACING: 1.8pt"> </SPAN>the<SPAN style="LETTER-SPACING: 1.8pt"> </SPAN>next<SPAN style="LETTER-SPACING: 1.8pt"> </SPAN>pre-commit,<SPAN style="LETTER-SPACING: 1.8pt"> </SPAN>thread<SPAN style="LETTER-SPACING: 1.8pt"> </SPAN>1<SPAN style="LETTER-SPACING: 1.8pt"> </SPAN>checks<SPAN style="LETTER-SPACING: 1.8pt"> </SPAN>the<SPAN style="LETTER-SPACING: 1.8pt"> </SPAN>moved-mark<SPAN style="LETTER-SPACING: 1.8pt"> </SPAN>on<SPAN style="LETTER-SPACING: 1.8pt"> </SPAN>the<SPAN style="LETTER-SPACING: 1.8pt"> </SPAN>tuple<SPAN style="LETTER-SPACING: 1.8pt"> </SPAN>and<SPAN style="LETTER-SPACING: 1.8pt"> </SPAN>tracks the re-located tuple A. While this non-blocking algorithm is trivially simple, it has tremendous benefits for the real datbase systems.</FONT></P>
<OL>
<OL start=3>
<LI>
<H2 class=western style="MARGIN-TOP: 0.15in; LINE-HEIGHT: 100%; TEXT-INDENT: 0in" align=left><A name="Thread-Local Partitioning"></A><FONT class=extract><FONT face="Palatino Linotype, serif">Thread-Local</FONT><FONT face="Palatino Linotype, serif"><SPAN style="LETTER-SPACING: 1.2pt"> </SPAN></FONT><FONT face="Palatino Linotype, serif"><SPAN style="LETTER-SPACING: -0.1pt">Partitioning</SPAN></FONT></FONT></H2></LI></OL></OL>
<P class=western><FONT class=extract><BR></FONT></P>
<P class=western style="MARGIN-TOP: 0.1in"><FONT class=extract><BR></FONT></P>
<P class=western style="MARGIN-LEFT: 2.15in" align=left><SPAN class=sd-abs-pos style="WIDTH: 63px; POSITION: absolute; LEFT: 2.65in; TOP: 0.85in"><FONT class=extract></FONT></SPAN><SPAN class=sd-abs-pos style="WIDTH: 63px; POSITION: absolute; LEFT: 4.19in; TOP: 0.85in"><FONT class=extract></FONT></SPAN><SPAN class=sd-abs-pos style="WIDTH: 21px; POSITION: absolute; LEFT: 1.51in; TOP: 0.36in"><FONT class=extract></FONT></SPAN><SPAN class=sd-abs-pos style="WIDTH: 203px; POSITION: absolute; LEFT: 1.83in; TOP: 0.17in"><FONT class=extract></FONT></SPAN><SPAN class=sd-abs-pos style="WIDTH: 204px; POSITION: absolute; LEFT: 3.36in; TOP: 0.17in"><FONT class=extract></FONT></SPAN><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT style="FONT-SIZE: 8pt" size=1><B>Thread</B></FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 8pt" size=1><B>1</B></FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.1pt"><B>(core1)</B></SPAN></FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 8pt" size=1> </FONT></FONT><FONT style="FONT-SIZE: 8pt" size=1><B>Thread</B></FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 8pt" size=1><B>2</B></FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.1pt"><B>(core2)</B></SPAN></FONT></FONT></FONT></P>
<P class=western><FONT class=extract><BR></FONT></P>
<P class=western><FONT class=extract><BR></FONT></P>
<P class=western style="MARGIN-TOP: 0.04in"><FONT class=extract><BR></FONT></P>
<P class=western style="MARGIN-LEFT: 1.45in; MARGIN-RIGHT: 3.99in; TEXT-INDENT: -0.03in" align=left><SPAN class=sd-abs-pos style="WIDTH: 203px; POSITION: absolute; LEFT: 1.82in; TOP: -1.07in"><FONT class=extract></FONT></SPAN><SPAN class=sd-abs-pos style="WIDTH: 204px; POSITION: absolute; LEFT: 3.36in; TOP: -1.07in"><FONT class=extract></FONT></SPAN><SPAN class=sd-abs-pos style="WIDTH: 63px; POSITION: absolute; LEFT: 4.19in; TOP: -0.48in"><FONT class=extract></FONT></SPAN><SPAN class=sd-abs-pos style="WIDTH: 203px; POSITION: absolute; LEFT: 1.83in; TOP: -0.54in"><FONT class=extract></FONT></SPAN><SPAN id=Frame28 style="BORDER-TOP: medium none; BORDER-RIGHT: medium none; WIDTH: 1.41in; BACKGROUND: #ffffff; BORDER-BOTTOM: medium none; POSITION: absolute; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0in; LEFT: 2.99in; BORDER-LEFT: medium none; TOP: 4.24in; PADDING-RIGHT: 0in" dir=ltr>
<P style="MARGIN-TOP: 0.07in; MARGIN-LEFT: 0.04in" align=left><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><SUP><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: -0.1pt"><U><B>Partition3</B></U></SPAN></FONT></SUP><SUP><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 6pt" size=1> </FONT></FONT></SUP><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 8pt" size=1>&#8230; </FONT></FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.5pt">&#8230;</SPAN></FONT></FONT></FONT></FONT></P></SPAN><SPAN class=sd-abs-pos style="WIDTH: 143px; POSITION: absolute; LEFT: 2.2in; TOP: -1in"><FONT class=extract></FONT></SPAN><SPAN id=Frame29 style="BORDER-TOP: medium none; BORDER-RIGHT: medium none; WIDTH: 0.99in; BACKGROUND: #ffffff; BORDER-BOTTOM: medium none; POSITION: absolute; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0in; LEFT: 3.37in; BORDER-LEFT: medium none; TOP: 3.78in; PADDING-RIGHT: 0in" dir=ltr>
<TABLE dir=ltr cellSpacing=2 cellPadding=1 width=130>
<COLGROUP><FONT class=extract>
<COL width=41>
<COL width=74></FONT>
<TBODY>
<TR vAlign=top>
<TD style="BORDER-TOP: #595959 2.25pt double; BORDER-RIGHT: #000000 0.75pt solid; BORDER-BOTTOM: #595959 7.5pt double; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0in; BORDER-LEFT: #595959 0.75pt dashed; PADDING-RIGHT: 0in" height=16 width=41>
<P style="MARGIN-TOP: 0.06in; MARGIN-LEFT: 0.06in; ORPHANS: 0; WIDOWS: 0"><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT style="FONT-SIZE: 4pt" size=1>Key</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 4pt" size=1><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 4pt" size=1>=</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 4pt" size=1><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 4pt" size=1><SPAN style="LETTER-SPACING: -0.3pt">12</SPAN></FONT></FONT></FONT></P></TD>
<TD style="BORDER-TOP: #595959 2.25pt double; BORDER-RIGHT: #595959 0.75pt dashed; BORDER-BOTTOM: #595959 7.5pt double; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0in; BORDER-LEFT: #000000 0.75pt solid; PADDING-RIGHT: 0in" width=74>
<P style="ORPHANS: 0; WIDOWS: 0; MARGIN-RIGHT: 0.15in" align=right><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT style="FONT-SIZE: 6pt" size=1><I>V</I></FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: -0.1pt">(150,160)</SPAN></FONT></FONT></FONT></P>
<P style="ORPHANS: 0; WIDOWS: 0; MARGIN-RIGHT: 0.2in" align=right><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT style="FONT-SIZE: 6pt" size=1>12</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: 1.9pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: -0.3pt">310</SPAN></FONT></FONT></FONT></P></TD></TR>
<TR>
<TD style="BORDER-TOP: #595959 7.5pt double; BORDER-RIGHT: #595959 0.75pt dashed; BORDER-BOTTOM: #595959 0.75pt dashed; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0in; BORDER-LEFT: #595959 0.75pt dashed; PADDING-RIGHT: 0in" height=1 vAlign=top width=120 colSpan=2>
<P style="ORPHANS: 0; WIDOWS: 0"><FONT class=extract><BR></FONT></P></TD></TR></TBODY></TABLE>
<P class=western><FONT class=extract><BR></FONT></P></SPAN><SPAN class=sd-abs-pos style="WIDTH: 143px; POSITION: absolute; LEFT: 3.74in; TOP: -1in"><FONT class=extract></FONT></SPAN><SPAN id=Frame30 style="BORDER-TOP: medium none; BORDER-RIGHT: medium none; WIDTH: 0.99in; BACKGROUND: #ffffff; BORDER-BOTTOM: medium none; POSITION: absolute; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0in; LEFT: 4.91in; BORDER-LEFT: medium none; TOP: 3.78in; PADDING-RIGHT: 0in" dir=ltr>
<TABLE dir=ltr cellSpacing=2 cellPadding=1 width=130>
<COLGROUP><FONT class=extract>
<COL width=41>
<COL width=74></FONT>
<TBODY>
<TR vAlign=top>
<TD style="BORDER-TOP: #595959 2.25pt double; BORDER-RIGHT: #000000 0.75pt solid; BORDER-BOTTOM: #595959 7.5pt double; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0in; BORDER-LEFT: #595959 0.75pt dashed; PADDING-RIGHT: 0in" height=16 width=41>
<P style="MARGIN-TOP: 0.06in; MARGIN-LEFT: 0.07in; ORPHANS: 0; WIDOWS: 0"><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT style="FONT-SIZE: 4pt" size=1>Key</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 4pt" size=1><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 4pt" size=1>=</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 4pt" size=1><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 4pt" size=1><SPAN style="LETTER-SPACING: -0.3pt">10</SPAN></FONT></FONT></FONT></P></TD>
<TD style="BORDER-TOP: #595959 2.25pt double; BORDER-RIGHT: #595959 0.75pt dashed; BORDER-BOTTOM: #595959 7.5pt double; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0in; BORDER-LEFT: #000000 0.75pt solid; PADDING-RIGHT: 0in" width=74>
<P style="ORPHANS: 0; WIDOWS: 0; MARGIN-RIGHT: 0.15in" align=right><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT style="FONT-SIZE: 6pt" size=1><I>V</I></FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: -0.1pt">(140,150)</SPAN></FONT></FONT></FONT></P>
<P style="ORPHANS: 0; WIDOWS: 0; MARGIN-RIGHT: 0.2in" align=right><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT style="FONT-SIZE: 6pt" size=1>10</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: 1.9pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: -0.3pt">125</SPAN></FONT></FONT></FONT></P></TD></TR>
<TR>
<TD style="BORDER-TOP: #595959 7.5pt double; BORDER-RIGHT: #595959 0.75pt dashed; BORDER-BOTTOM: #595959 0.75pt dashed; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0in; BORDER-LEFT: #595959 0.75pt dashed; PADDING-RIGHT: 0in" height=1 vAlign=top width=120 colSpan=2>
<P style="ORPHANS: 0; WIDOWS: 0"><FONT class=extract><BR></FONT></P></TD></TR></TBODY></TABLE>
<P class=western><FONT class=extract><BR></FONT></P></SPAN><SPAN class=sd-abs-pos style="WIDTH: 216px; POSITION: absolute; LEFT: 3.32in; TOP: -0.52in"><FONT class=extract></FONT></SPAN><SPAN id=Frame31 style="BORDER-TOP: medium none; BORDER-RIGHT: medium none; WIDTH: 1.5in; BACKGROUND: #ffffff; BORDER-BOTTOM: medium none; POSITION: absolute; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0in; LEFT: 4.48in; BORDER-LEFT: medium none; TOP: 4.26in; PADDING-RIGHT: 0in" dir=ltr>
<TABLE dir=ltr cellSpacing=2 cellPadding=1 width=204>
<COLGROUP><FONT class=extract>
<COL width=59>
<COL width=40>
<COL width=76>
<COL width=9></FONT>
<TBODY>
<TR vAlign=top>
<TD style="BORDER-TOP: #000000 1px solid; BORDER-RIGHT: #595959 2.25pt double; BORDER-BOTTOM: #000000 1px solid; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0in; BORDER-LEFT: #000000 1px solid; PADDING-RIGHT: 0.02in" height=18 width=59>
<P style="MARGIN-TOP: 0.03in; MARGIN-LEFT: 0.04in; ORPHANS: 0; WIDOWS: 0"><FONT style="FONT-SIZE: 11pt" size=2><FONT style="FONT-SIZE: 6pt; BACKGROUND-COLOR: #7be1e1" size=1><SPAN style="LETTER-SPACING: -0.1pt"><U><B>Partition3</B></U></SPAN></FONT></FONT></P></TD>
<TD style="BORDER-TOP: #595959 2.25pt double; BORDER-RIGHT: #000000 0.75pt solid; BORDER-BOTTOM: #595959 2.25pt double; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0in; BORDER-LEFT: #595959 2.25pt double; PADDING-RIGHT: 0.02in" width=40>
<P style="MARGIN-TOP: 0.05in; MARGIN-LEFT: 0.03in; ORPHANS: 0; WIDOWS: 0"><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT style="FONT-SIZE: 4pt" size=1>Key</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 4pt" size=1><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 4pt" size=1>=</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 4pt" size=1><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 4pt" size=1><SPAN style="LETTER-SPACING: -0.3pt">10</SPAN></FONT></FONT></FONT></P></TD>
<TD style="BORDER-TOP: #595959 2.25pt double; BORDER-RIGHT: #595959 2.25pt double; BORDER-BOTTOM: #595959 2.25pt double; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0in; BORDER-LEFT: #000000 0.75pt solid; PADDING-RIGHT: 0.02in" width=76>
<P style="ORPHANS: 0; WIDOWS: 0; MARGIN-RIGHT: 0.13in" align=right><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT style="FONT-SIZE: 6pt" size=1><I>V</I></FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: -0.1pt">(170,180)</SPAN></FONT></FONT></FONT></P>
<P style="ORPHANS: 0; WIDOWS: 0; MARGIN-RIGHT: 0.17in" align=right><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT style="FONT-SIZE: 6pt" size=1>10</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: 1.9pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: -0.3pt">135</SPAN></FONT></FONT></FONT></P></TD>
<TD style="BORDER-TOP: #000000 1px solid; BORDER-RIGHT: #000000 1px solid; BORDER-BOTTOM: #000000 1px solid; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0in; BORDER-LEFT: #595959 2.25pt double; PADDING-RIGHT: 0.02in" width=9>
<P style="ORPHANS: 0; WIDOWS: 0"><FONT class=extract><BR></FONT></P></TD></TR></TBODY></TABLE>
<P class=western><FONT class=extract><BR></FONT></P></SPAN><SPAN class=sd-abs-pos style="WIDTH: 437px; POSITION: absolute; LEFT: 1.78in; TOP: -0.12in"><FONT class=extract></FONT></SPAN><SPAN id=Frame32 style="BORDER-TOP: medium none; BORDER-RIGHT: medium none; WIDTH: 3.04in; BACKGROUND: #ffffff; BORDER-BOTTOM: medium none; POSITION: absolute; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0in; LEFT: 2.94in; BORDER-LEFT: medium none; TOP: 4.67in; PADDING-RIGHT: 0in" dir=ltr>
<TABLE dir=ltr cellSpacing=1 cellPadding=1 width=425>
<COLGROUP><FONT class=extract>
<COL width=419></FONT>
<TBODY>
<TR>
<TD style="BORDER-TOP: #000000 1px solid; BORDER-RIGHT: #000000 1px solid; BORDER-BOTTOM: #000000 0.75pt double; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0in; BORDER-LEFT: #000000 1px solid; PADDING-RIGHT: 0in" height=18 vAlign=top width=419>
<P style="MARGIN-TOP: 0in; MARGIN-LEFT: 0.02in; ORPHANS: 0; WIDOWS: 0"><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT style="FONT-SIZE: 8pt" size=1>Partition</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 8pt" size=1>1:</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 3.4pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 8pt" size=1>&lt;thread1,partition1&gt;,</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.2pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 8pt" size=1>&lt;</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 8pt" size=1>thread</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 8pt" size=1>2,partition</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.3pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.3pt">1&gt;</SPAN></FONT></FONT></FONT></P></TD></TR>
<TR>
<TD style="BORDER-TOP: #000000 0.75pt double; BORDER-RIGHT: #000000 1px solid; BORDER-BOTTOM: #000000 0.75pt double; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0in; BORDER-LEFT: #000000 1px solid; PADDING-RIGHT: 0in" height=22 vAlign=top width=419>
<P style="MARGIN-TOP: 0.02in; MARGIN-LEFT: 0.02in; ORPHANS: 0; WIDOWS: 0"><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT style="FONT-SIZE: 8pt" size=1>Partition</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 8pt" size=1>2:</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 3.4pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 8pt" size=1>&lt;thread1,partition2&gt;,</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.2pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 8pt" size=1>&lt;</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 8pt" size=1>thread</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 8pt" size=1>2,partition</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.3pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.3pt">2&gt;</SPAN></FONT></FONT></FONT></P></TD></TR>
<TR>
<TD style="BORDER-TOP: #000000 0.75pt double; BORDER-RIGHT: #000000 1px solid; BORDER-BOTTOM: #000000 1px solid; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0in; BORDER-LEFT: #000000 1px solid; PADDING-RIGHT: 0in" height=19 vAlign=top width=419>
<P style="MARGIN-TOP: 0.02in; MARGIN-LEFT: 0.02in; ORPHANS: 0; WIDOWS: 0"><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT style="FONT-SIZE: 8pt" size=1>Partition</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 8pt" size=1>3:</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 3.5pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 8pt" size=1>&lt;thread1,partition3&gt;,</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.2pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 8pt" size=1>&lt;</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.2pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 8pt" size=1>thread</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 8pt" size=1>2,partition</FONT><FONT face="Times New Roman, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.4pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.3pt">3&gt;</SPAN></FONT></FONT></FONT></P></TD></TR></TBODY></TABLE>
<P class=western><FONT class=extract><BR></FONT></P></SPAN><FONT class=extract><FONT size=2><FONT color=#c00000><FONT size=1><B>Access</B></FONT></FONT><FONT color=#c00000><FONT face="Times New Roman, serif"><FONT size=1> </FONT></FONT></FONT><FONT color=#c00000><FONT size=1><B>Table</B></FONT></FONT></FONT> </FONT>
<P></P>
<P class=western style="MARGIN-TOP: 0.01in"><FONT class=extract><BR></FONT></P>
<P class=western style="MARGIN-LEFT: 0.27in" align=center><FONT class=extract>&#8230; &#8230; <SPAN style="LETTER-SPACING: -0.5pt">&#8230;</SPAN></FONT></P>
<P class=western style="MARGIN-TOP: 0.03in"><FONT class=extract><BR></FONT></P>
<P class=western style="MARGIN-TOP: 0in; MARGIN-LEFT: 0.56in; LINE-HEIGHT: 96%; MARGIN-RIGHT: 0.22in" align=left><A name=_bookmark13></A><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT face="Georgia, serif"><FONT style="FONT-SIZE: 8pt" size=1>Fig.</FONT></FONT><FONT face="Georgia, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 2pt"> </SPAN></FONT></FONT><FONT face="Georgia, serif"><FONT style="FONT-SIZE: 8pt" size=1>12</FONT></FONT><FONT face="Georgia, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 2pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 8pt" size=1>Thread-local</FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 1.6pt"> </SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1>partitioning</FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 1.6pt"> </SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1>design.</FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 1.6pt"> </SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1>Each</FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 1.6pt"> </SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1>thread</FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 1.6pt"> </SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1>manages</FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 1.6pt"> </SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1>a</FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 1.6pt"> </SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1>subset</FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 1.6pt"> </SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1>of</FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 1.6pt"> </SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1>the</FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 1.6pt"> </SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1>partitions.</FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 1.6pt"> </SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1>The version traversal relies on an access table.</FONT></FONT></FONT></P>
<P class=western style="MARGIN-TOP: 0.09in"><FONT class=extract><BR></FONT></P>
<P class=western style="MARGIN-LEFT: 0.56in; LINE-HEIGHT: 98%; MARGIN-RIGHT: 0.22in; TEXT-INDENT: 0.21in" align=justify><FONT class=extract>While the previously described partitioning design improves the performance of search<SPAN style="LETTER-SPACING: 2pt"> </SPAN>and<SPAN style="LETTER-SPACING: 2pt"> </SPAN>scan<SPAN style="LETTER-SPACING: 2pt"> </SPAN>queries<SPAN style="LETTER-SPACING: 2pt"> </SPAN>over<SPAN style="LETTER-SPACING: 2pt"> </SPAN>multi-versioned<SPAN style="LETTER-SPACING: 2pt"> </SPAN>data,<SPAN style="LETTER-SPACING: 2pt"> </SPAN>the<SPAN style="LETTER-SPACING: 2pt"> </SPAN>global<SPAN style="LETTER-SPACING: 2pt"> </SPAN>partitioning<SPAN style="LETTER-SPACING: 2pt"> </SPAN>struc- ture<SPAN style="LETTER-SPACING: 2pt"> </SPAN>limits<SPAN style="LETTER-SPACING: 2pt"> </SPAN>scalability.<SPAN style="LETTER-SPACING: 2pt"> </SPAN>In<SPAN style="LETTER-SPACING: 2pt"> </SPAN>general,<SPAN style="LETTER-SPACING: 2pt"> </SPAN>epoch-based<SPAN style="LETTER-SPACING: 2pt"> </SPAN>systems<SPAN style="LETTER-SPACING: 2pt"> </SPAN>control<SPAN style="LETTER-SPACING: 2pt"> </SPAN>version<SPAN style="LETTER-SPACING: 2pt"> </SPAN>timestamps by<SPAN style="LETTER-SPACING: 1.7pt"> </SPAN>advancing<SPAN style="LETTER-SPACING: 1.6pt"> </SPAN>their<SPAN style="LETTER-SPACING: 1.6pt"> </SPAN>global<SPAN style="LETTER-SPACING: 1.7pt"> </SPAN>epoch<SPAN style="LETTER-SPACING: 1.6pt"> </SPAN>based<SPAN style="LETTER-SPACING: 1.6pt"> </SPAN>on<SPAN style="LETTER-SPACING: 1.6pt"> </SPAN>a<SPAN style="LETTER-SPACING: 1.6pt"> </SPAN>specific<SPAN style="LETTER-SPACING: 1.6pt"> </SPAN>threshold<SPAN style="LETTER-SPACING: 1.6pt"> </SPAN>count.<SPAN style="LETTER-SPACING: 1.7pt"> </SPAN>Suppose<SPAN style="LETTER-SPACING: 1.6pt"> </SPAN>that the epoch partition assignment policy depends on the global mutex lock and assigns<SPAN style="LETTER-SPACING: 4pt"> </SPAN>all active transactions to a sequence incremental partition. It will introduce a global contention point.</FONT></P>
<P class=western style="MARGIN-TOP: 0in; MARGIN-LEFT: 0.56in; LINE-HEIGHT: 98%; MARGIN-RIGHT: 0.22in; TEXT-INDENT: 0.21in" align=justify><FONT class=extract>To address the above issue, we exploit the thread-local design, in which every worker thread manages a disjoint subset of partitions. When a transaction thread <SPAN style="LETTER-SPACING: -0.1pt">creates</SPAN><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN><SPAN style="LETTER-SPACING: -0.1pt">a</SPAN><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN><SPAN style="LETTER-SPACING: -0.1pt">new</SPAN><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN><SPAN style="LETTER-SPACING: -0.1pt">version</SPAN><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN><SPAN style="LETTER-SPACING: -0.1pt">for</SPAN><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN><SPAN style="LETTER-SPACING: -0.1pt">any</SPAN><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN><SPAN style="LETTER-SPACING: -0.1pt">given</SPAN><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN><SPAN style="LETTER-SPACING: -0.1pt">tuple,</SPAN><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN><SPAN style="LETTER-SPACING: -0.1pt">it</SPAN><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN><SPAN style="LETTER-SPACING: -0.1pt">places</SPAN><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN><SPAN style="LETTER-SPACING: -0.1pt">the</SPAN><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN><SPAN style="LETTER-SPACING: -0.1pt">new</SPAN><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN><SPAN style="LETTER-SPACING: -0.1pt">tuple</SPAN><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN><SPAN style="LETTER-SPACING: -0.1pt">version</SPAN><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN><SPAN style="LETTER-SPACING: -0.1pt">into</SPAN><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN><SPAN style="LETTER-SPACING: -0.1pt">its</SPAN><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN><SPAN style="LETTER-SPACING: -0.1pt">local </SPAN>active partition. As shown in Figure </FONT><A href="file:///C:/SuperMemo/systems/Incremental/temp/HTMLFile.htm#_bookmark13"><FONT class=extract color=#0000ff>12</FONT></A><FONT class=extract>, suppose the transaction thread 2 creates a new version<SPAN style="LETTER-SPACING: 1.4pt"> </SPAN>for<SPAN style="LETTER-SPACING: 1.4pt"> </SPAN>the<SPAN style="LETTER-SPACING: 1.4pt"> </SPAN>tuple<SPAN style="LETTER-SPACING: 1.4pt"> </SPAN>(key<SPAN style="LETTER-SPACING: 1.4pt"> </SPAN>=<SPAN style="LETTER-SPACING: 1.4pt"> </SPAN>10)<SPAN style="LETTER-SPACING: 1.4pt"> </SPAN>and<SPAN style="LETTER-SPACING: 1.4pt"> </SPAN>places<SPAN style="LETTER-SPACING: 1.4pt"> </SPAN>the<SPAN style="LETTER-SPACING: 1.4pt"> </SPAN>new<SPAN style="LETTER-SPACING: 1.4pt"> </SPAN>tuple<SPAN style="LETTER-SPACING: 1.4pt"> </SPAN>version<SPAN style="LETTER-SPACING: 1.4pt"> </SPAN>(V(170,180),(10,135)) in<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>its<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>partition<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>3.<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>In<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>each<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>thread-local,<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>the<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>default<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>partition<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>assignment<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>policy<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>is<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>the incremental<SPAN style="LETTER-SPACING: 1.9pt"> </SPAN>assignment<SPAN style="LETTER-SPACING: 1.9pt"> </SPAN>policy.<SPAN style="LETTER-SPACING: 1.9pt"> </SPAN>That<SPAN style="LETTER-SPACING: 1.9pt"> </SPAN>is,<SPAN style="LETTER-SPACING: 1.9pt"> </SPAN>a<SPAN style="LETTER-SPACING: 1.9pt"> </SPAN>number<SPAN style="LETTER-SPACING: 1.9pt"> </SPAN>of<SPAN style="LETTER-SPACING: 1.9pt"> </SPAN>transactions,<SPAN style="LETTER-SPACING: 1.9pt"> </SPAN>say<SPAN style="LETTER-SPACING: 1.9pt"> </SPAN>M,<SPAN style="LETTER-SPACING: 1.9pt"> </SPAN>are<SPAN style="LETTER-SPACING: 1.9pt"> </SPAN>assigned to<SPAN style="LETTER-SPACING: 0.1pt"> </SPAN>the<SPAN style="LETTER-SPACING: 0.2pt"> </SPAN>first<SPAN style="LETTER-SPACING: 0.2pt"> </SPAN>partition,<SPAN style="LETTER-SPACING: 0.2pt"> </SPAN>and<SPAN style="LETTER-SPACING: 0.2pt"> </SPAN>then<SPAN style="LETTER-SPACING: 0.2pt"> </SPAN>the<SPAN style="LETTER-SPACING: 0.2pt"> </SPAN>next<SPAN style="LETTER-SPACING: 0.1pt"> </SPAN>M<SPAN style="LETTER-SPACING: 0.2pt"> </SPAN>transactions<SPAN style="LETTER-SPACING: 0.2pt"> </SPAN>will<SPAN style="LETTER-SPACING: 0.2pt"> </SPAN>be<SPAN style="LETTER-SPACING: 0.2pt"> </SPAN>assigned<SPAN style="LETTER-SPACING: 0.2pt"> </SPAN>to<SPAN style="LETTER-SPACING: 0.2pt"> </SPAN>the<SPAN style="LETTER-SPACING: 0.1pt"> </SPAN><SPAN style="LETTER-SPACING: -0.2pt">next</SPAN></FONT></P>
<P class=western><FONT class=extract><BR></FONT></P>
<P class=western style="MARGIN-TOP: 0.12in"><FONT class=extract><BR></FONT></P>
<P class=western style="MARGIN-TOP: 0in; MARGIN-LEFT: 0.34in" align=center><SPAN style="LETTER-SPACING: -0.3pt"><FONT class=extract>14</FONT></SPAN></P>
<P class=western style="MARGIN-TOP: 0.03in; PAGE-BREAK-BEFORE: always; MARGIN-LEFT: 0.22in; LINE-HEIGHT: 98%; MARGIN-RIGHT: 0.56in" align=justify><FONT class=extract>partition in the sequence. Updating the thread-local sequence does not introduce any write contention either since every thread updates only its partition queue.</FONT></P>
<P class=western style="MARGIN-TOP: 0in; MARGIN-LEFT: 0.22in; LINE-HEIGHT: 98%; MARGIN-RIGHT: 0.56in; TEXT-INDENT: 0.21in" align=justify><FONT class=extract>Managing all partitions in thread-local data structures can reduce contention. On the downside, this can lead to problems, as one version traversal thread can not find the<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>accurate<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>tuple<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>version<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>due<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>to<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>the<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>lack<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>of<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>the<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>global<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>tuple<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>version<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>chain.<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>The<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>scalable version-aware data placement bridges those local chains by introducing an additional data structure that includes all the tuple versions included in each partition. This data structure in our implementation is a hash table, denoted as <I>Access Table </I>in Figure </FONT><A href="file:///C:/SuperMemo/systems/Incremental/temp/HTMLFile.htm#_bookmark13"><FONT class=extract color=#0000ff>12</FONT></A><FONT class=extract>. Every entry in the access table includes the tuple version partitions of each thread.<SPAN style="LETTER-SPACING: 4pt"> </SPAN>The version traversal finds the target version by probing the readable partition and traversing the thread-local partitions.</FONT></P>
<OL start=5>
<LI>
<H1 class=western style="MARGIN-TOP: 0.15in; LINE-HEIGHT: 100%; TEXT-INDENT: 0in" align=left><A name="Optimal Version-aware Data Placement"></A><FONT class=extract>Optimal<SPAN style="LETTER-SPACING: 1.7pt"> </SPAN>Version-aware<SPAN style="LETTER-SPACING: 1.7pt"> </SPAN>Data<SPAN style="LETTER-SPACING: 1.7pt"> </SPAN><SPAN style="LETTER-SPACING: -0.1pt">Placement</SPAN></FONT></H1></LI></OL>
<P class=western style="MARGIN-TOP: 0.1in; MARGIN-LEFT: 0.22in; LINE-HEIGHT: 98%; MARGIN-RIGHT: 0.56in" align=justify><FONT class=extract>In this section, we focus on calculating a cache-efficient version partition and reor- ganizing<SPAN style="LETTER-SPACING: -0.7pt"> </SPAN>the<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>data<SPAN style="LETTER-SPACING: -0.7pt"> </SPAN>placement.<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>We<SPAN style="LETTER-SPACING: -0.7pt"> </SPAN>present<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>a<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>simple<SPAN style="LETTER-SPACING: -0.7pt"> </SPAN>cache<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>miss<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>model<SPAN style="LETTER-SPACING: -0.7pt"> </SPAN>to<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>compute<SPAN style="LETTER-SPACING: -0.7pt"> </SPAN>the memory<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>access<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>cost<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>and<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>then,<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>based<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>on<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>it,<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>find<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>the<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>optimal<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>data<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>placement.<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>For<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>the cache<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>miss<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>model,<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>we<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>define<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>the<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>database<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>size<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>as<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN><I>N </I>number<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>of<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>tuples<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>and<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN><I>V</I><SPAN style="LETTER-SPACING: 1pt"><I> </I></SPAN>repre- sents<SPAN style="LETTER-SPACING: -0.7pt"> </SPAN>the<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>number<SPAN style="LETTER-SPACING: -0.7pt"> </SPAN>of<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>tuple<SPAN style="LETTER-SPACING: -0.7pt"> </SPAN>versions.<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>Given<SPAN style="LETTER-SPACING: -0.7pt"> </SPAN>that<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>cache<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>line<SPAN style="LETTER-SPACING: -0.7pt"> </SPAN>size<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>(CLS),<SPAN style="LETTER-SPACING: -0.7pt"> </SPAN>the<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>cost<SPAN style="LETTER-SPACING: -0.7pt"> </SPAN>for<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>each search on a leaf node block (ln) of the version B<SUP>+</SUP>-tree (VT) depends on number of tuples per node (b) and data size per tuple version (tvs):</FONT></P>
<P class=western style="MARGIN-TOP: 0in"><FONT class=extract><BR></FONT></P>
<DIV id=Section25 style="column-count: 2" dir=ltr gutter="4">
<P class=western style="MARGIN-TOP: 0.04in; MARGIN-LEFT: 2.12in; LINE-HEIGHT: 0.23in" align=left><SPAN class=sd-abs-pos style="WIDTH: 50px; POSITION: absolute; LEFT: 3.12in; TOP: 0.24in"><FONT class=extract></FONT></SPAN><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT style="FONT-SIZE: 10pt" size=2><I>miss</I></FONT><FONT style="FONT-SIZE: 10pt" size=2>(</FONT><FONT style="FONT-SIZE: 10pt" size=2><I>V</I></FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: 0.2pt"><I> </I></SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2><I>T,</I></FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: -0.4pt"><I> </I></SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2><I>ln</I></FONT><FONT style="FONT-SIZE: 10pt" size=2>)</FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: 0.2pt"> </SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2>=</FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: 1.6pt"> </SPAN></FONT><SUP><FONT style="FONT-SIZE: 10pt" size=2><I>b</I></FONT></SUP><SUP><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: 0.3pt"><I> </I></SPAN></FONT></SUP><SUP><FONT face="SimSun-ExtB, serif"><FONT style="FONT-SIZE: 10pt" size=2>&#183;</FONT></FONT></SUP><SUP><FONT face="SimSun-ExtB, serif"><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: -0.7pt"> </SPAN></FONT></FONT></SUP><SUP><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: -0.3pt"><I>tvs</I></SPAN></FONT></SUP></FONT></FONT></P>
<P class=western style="LINE-HEIGHT: 0.13in; MARGIN-RIGHT: 0.03in" align=right><FONT style="FONT-SIZE: 11pt" size=2><FONT style="FONT-SIZE: 10pt; BACKGROUND-COLOR: #7be1e1" size=2><SPAN style="LETTER-SPACING: -0.3pt"><I>CLS</I></SPAN></FONT></FONT></P>
<P class=western style="MARGIN-TOP: 0.14in; MARGIN-RIGHT: 0.56in" align=right><FONT style="FONT-SIZE: 11pt" size=2><FONT style="FONT-SIZE: 10pt; BACKGROUND-COLOR: #7be1e1" size=2><SPAN style="LETTER-SPACING: -0.3pt">(1)</SPAN></FONT></FONT></P></DIV>
<DIV id=Section26 dir=ltr>
<P class=western style="MARGIN-TOP: 0.11in; MARGIN-LEFT: 0.22in; LINE-HEIGHT: 98%; MARGIN-RIGHT: 0.56in; TEXT-INDENT: 0.21in" align=right><FONT class=extract>Considering the limitation of main memory bandwidth, if the tuple size increases, we<SPAN style="LETTER-SPACING: 1.7pt"> </SPAN>should<SPAN style="LETTER-SPACING: 1.7pt"> </SPAN>turn<SPAN style="LETTER-SPACING: 1.7pt"> </SPAN>the<SPAN style="LETTER-SPACING: 1.7pt"> </SPAN>tree<SPAN style="LETTER-SPACING: 1.7pt"> </SPAN>fanout<SPAN style="LETTER-SPACING: 1.8pt"> </SPAN>(b)<SPAN style="LETTER-SPACING: 1.7pt"> </SPAN>to<SPAN style="LETTER-SPACING: 1.7pt"> </SPAN>smaller<SPAN style="LETTER-SPACING: 1.7pt"> </SPAN>to<SPAN style="LETTER-SPACING: 1.7pt"> </SPAN>minimize<SPAN style="LETTER-SPACING: 1.7pt"> </SPAN>the<SPAN style="LETTER-SPACING: 1.7pt"> </SPAN>misses.<SPAN style="LETTER-SPACING: 1.8pt"> </SPAN>However,<SPAN style="LETTER-SPACING: 1.7pt"> </SPAN>a very<SPAN style="LETTER-SPACING: 1.1pt"> </SPAN>small<SPAN style="LETTER-SPACING: 1.1pt"> </SPAN>fanout<SPAN style="LETTER-SPACING: 1.1pt"> </SPAN>will<SPAN style="LETTER-SPACING: 1.1pt"> </SPAN>result<SPAN style="LETTER-SPACING: 1.1pt"> </SPAN>in<SPAN style="LETTER-SPACING: 1.1pt"> </SPAN>a<SPAN style="LETTER-SPACING: 1.1pt"> </SPAN>larger B<SUP>+</SUP>-tree<SPAN style="LETTER-SPACING: 1.1pt"> </SPAN>height<SPAN style="LETTER-SPACING: 1.1pt"> </SPAN>for<SPAN style="LETTER-SPACING: 1.1pt"> </SPAN>the<SPAN style="LETTER-SPACING: 1.1pt"> </SPAN>index-organized<SPAN style="LETTER-SPACING: 1.1pt"> </SPAN>table, thereby<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>incurring<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>the<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>cost<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>of<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>more<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>cache<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>misses<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>required<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>to<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>reach<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>the<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>target<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>leaf<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>node. For the version store with range partitioning scheme (VS<SUB><FONT face="Georgia, serif"><I>RP</I></FONT></SUB><FONT face="Georgia, serif"><SPAN style="LETTER-SPACING: -0.8pt"><I> </I></SPAN></FONT>), we use <I>rp</I><SPAN style="LETTER-SPACING: 2pt"><I> </I></SPAN>to denote</FONT></P></DIV>
<DIV id=Section27 style="column-count: 2" dir=ltr gutter="4">
<P class=western style="MARGIN-LEFT: 0.22in"><SPAN class=sd-abs-pos style="WIDTH: 16px; POSITION: absolute; LEFT: 1.6in; TOP: 0.1in"><FONT class=extract></FONT></SPAN><SPAN id=Frame33 style="BORDER-TOP: medium none; BORDER-RIGHT: medium none; WIDTH: 0.11in; BACKGROUND: #ffffff; BORDER-BOTTOM: medium none; POSITION: absolute; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0in; LEFT: 2.76in; BORDER-LEFT: medium none; TOP: 6.08in; PADDING-RIGHT: 0in" dir=ltr>
<P style="LINE-HEIGHT: 0.1in" align=left><FONT style="FONT-SIZE: 11pt" size=2><FONT face="Georgia, serif"><FONT style="FONT-SIZE: 7pt; BACKGROUND-COLOR: #7be1e1" size=1><SPAN style="LETTER-SPACING: -0.3pt"><I>rp</I></SPAN></FONT></FONT></FONT></P></SPAN><FONT class=extract>a range partition size. <SUP><FONT face="Georgia, serif"><I><U>V</U></I></FONT></SUP> </FONT>
<P></P>
<P class=western style="MARGIN-LEFT: 0.07in"><FONT class=extract>is<SPAN style="LETTER-SPACING: 0.4pt"> </SPAN>the<SPAN style="LETTER-SPACING: 0.4pt"> </SPAN>number<SPAN style="LETTER-SPACING: 0.4pt"> </SPAN>of<SPAN style="LETTER-SPACING: 0.4pt"> </SPAN>partitions<SPAN style="LETTER-SPACING: 0.4pt"> </SPAN>in<SPAN style="LETTER-SPACING: 0.4pt"> </SPAN>the<SPAN style="LETTER-SPACING: 0.4pt"> </SPAN>store.<SPAN style="LETTER-SPACING: 0.4pt"> </SPAN>Since<SPAN style="LETTER-SPACING: 0.4pt"> </SPAN>the<SPAN style="LETTER-SPACING: 0.4pt"> </SPAN><SPAN style="LETTER-SPACING: -0.1pt">partitions</SPAN></FONT></P></DIV>
<DIV id=Section28 dir=ltr>
<P class=western style="MARGIN-LEFT: 0.22in; LINE-HEIGHT: 98%; MARGIN-RIGHT: 0.53in"><FONT class=extract>are in arbitrary memory locations, each partition accessed incurs a cache miss. Thus, the cost for each version search depends on the access rate of the partition, <I>acc</I>.</FONT></P>
<P class=western style="MARGIN-TOP: 0in"><FONT class=extract><BR></FONT></P></DIV>
<DIV id=Section29 style="column-count: 2" dir=ltr gutter="4">
<P class=western style="MARGIN-TOP: 0.04in; LINE-HEIGHT: 0.13in; MARGIN-RIGHT: 0.2in" align=right><FONT style="FONT-SIZE: 11pt" size=2><FONT style="FONT-SIZE: 10pt; BACKGROUND-COLOR: #7be1e1" size=2><SPAN style="LETTER-SPACING: -0.5pt"><I>V</I></SPAN></FONT></FONT></P>
<P class=western style="MARGIN-LEFT: 1.39in; LINE-HEIGHT: 69%" align=left><SPAN class=sd-abs-pos style="WIDTH: 20px; POSITION: absolute; LEFT: 2.66in; TOP: 0.06in"><FONT class=extract></FONT></SPAN><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT style="FONT-SIZE: 10pt" size=2><I>miss</I></FONT><FONT style="FONT-SIZE: 10pt" size=2>(</FONT><FONT style="FONT-SIZE: 10pt" size=2><I>V</I></FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: -0.7pt"><I> </I></SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2><I>S</I></FONT><SUB><FONT face="Georgia, serif"><FONT style="FONT-SIZE: 10pt" size=2><I>RP</I></FONT></FONT></SUB><FONT face="Georgia, serif"><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: -1.3pt"><I> </I></SPAN></FONT></FONT><FONT style="FONT-SIZE: 10pt" size=2>)</FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: -0.6pt"> </SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2>=</FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: -0.6pt"> </SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2><I>acc</I></FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: -0.6pt"><I> </I></SPAN></FONT><FONT face="SimSun-ExtB, serif"><FONT style="FONT-SIZE: 10pt" size=2>&#183;</FONT></FONT><FONT face="SimSun-ExtB, serif"><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: -2.4pt"> </SPAN></FONT></FONT><SUB><FONT style="FONT-SIZE: 10pt" size=2><I>rp</I></FONT></SUB><SUB><FONT style="FONT-SIZE: 10pt" size=2><I> </I></FONT></SUB><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: -0.5pt">+</SPAN></FONT></FONT></FONT></P>
<P class=western style="MARGIN-TOP: 0.04in; MARGIN-LEFT: 0.02in; LINE-HEIGHT: 0.23in" align=left><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><SUP><FONT style="FONT-SIZE: 10pt" size=2><I>rp</I></FONT></SUP><SUP><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: -0.6pt"><I> </I></SPAN></FONT></SUP><SUP><FONT face="SimSun-ExtB, serif"><FONT style="FONT-SIZE: 10pt" size=2>&#183;</FONT></FONT></SUP><SUP><FONT face="SimSun-ExtB, serif"><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: -1.1pt"> </SPAN></FONT></FONT></SUP><SUP><FONT style="FONT-SIZE: 10pt" size=2><I>tvs</I></FONT></SUP><FONT style="FONT-SIZE: 10pt" size=2><I>,</I></FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: -0.8pt"><I> </I></SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2>0</FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2><I>&lt;</I></FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: 0.1pt"><I> </I></SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2><I>acc</I></FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: 0.2pt"><I> </I></SPAN></FONT><FONT face="SimSun-ExtB, serif"><FONT style="FONT-SIZE: 10pt" size=2>&#8804;</FONT></FONT><FONT face="SimSun-ExtB, serif"><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: -2.3pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: -0.5pt">1</SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2> </FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: -0.3pt">(2)</SPAN></FONT></FONT></FONT></P>
<P class=western style="MARGIN-LEFT: 0.08in; LINE-HEIGHT: 0.13in" align=left><SPAN class=sd-abs-pos style="WIDTH: 61px; POSITION: absolute; LEFT: 0.02in; TOP: -0.04in"><FONT class=extract></FONT></SPAN><FONT style="FONT-SIZE: 11pt" size=2><FONT style="FONT-SIZE: 10pt; BACKGROUND-COLOR: #7be1e1" size=2><SPAN style="LETTER-SPACING: -0.3pt"><I>CLS</I></SPAN></FONT></FONT></P></DIV>
<DIV id=Section30 dir=ltr>
<P class=western style="MARGIN-TOP: 0.14in; MARGIN-LEFT: 0.22in; LINE-HEIGHT: 98%; MARGIN-RIGHT: 0.56in; TEXT-INDENT: 0.21in" align=justify><SPAN class=sd-abs-pos style="WIDTH: 16px; POSITION: absolute; LEFT: 3.13in; TOP: 1.08in"><FONT class=extract></FONT></SPAN><SPAN id=Frame34 style="BORDER-TOP: medium none; BORDER-RIGHT: medium none; WIDTH: 0.11in; BACKGROUND: #ffffff; BORDER-BOTTOM: medium none; POSITION: absolute; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0in; LEFT: 4.29in; BORDER-LEFT: medium none; TOP: 8.22in; PADDING-RIGHT: 0in" dir=ltr>
<P style="LINE-HEIGHT: 0.1in" align=left><FONT style="FONT-SIZE: 11pt" size=2><FONT face="Georgia, serif"><FONT style="FONT-SIZE: 7pt; BACKGROUND-COLOR: #7be1e1" size=1><SPAN style="LETTER-SPACING: -0.3pt"><I>rp</I></SPAN></FONT></FONT></FONT></P></SPAN><FONT class=extract>We consider two parameters that affect the <I>acc</I>: the key access distribution (e.g., Zipfian key distribution, <I>zipf</I><I> </I>) and the selectivity of a query (<I>s</I><SUB><FONT face="Georgia, serif"><I>q</I></FONT></SUB>). Commonly, the version chain grows longer (increased M) with a significant skew. A long-running query has a higher selectivity. Therefore, both <I>zipf </I>and <I>s</I><SUB><FONT face="Georgia, serif"><I>q</I></FONT></SUB><FONT face="Georgia, serif"><I> </I></FONT>significantly impact the high access rate <I>acc</I>. Given a workload, if the <I>acc </I>increases, we should turn the partition size <I>rp</I><I> </I>to larger to minimize the misses of <I>acc</I><I> </I><FONT face="SimSun-ExtB, serif">&#183;</FONT><FONT face="SimSun-ExtB, serif"> </FONT><SUP><FONT face="Georgia, serif"><I><U>M</U></I></FONT></SUP><FONT face="Georgia, serif"><I> </I></FONT>. However, we should also trade off </FONT>
<P></P>
<P class=western style="MARGIN-TOP: 0.03in; MARGIN-LEFT: 0.22in; LINE-HEIGHT: 0.17in"><SPAN class=sd-abs-pos style="WIDTH: 33px; POSITION: absolute; LEFT: 0.95in; TOP: 0.13in"><FONT class=extract></FONT></SPAN><SPAN id=Frame35 style="BORDER-TOP: medium none; BORDER-RIGHT: medium none; WIDTH: 0.23in; BACKGROUND: #ffffff; BORDER-BOTTOM: medium none; POSITION: absolute; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0in; LEFT: 2.12in; BORDER-LEFT: medium none; TOP: 8.28in; PADDING-RIGHT: 0in" dir=ltr>
<P style="LINE-HEIGHT: 0.1in" align=left><FONT style="FONT-SIZE: 11pt" size=2><FONT face="Georgia, serif"><FONT style="FONT-SIZE: 7pt; BACKGROUND-COLOR: #7be1e1" size=1><SPAN style="LETTER-SPACING: -0.3pt"><I>CLS</I></SPAN></FONT></FONT></FONT></P></SPAN><FONT class=extract>the cost of <SUP><FONT face="Georgia, serif"><I><U>rp</U></I></FONT></SUP><SUP><FONT face="Arial MT, serif"><U>&#183;</U></FONT></SUP><SUP><FONT face="Georgia, serif"><I><U>tvs</U></I></FONT></SUP><FONT face="Georgia, serif"><I> </I></FONT>, which may incur more cache misses. </FONT>
<P></P>
<P class=western style="MARGIN-TOP: 0in; MARGIN-LEFT: 0.22in; LINE-HEIGHT: 98%; MARGIN-RIGHT: 0.56in; TEXT-INDENT: 0.21in" align=justify><SPAN class=sd-abs-pos style="WIDTH: 16px; POSITION: absolute; LEFT: 2.23in; TOP: 0.27in"><FONT class=extract></FONT></SPAN><SPAN id=Frame36 style="BORDER-TOP: medium none; BORDER-RIGHT: medium none; WIDTH: 0.11in; BACKGROUND: #ffffff; BORDER-BOTTOM: medium none; POSITION: absolute; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0in; LEFT: 3.4in; BORDER-LEFT: medium none; TOP: 8.61in; PADDING-RIGHT: 0in" dir=ltr>
<P style="LINE-HEIGHT: 0.1in" align=left><FONT style="FONT-SIZE: 11pt" size=2><FONT face="Georgia, serif"><FONT style="FONT-SIZE: 7pt; BACKGROUND-COLOR: #7be1e1" size=1><SPAN style="LETTER-SPACING: -0.3pt"><I>ep</I></SPAN></FONT></FONT></FONT></P></SPAN><FONT class=extract>For the version store with epoch partitioning scheme (VS<SUB><FONT face="Georgia, serif"><I>EP</I></FONT></SUB><FONT face="Georgia, serif"><I> </I></FONT>), we use <I>ep</I><I> </I>to denote an epoch partition threshold. <SUP><FONT face="Georgia, serif"><I><U>ExcT</U></I></FONT></SUP><FONT face="Georgia, serif"><I><U> </U></I></FONT><SUP><FONT face="Georgia, serif"><I><U>ime</U></I></FONT></SUP><FONT face="Georgia, serif"><I> </I></FONT>is the number of epoch partitions in the store. </FONT>
<P></P>
<P class=western style="MARGIN-TOP: 0.12in"><FONT class=extract><BR></FONT></P>
<P class=western style="MARGIN-RIGHT: 0.34in" align=center><SPAN style="LETTER-SPACING: -0.3pt"><FONT class=extract>15</FONT></SPAN></P></DIV>
<P class=western style="MARGIN-TOP: 0.03in; PAGE-BREAK-BEFORE: always; MARGIN-LEFT: 0.56in; LINE-HEIGHT: 98%; MARGIN-RIGHT: 0.22in" align=justify><FONT class=extract>Under thread-local partitioning, every worker thread has a local partition in each<SPAN style="LETTER-SPACING: 2pt"> </SPAN>epoch partition; each thread-local partition accessed incurs a cache miss. Thus, the cost for each version search depends on the number of concurrent working threads (<I>tn</I>)<SPAN style="LETTER-SPACING: 1.8pt"> </SPAN>and<SPAN style="LETTER-SPACING: 1.8pt"> </SPAN>the<SPAN style="LETTER-SPACING: 1.8pt"> </SPAN>number<SPAN style="LETTER-SPACING: 1.8pt"> </SPAN>of<SPAN style="LETTER-SPACING: 1.8pt"> </SPAN>keys<SPAN style="LETTER-SPACING: 1.8pt"> </SPAN>in<SPAN style="LETTER-SPACING: 1.8pt"> </SPAN>each<SPAN style="LETTER-SPACING: 1.8pt"> </SPAN>thread-local<SPAN style="LETTER-SPACING: 1.8pt"> </SPAN>partition<SPAN style="LETTER-SPACING: 1.8pt"> </SPAN>(<I>tlk</I><SPAN style="LETTER-SPACING: -1.1pt"><I> </I></SPAN>):</FONT></P>
<P class=western style="MARGIN-TOP: 0in"><FONT class=extract><BR></FONT></P>
<DIV id=Section31 style="column-count: 2" dir=ltr gutter="2">
<P class=western style="MARGIN-TOP: 0.14in; MARGIN-LEFT: 1.62in" align=left><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT style="FONT-SIZE: 10pt" size=2><I>miss</I></FONT><FONT style="FONT-SIZE: 10pt" size=2>(</FONT><FONT style="FONT-SIZE: 10pt" size=2><I>V</I></FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: -0.7pt"><I> </I></SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2><I>S</I></FONT><SUB><FONT face="Georgia, serif"><FONT style="FONT-SIZE: 10pt" size=2><I>RP</I></FONT></FONT></SUB><FONT face="Georgia, serif"><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: -1.5pt"><I> </I></SPAN></FONT></FONT><FONT style="FONT-SIZE: 10pt" size=2>)</FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2>=</FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: -0.2pt"><I>hash</I></SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: -0.2pt">(</SPAN></FONT></FONT></FONT></P>
<P class=western style="MARGIN-TOP: 0.04in; LINE-HEIGHT: 0.13in" align=left><FONT style="FONT-SIZE: 11pt" size=2><FONT style="FONT-SIZE: 10pt; BACKGROUND-COLOR: #7be1e1" size=2><SPAN style="LETTER-SPACING: -0.1pt"><I>ExcTime</I></SPAN></FONT></FONT></P>
<P class=western style="MARGIN-LEFT: 0.6in; LINE-HEIGHT: 0.09in" align=left><SPAN class=sd-abs-pos style="WIDTH: 84px; POSITION: absolute; LEFT: 0in; TOP: 0.06in"><FONT class=extract></FONT></SPAN><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT style="FONT-SIZE: 10pt" size=2>)</FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: -0.6pt"> </SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2>+</FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: -0.5pt"> </SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2><I>tn</I></FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: -0.5pt"><I> </I></SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2>+</FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: -0.5pt"> </SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: -0.1pt"><I>hash</I></SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: -0.1pt">(</SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: -0.1pt"><I>tlk</I></SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: -0.1pt">)</SPAN></FONT><FONT style="FONT-SIZE: 10pt" size=2> </FONT><FONT style="FONT-SIZE: 10pt" size=2><SPAN style="LETTER-SPACING: -0.3pt">(3)</SPAN></FONT></FONT></FONT></P>
<P class=western style="MARGIN-LEFT: 0.22in; LINE-HEIGHT: 0.13in" align=left><FONT style="FONT-SIZE: 11pt" size=2><FONT style="FONT-SIZE: 10pt; BACKGROUND-COLOR: #7be1e1" size=2><SPAN style="LETTER-SPACING: -0.3pt"><I>ep</I></SPAN></FONT></FONT></P></DIV>
<DIV id=Section32 dir=ltr>
<P class=western style="MARGIN-TOP: 0.15in; MARGIN-LEFT: 0.56in; LINE-HEIGHT: 101%; MARGIN-RIGHT: 0.22in; TEXT-INDENT: 0.21in" align=justify><SPAN class=sd-abs-pos style="WIDTH: 16px; POSITION: absolute; LEFT: 5.21in; TOP: 0.25in"><FONT class=extract></FONT></SPAN><SPAN id=Frame37 style="BORDER-TOP: medium none; BORDER-RIGHT: medium none; WIDTH: 0.11in; BACKGROUND: #ffffff; BORDER-BOTTOM: medium none; POSITION: absolute; PADDING-BOTTOM: 0in; PADDING-TOP: 0in; PADDING-LEFT: 0in; LEFT: 6.37in; BORDER-LEFT: medium none; TOP: 2.71in; PADDING-RIGHT: 0in" dir=ltr>
<P style="LINE-HEIGHT: 0.1in" align=left><FONT style="FONT-SIZE: 11pt" size=2><FONT face="Georgia, serif"><FONT style="FONT-SIZE: 7pt; BACKGROUND-COLOR: #7be1e1" size=1><SPAN style="LETTER-SPACING: -0.3pt"><I>ep</I></SPAN></FONT></FONT></FONT></P></SPAN><FONT class=extract>Given a workload, as the execution time increases, the cost of <I>hash</I>( <SUP><FONT face="Georgia, serif"><I><U>ExcT</U></I></FONT></SUP><FONT face="Georgia, serif"><I><U> </U></I></FONT><SUP><FONT face="Georgia, serif"><I><U>ime</U></I></FONT></SUP><FONT face="Georgia, serif"><I> </I></FONT>) + <I>hash</I>(<I>tlk</I>) can be a constant factor. However, if we turn the <I>ep </I>to larger, the <I>tlk </I>increases and the tuple&#8217;s version chains grow longer. It can lead to a high hash collision under significant skew access, impacting the write throughput performance. </FONT>
<P></P>
<P class=western style="MARGIN-LEFT: 0.56in; LINE-HEIGHT: 98%; MARGIN-RIGHT: 0.22in; TEXT-INDENT: 0.21in" align=justify><FONT class=extract>The main challenge in finding the optimal version-aware data placement is balanc- ing the read and write performance by taking into account the various database sizes, key access distribution, and executing queries. In our implementations, through the experiments,<SPAN style="LETTER-SPACING: 1.1pt"> </SPAN>we<SPAN style="LETTER-SPACING: 1.1pt"> </SPAN>use<SPAN style="LETTER-SPACING: 1.1pt"> </SPAN>a<SPAN style="LETTER-SPACING: 1.1pt"> </SPAN>default<SPAN style="LETTER-SPACING: 1.2pt"> </SPAN>naive<SPAN style="LETTER-SPACING: 1.1pt"> </SPAN>policy<SPAN style="LETTER-SPACING: 1.1pt"> </SPAN>that<SPAN style="LETTER-SPACING: 1.1pt"> </SPAN>sets<SPAN style="LETTER-SPACING: 1.1pt"> </SPAN>the<SPAN style="LETTER-SPACING: 1.1pt"> </SPAN>initial<SPAN style="LETTER-SPACING: 1.1pt"> </SPAN>number<SPAN style="LETTER-SPACING: 1.1pt"> </SPAN>of<SPAN style="LETTER-SPACING: 1.2pt"> </SPAN>partitions to <I>c</I><SPAN style="LETTER-SPACING: 1.9pt"><I> </I></SPAN>and then assigns a number of versions to a partition incrementally.</FONT></P>
<OL start=6>
<LI>
<H1 class=western style="MARGIN-TOP: 0.12in; LINE-HEIGHT: 100%; TEXT-INDENT: 0in" align=left><A name="Experimental Evaluation"></A><FONT class=extract>Experimental<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN><SPAN style="LETTER-SPACING: -0.1pt">Evaluation</SPAN></FONT></H1></LI></OL>
<P class=western style="MARGIN-TOP: 0.1in; MARGIN-LEFT: 0.56in; LINE-HEIGHT: 98%; MARGIN-RIGHT: 0.22in" align=justify><FONT class=extract>This section compares the performance of scalable version-aware data placement and existing in-memory MVCC database system designs [</FONT><A href="file:///C:/SuperMemo/systems/Incremental/temp/HTMLFile.htm#_bookmark22"><FONT class=extract color=#0000ff>1</FONT></A><FONT class=extract>, </FONT><A href="file:///C:/SuperMemo/systems/Incremental/temp/HTMLFile.htm#_bookmark23"><FONT class=extract color=#0000ff>2</FONT></A><FONT class=extract>]. Peloton supports tuple- oriented and column-oriented table storage schemes, linked list-like chains, and tuple identifier<SPAN style="LETTER-SPACING: 2pt"> </SPAN>references<SPAN style="LETTER-SPACING: 2pt"> </SPAN>[</FONT><A href="file:///C:/SuperMemo/systems/Incremental/temp/HTMLFile.htm#_bookmark34"><FONT class=extract color=#0000ff>18</FONT></A><FONT class=extract>].<SPAN style="LETTER-SPACING: 2pt"> </SPAN>DBx1000<SPAN style="LETTER-SPACING: 2pt"> </SPAN>uses<SPAN style="LETTER-SPACING: 2pt"> </SPAN>a<SPAN style="LETTER-SPACING: 2pt"> </SPAN>tuple-oriented<SPAN style="LETTER-SPACING: 2pt"> </SPAN>table<SPAN style="LETTER-SPACING: 2pt"> </SPAN>storage<SPAN style="LETTER-SPACING: 2pt"> </SPAN>scheme,<SPAN style="LETTER-SPACING: 2pt"> </SPAN>array- like chains, and tuple pointer references [</FONT><A href="file:///C:/SuperMemo/systems/Incremental/temp/HTMLFile.htm#_bookmark42"><FONT class=extract color=#0000ff>26</FONT></A><FONT class=extract>]. For a fair apples-to-apples comparison, we implement<SPAN style="LETTER-SPACING: 1.9pt"> </SPAN>version-aware<SPAN style="LETTER-SPACING: 1.9pt"> </SPAN>data<SPAN style="LETTER-SPACING: 1.9pt"> </SPAN>placement<SPAN style="LETTER-SPACING: 1.9pt"> </SPAN>and<SPAN style="LETTER-SPACING: 1.9pt"> </SPAN>Peloton&#8217;s<SPAN style="LETTER-SPACING: 1.9pt"> </SPAN>data<SPAN style="LETTER-SPACING: 1.9pt"> </SPAN>placement<SPAN style="LETTER-SPACING: 1.9pt"> </SPAN>in<SPAN style="LETTER-SPACING: 1.9pt"> </SPAN>DBx1000<SPAN style="LETTER-SPACING: 1.9pt"> </SPAN></FONT><A href="file:///C:/SuperMemo/systems/Incremental/temp/HTMLFile.htm#_bookmark3"><FONT class=extract color=#0000ff><SUP>1</SUP></FONT></A><FONT class=extract>. <SPAN style="LETTER-SPACING: -0.1pt">We</SPAN><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN><SPAN style="LETTER-SPACING: -0.1pt">have</SPAN><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN><SPAN style="LETTER-SPACING: -0.1pt">implemented</SPAN><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN><SPAN style="LETTER-SPACING: -0.1pt">a</SPAN><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN><SPAN style="LETTER-SPACING: -0.1pt">B</SPAN><SUP><SPAN style="LETTER-SPACING: -0.1pt">+</SPAN></SUP><SPAN style="LETTER-SPACING: -0.1pt">-</SPAN><SPAN style="LETTER-SPACING: -0.1pt">tree</SPAN><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN><SPAN style="LETTER-SPACING: -0.1pt">index</SPAN><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN><SPAN style="LETTER-SPACING: -0.1pt">for</SPAN><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN><SPAN style="LETTER-SPACING: -0.1pt">all</SPAN><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN><SPAN style="LETTER-SPACING: -0.1pt">compared</SPAN><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN><SPAN style="LETTER-SPACING: -0.1pt">data</SPAN><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN><SPAN style="LETTER-SPACING: -0.1pt">placements.</SPAN><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN><SPAN style="LETTER-SPACING: -0.1pt">We</SPAN><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN><SPAN style="LETTER-SPACING: -0.1pt">use</SPAN><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN><SPAN style="LETTER-SPACING: -0.1pt">the </SPAN>DBx1000&#8217;s<SPAN style="LETTER-SPACING: 2pt"> </SPAN>Hekaton<SPAN style="LETTER-SPACING: 2pt"> </SPAN>transaction<SPAN style="LETTER-SPACING: 2pt"> </SPAN>scheme.<SPAN style="LETTER-SPACING: 2pt"> </SPAN>We<SPAN style="LETTER-SPACING: 2pt"> </SPAN>optimize<SPAN style="LETTER-SPACING: 2pt"> </SPAN>the<SPAN style="LETTER-SPACING: 2pt"> </SPAN>DBx1000&#8217;s<SPAN style="LETTER-SPACING: 2pt"> </SPAN>implementation of the YCSB and TPC-C benchmarks.</FONT></P>
<P class=western style="MARGIN-TOP: 0in; MARGIN-LEFT: 0.56in; LINE-HEIGHT: 98%; MARGIN-RIGHT: 0.22in; TEXT-INDENT: 0.21in" align=justify><FONT class=extract><FONT face="Georgia, serif">Experimental Setup. </FONT>We deployed DBx1000 </FONT><A href="file:///C:/SuperMemo/systems/Incremental/temp/HTMLFile.htm#_bookmark3"><FONT class=extract color=#0000ff><SUP>1</SUP></FONT></A><FONT class=extract><FONT color=#0000ff> </FONT>on an Ubuntu 20.04 LTS server with twenty cores Intel Xeon Gold 5218R CPUs, 2.10 GHz, 28 MB last level cache, and 96 GB DRAM main memory. We execute each run three times and report the average execution results.</FONT></P>
<P class=western style="MARGIN-TOP: 0in; MARGIN-LEFT: 0.56in; LINE-HEIGHT: 98%; MARGIN-RIGHT: 0.22in; TEXT-INDENT: 0.21in" align=justify><FONT class=extract><FONT face="Georgia, serif">YCSB Workloads. </FONT>We use the YCSB [</FONT><A href="file:///C:/SuperMemo/systems/Incremental/temp/HTMLFile.htm#_bookmark33"><FONT class=extract color=#0000ff>17</FONT></A><FONT class=extract>] benchmark to model different het- erogeneous<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>workload<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>settings.<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>The<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>database<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>contains<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>a<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>single<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>table<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>with<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>one<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>64-bit primary key and ten 100-byte non-primary key columns. The size of the tuple ver- <SPAN style="LETTER-SPACING: -0.1pt">sion</SPAN><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN><SPAN style="LETTER-SPACING: -0.1pt">is</SPAN><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN><SPAN style="LETTER-SPACING: -0.1pt">approximately</SPAN><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN><SPAN style="LETTER-SPACING: -0.1pt">1KB.</SPAN><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN><SPAN style="LETTER-SPACING: -0.1pt">We</SPAN><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN><SPAN style="LETTER-SPACING: -0.1pt">tested</SPAN><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN><SPAN style="LETTER-SPACING: -0.1pt">four</SPAN><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN><SPAN style="LETTER-SPACING: -0.1pt">workloads:</SPAN><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN><SPAN style="LETTER-SPACING: -0.1pt">(1)</SPAN><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN><SPAN style="LETTER-SPACING: -0.1pt">Workload</SPAN><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN><SPAN style="LETTER-SPACING: -0.1pt">A</SPAN><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN><SPAN style="LETTER-SPACING: -0.1pt">comprises</SPAN><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN><SPAN style="LETTER-SPACING: -0.1pt">50% </SPAN>read and 50% update operations, (2) Workload B comprises 95% read and 5% update operations, (3) Workload C comprises 100% read operations, and (4) Workload E com- prises 95% scan and 5% insert operations. We tested access distribution in the run phase using the DBx1000&#8217;s Zipfian distribution implementation.</FONT></P>
<P class=western style="MARGIN-TOP: 0in; MARGIN-LEFT: 0.56in; LINE-HEIGHT: 98%; MARGIN-RIGHT: 0.22in; TEXT-INDENT: 0.21in" align=justify><FONT class=extract><FONT face="Georgia, serif">TPC-C workloads. </FONT>This benchmark is the current standard for measuring the performance<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>of<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>OLTP<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>systems<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>[</FONT><A href="file:///C:/SuperMemo/systems/Incremental/temp/HTMLFile.htm#_bookmark43"><FONT class=extract color=#0000ff>27</FONT></A><FONT class=extract>].<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>It<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>models<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>a<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>warehouse-centric<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>order<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>processing application with nine tables and five transaction types. To simulate heterogeneous workloads, we adopt a Query2 transaction in TPC-CH benchmark [</FONT><A href="file:///C:/SuperMemo/systems/Incremental/temp/HTMLFile.htm#_bookmark44"><FONT class=extract color=#0000ff>28</FONT></A><FONT class=extract>]. The TPC-<SPAN style="LETTER-SPACING: 2pt"> </SPAN>CH-Q2<SPAN style="LETTER-SPACING: 0.6pt"> </SPAN>picks<SPAN style="LETTER-SPACING: 0.6pt"> </SPAN>a<SPAN style="LETTER-SPACING: 0.6pt"> </SPAN>random<SPAN style="LETTER-SPACING: 0.6pt"> </SPAN>region<SPAN style="LETTER-SPACING: 0.6pt"> </SPAN>and<SPAN style="LETTER-SPACING: 0.6pt"> </SPAN>updates<SPAN style="LETTER-SPACING: 0.6pt"> </SPAN>items<SPAN style="LETTER-SPACING: 0.7pt"> </SPAN>in<SPAN style="LETTER-SPACING: 0.6pt"> </SPAN>the<SPAN style="LETTER-SPACING: 0.6pt"> </SPAN>stock<SPAN style="LETTER-SPACING: 0.6pt"> </SPAN>table<SPAN style="LETTER-SPACING: 0.6pt"> </SPAN>having<SPAN style="LETTER-SPACING: 0.6pt"> </SPAN>a<SPAN style="LETTER-SPACING: 0.6pt"> </SPAN><SPAN style="LETTER-SPACING: -0.2pt">lower</SPAN></FONT></P>
<P class=western style="MARGIN-TOP: 0.08in"><FONT class=extract><BR></FONT></P>
<P class=western style="MARGIN-LEFT: 0.34in" align=center><SPAN style="LETTER-SPACING: -0.3pt"><FONT class=extract>16</FONT></SPAN></P></DIV>
<P class=western style="MARGIN-TOP: 0.03in; PAGE-BREAK-BEFORE: always; MARGIN-LEFT: 0.22in; LINE-HEIGHT: 98%; MARGIN-RIGHT: 0.56in" align=justify><FONT class=extract>quantity than a certain threshold. Because the majority of TPC-CH-Q2 access is in the<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>Item<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>and<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>Stock<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>tables,<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>a<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>TPC-CH-Q2<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>transaction<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>will<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>frequently<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>conflict<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>with<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>the TPC-C NewOrder transaction.</FONT></P>
<P class=western style="MARGIN-TOP: 0in; MARGIN-LEFT: 0.22in; LINE-HEIGHT: 98%; MARGIN-RIGHT: 0.56in; TEXT-INDENT: 0.21in" align=justify><FONT class=extract>We now provide an analysis of the runtime performance of scalable version-aware data placement compared to the existing data placements on different workload mixtures. For each configuration, we scale up the number of worker threads.</FONT></P>
<OL>
<OL>
<LI>
<H2 class=western style="MARGIN-TOP: 0.15in; LINE-HEIGHT: 100%; TEXT-INDENT: 0in" align=left><A name="Read-Intensive Workloads"></A><FONT class=extract><FONT face="Palatino Linotype, serif">Read-Intensive</FONT><FONT face="Palatino Linotype, serif"><SPAN style="LETTER-SPACING: 0.2pt"> </SPAN></FONT><FONT face="Palatino Linotype, serif"><SPAN style="LETTER-SPACING: -0.1pt">Workloads</SPAN></FONT></FONT></H2></LI></OL></OL>
<P class=western style="MARGIN-TOP: 0.1in"><SPAN class=sd-abs-pos style="WIDTH: 588px; POSITION: absolute; LEFT: 1.9in; TOP: 0.31in"><FONT class=extract>&nbsp;</FONT></SPAN><BR></P>
<P class=western style="MARGIN-TOP: 0.08in; MARGIN-LEFT: 0.22in; LINE-HEIGHT: 96%; MARGIN-RIGHT: 0.56in" align=justify><A name=_bookmark14></A><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT face="Georgia, serif"><FONT style="FONT-SIZE: 8pt" size=1>Fig. 13</FONT></FONT><FONT face="Georgia, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 1.3pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 8pt" size=1>The throughput of version-aware and traditional data placements for the various YCSB workloads</FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1>(YCSB-C:1</FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1>million</FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1>transaction;</FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1>YCSB-B:1</FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1>million</FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1>transaction,</FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1>YCSB-E:0.1</FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1>million</FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1>trans- </FONT><FONT style="FONT-SIZE: 8pt" size=1>action, 10 range size; 1 million tuples,10 operations per transaction.).</FONT></FONT></FONT></P>
<P class=western><FONT class=extract><BR></FONT></P>
<P class=western style="MARGIN-TOP: 0.01in"><FONT class=extract><BR></FONT></P>
<P class=western style="MARGIN-LEFT: 0.22in; LINE-HEIGHT: 96%; MARGIN-RIGHT: 0.56in; TEXT-INDENT: 0.21in" align=justify><FONT class=extract>We first consider the results of the read-intensive workload with uniform accesses (Zipfian theta=0.0). On the read-only workload in Figure <FONT color=#0000ff><A href="file:///C:/SuperMemo/systems/Incremental/temp/HTMLFile.htm#_bookmark14"><FONT color=#000080>13</FONT></A> </FONT>(a), scalable version-aware data<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>placement&#8217;s<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>throughput is 1.67<FONT face="SimSun-ExtB, serif">&#215;</FONT><FONT face="SimSun-ExtB, serif"><SPAN style="LETTER-SPACING: -1.4pt"> </SPAN></FONT>higher than that of traditional data placement. The benefits of version-aware are more prominent on the scan workloads in Figure <FONT color=#0000ff><A href="file:///C:/SuperMemo/systems/Incremental/temp/HTMLFile.htm#_bookmark14"><FONT color=#000080>13</FONT></A> </FONT>(c),<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>where the scalable version-aware data placement&#8217;s throughput is 2<FONT face="SimSun-ExtB, serif">&#215;</FONT><FONT face="SimSun-ExtB, serif"><SPAN style="LETTER-SPACING: -1.4pt"> </SPAN></FONT>higher than that of traditional data placement. The performance improvements are mainly due to index-only visibility checks.</FONT></P>
<P class=western style="MARGIN-LEFT: 0.22in; LINE-HEIGHT: 98%; MARGIN-RIGHT: 0.56in; TEXT-INDENT: 0.21in" align=justify><FONT class=extract>On the read-mostly workload, the scalable version-aware data placement outper- forms the traditional data placement by 33%. By skipping the unnecessary version accesses and checking through the range partition and epoch partition, readers can traverse the version chain faster than the traditional data placement.</FONT></P>
<OL>
<OL start=2>
<LI>
<H2 class=western style="MARGIN-TOP: 0.15in; LINE-HEIGHT: 100%; TEXT-INDENT: 0in" align=left><A name="Update-Intensive Workloads"></A><FONT class=extract><FONT face="Palatino Linotype, serif">Update-Intensive</FONT><FONT face="Palatino Linotype, serif"><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT><FONT face="Palatino Linotype, serif"><SPAN style="LETTER-SPACING: -0.1pt">Workloads</SPAN></FONT></FONT></H2></LI></OL></OL>
<P class=western style="MARGIN-TOP: 0.07in; MARGIN-LEFT: 0.22in; LINE-HEIGHT: 96%; MARGIN-RIGHT: 0.56in; TEXT-INDENT: 0in" align=justify><FONT class=extract>On the write-intensive workload in Figure <FONT color=#0000ff><A href="file:///C:/SuperMemo/systems/Incremental/temp/HTMLFile.htm#_bookmark15"><FONT color=#000080>14</FONT></A> </FONT>(a), scalable version-aware data place- ment&#8217;s<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>throughput is 1.6<FONT face="SimSun-ExtB, serif">&#215;</FONT>-2<FONT face="SimSun-ExtB, serif">&#215;</FONT><FONT face="SimSun-ExtB, serif"><SPAN style="LETTER-SPACING: -1.4pt"> </SPAN></FONT>higher than that of traditional data placement. Since many more update operations and increased worker threads, the version chain length would grow quickly. As the version chain length increases, index-only visibility checks and version partitioning gain importance because unnecessary access to versions can <SPAN style="LETTER-SPACING: -0.1pt">be reduced. In the scalable version-aware data placement, index-only access is sufficient </SPAN>for<SPAN style="LETTER-SPACING: 1pt"> </SPAN>updates,<SPAN style="LETTER-SPACING: 1.1pt"> </SPAN>and<SPAN style="LETTER-SPACING: 1.1pt"> </SPAN>version<SPAN style="LETTER-SPACING: 1pt"> </SPAN>partitioning<SPAN style="LETTER-SPACING: 1pt"> </SPAN>accelerates<SPAN style="LETTER-SPACING: 1pt"> </SPAN>version<SPAN style="LETTER-SPACING: 1.1pt"> </SPAN>searches.<SPAN style="LETTER-SPACING: 1.1pt"> </SPAN>In<SPAN style="LETTER-SPACING: 1pt"> </SPAN>the<SPAN style="LETTER-SPACING: 1pt"> </SPAN><SPAN style="LETTER-SPACING: -0.1pt">traditional</SPAN></FONT></P>
<P class=western><FONT class=extract><BR></FONT></P>
<P class=western style="MARGIN-TOP: 0.02in"><FONT class=extract><BR></FONT></P>
<P class=western style="MARGIN-RIGHT: 0.34in" align=center><SPAN style="LETTER-SPACING: -0.3pt"><FONT class=extract>17</FONT></SPAN></P>
<P class=western style="PAGE-BREAK-BEFORE: always; MARGIN-LEFT: 1.08in"><FONT class=extract><IMG border=0 name="Image 654" src="file:///C:/Users/aaron/AppData/Local/Temp/lu21164a2h8qi.tmp/lu21164a2h8vc_tmp_a651fbc08e02b5dc.jpg" width=588 align=bottom height=240> </FONT></P>
<P class=western style="MARGIN-TOP: 0.09in; MARGIN-LEFT: 0.56in; LINE-HEIGHT: 96%; MARGIN-RIGHT: 0.22in" align=justify><A name=_bookmark15></A><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT face="Georgia, serif"><FONT style="FONT-SIZE: 8pt" size=1>Fig. 14</FONT></FONT><FONT face="Georgia, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 2pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 8pt" size=1>The throughput of scalable version-aware and traditional data placements for the YCSB-A workload (1 million tuples, 1 million transaction, 2 operations per transaction.).</FONT></FONT></FONT></P>
<P class=western style="MARGIN-TOP: 0.08in"><FONT class=extract><BR></FONT></P>
<P class=western style="MARGIN-LEFT: 0.56in; LINE-HEIGHT: 98%; MARGIN-RIGHT: 0.22in" align=justify><FONT class=extract>data<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>placement,<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>either<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>update<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>or<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>search<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>must<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>process<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>every<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>tuple<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>version<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>of<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>the<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>version chain, leading to many latencies.</FONT></P>
<P class=western style="MARGIN-TOP: 0in; MARGIN-LEFT: 0.56in; LINE-HEIGHT: 98%; MARGIN-RIGHT: 0.22in; TEXT-INDENT: 0.21in" align=justify><FONT class=extract>To measure the effectiveness of the scalable version-aware data placement in skewed scenarios,<SPAN style="LETTER-SPACING: -0.7pt"> </SPAN>we<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>use<SPAN style="LETTER-SPACING: -0.7pt"> </SPAN>20<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>worker<SPAN style="LETTER-SPACING: -0.7pt"> </SPAN>threads<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>to<SPAN style="LETTER-SPACING: -0.7pt"> </SPAN>run<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>the<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>same<SPAN style="LETTER-SPACING: -0.7pt"> </SPAN>workload<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>with<SPAN style="LETTER-SPACING: -0.7pt"> </SPAN>different<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>Zipfian distributions. Figure <FONT color=#0000ff><A href="file:///C:/SuperMemo/systems/Incremental/temp/HTMLFile.htm#_bookmark15"><FONT color=#000080>14</FONT></A> </FONT>(b) shows the throughput for theta values from 0.0 to 0.99 (significant<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>skew).<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>The<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>version<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>chain<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>length<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>would<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>become<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>very<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>long<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>under<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>skewed update-intensive<SPAN style="LETTER-SPACING: -0.7pt"> </SPAN>workloads,<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>but<SPAN style="LETTER-SPACING: -0.7pt"> </SPAN>the<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>scalable<SPAN style="LETTER-SPACING: -0.7pt"> </SPAN>version-aware<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>data<SPAN style="LETTER-SPACING: -0.7pt"> </SPAN>placement<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>outper- <SPAN style="LETTER-SPACING: -0.1pt">forms traditional placements. Two reasons contribute to its good performance: first, </SPAN>version partitioning offers a short read path, and second, the thread-local partitioning optimization<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>avoids<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>using<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>a<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>global<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>lock<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>by<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>letting<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>each<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>thread<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>manage<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>a<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>private-free data structure.</FONT></P>
<P class=western style="MARGIN-TOP: 0.05in"><SPAN class=sd-abs-pos style="WIDTH: 599px; POSITION: absolute; LEFT: 2.24in; TOP: 0.24in"><FONT class=extract>&nbsp;</FONT></SPAN><BR></P>
<P class=western style="MARGIN-TOP: 0.06in; MARGIN-LEFT: 0.56in; LINE-HEIGHT: 96%; MARGIN-RIGHT: 0.22in" align=justify><A name=_bookmark16></A><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT face="Georgia, serif"><FONT style="FONT-SIZE: 8pt" size=1>Fig.</FONT></FONT><FONT face="Georgia, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN></FONT></FONT><FONT face="Georgia, serif"><FONT style="FONT-SIZE: 8pt" size=1>15</FONT></FONT><FONT face="Georgia, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 1pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 8pt" size=1>The</FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.5pt"> </SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1>throughput</FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.5pt"> </SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1>of</FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.5pt"> </SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1>scalable</FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.5pt"> </SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1>version-aware</FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.5pt"> </SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1>and</FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.5pt"> </SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1>traditional</FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.5pt"> </SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1>data</FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.5pt"> </SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1>placements</FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.5pt"> </SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1>for</FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.5pt"> </SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1>the</FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.5pt"> </SPAN></FONT><FONT style="FONT-SIZE: 8pt" size=1>TPC-C </FONT><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.1pt">workload. (10 warehouses, 0.1 million transactions. )</SPAN></FONT></FONT></FONT></P>
<P class=western><FONT class=extract><BR></FONT></P>
<P class=western style="MARGIN-TOP: 0.01in"><FONT class=extract><BR></FONT></P>
<P class=western style="MARGIN-LEFT: 0.56in; LINE-HEIGHT: 98%; MARGIN-RIGHT: 0.22in; TEXT-INDENT: 0.21in" align=justify><FONT class=extract>Figure <FONT color=#0000ff><A href="file:///C:/SuperMemo/systems/Incremental/temp/HTMLFile.htm#_bookmark16"><FONT color=#000080>15</FONT></A> </FONT>(a) evaluates throughput performance with TPC-C workload, having <SPAN style="LETTER-SPACING: -0.1pt">only</SPAN><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN><SPAN style="LETTER-SPACING: -0.1pt">NewOrder</SPAN><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN><SPAN style="LETTER-SPACING: -0.1pt">transactions.</SPAN><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN><SPAN style="LETTER-SPACING: -0.1pt">We</SPAN><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN><SPAN style="LETTER-SPACING: -0.1pt">see</SPAN><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN><SPAN style="LETTER-SPACING: -0.1pt">that</SPAN><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN><SPAN style="LETTER-SPACING: -0.1pt">all</SPAN><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN><SPAN style="LETTER-SPACING: -0.1pt">schemes</SPAN><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN><SPAN style="LETTER-SPACING: -0.1pt">scale</SPAN><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN><SPAN style="LETTER-SPACING: -0.1pt">well,</SPAN><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN><SPAN style="LETTER-SPACING: -0.1pt">and</SPAN><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN><SPAN style="LETTER-SPACING: -0.1pt">both</SPAN><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN><SPAN style="LETTER-SPACING: -0.1pt">range</SPAN><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN><SPAN style="LETTER-SPACING: -0.1pt">par- </SPAN>titioning<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>and<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>epoch<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>partitioning<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>achieve<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>higher<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>throughput<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>than<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>the<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>traditional<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>data placements.<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>It<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>is<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>crucial<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>to<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>highlight<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>that<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>update<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>and<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>insert<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>operations<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>play<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>a<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>crucial role<SPAN style="LETTER-SPACING: 0.2pt"> </SPAN>in<SPAN style="LETTER-SPACING: 0.2pt"> </SPAN>the<SPAN style="LETTER-SPACING: 0.2pt"> </SPAN>NewOrder<SPAN style="LETTER-SPACING: 0.2pt"> </SPAN>transaction,<SPAN style="LETTER-SPACING: 0.2pt"> </SPAN>constituting<SPAN style="LETTER-SPACING: 0.2pt"> </SPAN>a<SPAN style="LETTER-SPACING: 0.2pt"> </SPAN>substantial<SPAN style="LETTER-SPACING: 0.2pt"> </SPAN>portion<SPAN style="LETTER-SPACING: 0.2pt"> </SPAN>(up<SPAN style="LETTER-SPACING: 0.2pt"> </SPAN>to<SPAN style="LETTER-SPACING: 0.2pt"> </SPAN>60%)<SPAN style="LETTER-SPACING: 0.2pt"> </SPAN><SPAN style="LETTER-SPACING: -0.3pt">of</SPAN></FONT></P>
<P class=western><FONT class=extract><BR></FONT></P>
<P class=western style="MARGIN-TOP: 0.04in"><FONT class=extract><BR></FONT></P>
<P class=western style="MARGIN-LEFT: 0.34in" align=center><SPAN style="LETTER-SPACING: -0.3pt"><FONT class=extract>18</FONT></SPAN></P>
<P class=western style="MARGIN-TOP: 0.03in; PAGE-BREAK-BEFORE: always; MARGIN-LEFT: 0.22in; LINE-HEIGHT: 98%; MARGIN-RIGHT: 0.56in" align=justify><FONT class=extract>its execution. Therefore, Peloton&#8217;s overall throughput is higher than that of Hekaton, and the performance improvements are mainly due to index-only visibility checks.</FONT></P>
<P class=western style="MARGIN-TOP: 0in; MARGIN-LEFT: 0.22in; LINE-HEIGHT: 98%; MARGIN-RIGHT: 0.56in; TEXT-INDENT: 0.21in" align=justify><FONT class=extract>Figure <FONT color=#0000ff><A href="file:///C:/SuperMemo/systems/Incremental/temp/HTMLFile.htm#_bookmark16"><FONT color=#000080>15</FONT></A> </FONT>(b) shows the throughput performance when we include all five transac-<SPAN style="LETTER-SPACING: 4pt"> </SPAN>tion<SPAN style="LETTER-SPACING: -0.5pt"> </SPAN>types<SPAN style="LETTER-SPACING: -0.5pt"> </SPAN>of<SPAN style="LETTER-SPACING: -0.5pt"> </SPAN>the<SPAN style="LETTER-SPACING: -0.5pt"> </SPAN>TPC-C<SPAN style="LETTER-SPACING: -0.5pt"> </SPAN>workloads.<SPAN style="LETTER-SPACING: -0.5pt"> </SPAN>Specifically,<SPAN style="LETTER-SPACING: -0.5pt"> </SPAN>we<SPAN style="LETTER-SPACING: -0.5pt"> </SPAN>repeat<SPAN style="LETTER-SPACING: -0.5pt"> </SPAN>the<SPAN style="LETTER-SPACING: -0.5pt"> </SPAN>experiment<SPAN style="LETTER-SPACING: -0.5pt"> </SPAN>described in<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>the<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>previous<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>paragraph,<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>but<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>this<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>time,<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>we<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>include<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>all<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>the<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>transaction<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>types<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>of<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>the workload. We observe a similar behavior as with (a), and version partitioning becomes more important as the version chains grow and long-running operations increase. How- ever, both approaches pay a centralized timestamp allocation penalty after 15 worker threads. Under the Hekaton transaction scheme, a transaction needs to be assigned a global timestamp at both its beginning and committing.</FONT></P>
<OL>
<OL start=3>
<LI>
<H2 class=western style="MARGIN-TOP: 0.15in; LINE-HEIGHT: 100%; TEXT-INDENT: 0in" align=left><A name="Heterogeneous Workloads"></A><FONT class=extract><FONT face="Palatino Linotype, serif">Heterogeneous</FONT><FONT face="Palatino Linotype, serif"><SPAN style="LETTER-SPACING: 2.2pt"> </SPAN></FONT><FONT face="Palatino Linotype, serif"><SPAN style="LETTER-SPACING: -0.1pt">Workloads</SPAN></FONT></FONT></H2></LI></OL></OL>
<P class=western style="MARGIN-TOP: 0.07in; MARGIN-LEFT: 0.22in; LINE-HEIGHT: 98%; MARGIN-RIGHT: 0.56in" align=justify><FONT class=extract>In<SPAN style="LETTER-SPACING: 1.6pt"> </SPAN>this<SPAN style="LETTER-SPACING: 1.6pt"> </SPAN>experiment,<SPAN style="LETTER-SPACING: 1.7pt"> </SPAN>we<SPAN style="LETTER-SPACING: 1.6pt"> </SPAN>take<SPAN style="LETTER-SPACING: 1.6pt"> </SPAN>a<SPAN style="LETTER-SPACING: 1.7pt"> </SPAN>look<SPAN style="LETTER-SPACING: 1.7pt"> </SPAN>at<SPAN style="LETTER-SPACING: 1.7pt"> </SPAN>the<SPAN style="LETTER-SPACING: 1.6pt"> </SPAN>heterogeneous<SPAN style="LETTER-SPACING: 1.6pt"> </SPAN>workloads.<SPAN style="LETTER-SPACING: 1.7pt"> </SPAN>This<SPAN style="LETTER-SPACING: 1.6pt"> </SPAN>time,<SPAN style="LETTER-SPACING: 1.7pt"> </SPAN>we first<SPAN style="LETTER-SPACING: 2pt"> </SPAN>focus<SPAN style="LETTER-SPACING: 2pt"> </SPAN>on<SPAN style="LETTER-SPACING: 2pt"> </SPAN>scalability<SPAN style="LETTER-SPACING: 2pt"> </SPAN>by<SPAN style="LETTER-SPACING: 2pt"> </SPAN>combining<SPAN style="LETTER-SPACING: 2pt"> </SPAN>one<SPAN style="LETTER-SPACING: 2pt"> </SPAN>long-running<SPAN style="LETTER-SPACING: 2pt"> </SPAN>read<SPAN style="LETTER-SPACING: 2pt"> </SPAN>transaction<SPAN style="LETTER-SPACING: 2pt"> </SPAN>(YCSB-C) and various numbers of short-lived write transactions (YCSB-A). This makes the throughput numbers more comparable, as the query response times increase with increased write transaction thread due to growing version chain length.</FONT></P>
<P class=western style="MARGIN-TOP: 0in; MARGIN-LEFT: 0.22in; LINE-HEIGHT: 98%; MARGIN-RIGHT: 0.56in; TEXT-INDENT: 0.21in" align=justify><FONT class=extract>Figure<SPAN style="LETTER-SPACING: 1.9pt"> </SPAN></FONT><A href="file:///C:/SuperMemo/systems/Incremental/temp/HTMLFile.htm#_bookmark17"><FONT class=extract color=#0000ff>16</FONT></A><FONT class=extract><FONT color=#0000ff><SPAN style="LETTER-SPACING: 1.9pt"> </SPAN></FONT>shows<SPAN style="LETTER-SPACING: 1.9pt"> </SPAN>that<SPAN style="LETTER-SPACING: 1.9pt"> </SPAN>the<SPAN style="LETTER-SPACING: 1.9pt"> </SPAN>throughput<SPAN style="LETTER-SPACING: 1.9pt"> </SPAN>of<SPAN style="LETTER-SPACING: 1.9pt"> </SPAN>the<SPAN style="LETTER-SPACING: 1.9pt"> </SPAN>read<SPAN style="LETTER-SPACING: 1.9pt"> </SPAN>transaction<SPAN style="LETTER-SPACING: 1.9pt"> </SPAN>is<SPAN style="LETTER-SPACING: 1.9pt"> </SPAN>highly<SPAN style="LETTER-SPACING: 1.9pt"> </SPAN>affected by concurrent write transactions. The versions accumulate quickly over time, slowing down the readers. In Figure </FONT><A href="file:///C:/SuperMemo/systems/Incremental/temp/HTMLFile.htm#_bookmark18"><FONT class=extract color=#0000ff>17</FONT></A><FONT class=extract>, the performance looks quite similar. However, since most<SPAN style="LETTER-SPACING: -0.5pt"> </SPAN>of<SPAN style="LETTER-SPACING: -0.5pt"> </SPAN>the<SPAN style="LETTER-SPACING: -0.5pt"> </SPAN>key<SPAN style="LETTER-SPACING: -0.5pt"> </SPAN>accesses<SPAN style="LETTER-SPACING: -0.5pt"> </SPAN>are<SPAN style="LETTER-SPACING: -0.5pt"> </SPAN>directed<SPAN style="LETTER-SPACING: -0.5pt"> </SPAN>to<SPAN style="LETTER-SPACING: -0.5pt"> </SPAN>a<SPAN style="LETTER-SPACING: -0.5pt"> </SPAN>few<SPAN style="LETTER-SPACING: -0.5pt"> </SPAN>tuples<SPAN style="LETTER-SPACING: -0.5pt"> </SPAN>with<SPAN style="LETTER-SPACING: -0.5pt"> </SPAN>significant<SPAN style="LETTER-SPACING: -0.5pt"> </SPAN>skew<SPAN style="LETTER-SPACING: -0.5pt"> </SPAN>access<SPAN style="LETTER-SPACING: -0.5pt"> </SPAN><SPAN style="LETTER-SPACING: -0.1pt">(theta</SPAN></FONT></P>
<P class=western style="MARGIN-LEFT: 0.22in; LINE-HEIGHT: 0.17in" align=justify><FONT class=extract>=<SPAN style="LETTER-SPACING: 0.3pt"> </SPAN>0.99),<SPAN style="LETTER-SPACING: 0.8pt"> </SPAN>the<SPAN style="LETTER-SPACING: 0.8pt"> </SPAN>overall<SPAN style="LETTER-SPACING: 0.8pt"> </SPAN>read<SPAN style="LETTER-SPACING: 0.8pt"> </SPAN>throughput<SPAN style="LETTER-SPACING: 0.8pt"> </SPAN>is<SPAN style="LETTER-SPACING: 0.8pt"> </SPAN>higher<SPAN style="LETTER-SPACING: 0.8pt"> </SPAN>than<SPAN style="LETTER-SPACING: 0.8pt"> </SPAN>for<SPAN style="LETTER-SPACING: 0.8pt"> </SPAN>the<SPAN style="LETTER-SPACING: 0.8pt"> </SPAN>uniform<SPAN style="LETTER-SPACING: 0.8pt"> </SPAN><SPAN style="LETTER-SPACING: -0.1pt">accesses.</SPAN></FONT></P>
<P class=western style="MARGIN-TOP: 0in; MARGIN-LEFT: 0.22in; LINE-HEIGHT: 98%; MARGIN-RIGHT: 0.56in; TEXT-INDENT: 0.21in" align=justify><FONT class=extract>We<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>then<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>focus<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>on<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>another<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>two<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>workload<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>mixes:<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>50%<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>NewOrder<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>and<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>50%<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>StockLevel and 90% NewOrder and 10% StockLevel. As shown in Figure </FONT><A href="file:///C:/SuperMemo/systems/Incremental/temp/HTMLFile.htm#_bookmark19"><FONT class=extract color=#0000ff>18</FONT></A><FONT class=extract>, with the short version chain, the results are largely similar to the NewOrder-only transaction. As we increase the ratio of StockLevel transactions, the data placements with version partitioning show<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>a<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>higher<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>throughput<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>performance<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>gain<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>because<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>relatively<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>long-running<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>operations increase the benefit of efficient version searching.</FONT></P>
<P class=western style="MARGIN-TOP: 0.08in"><SPAN class=sd-abs-pos style="WIDTH: 599px; POSITION: absolute; LEFT: 1.9in; TOP: 0.26in"><FONT class=extract></FONT></SPAN><BR></P>
<P class=western style="MARGIN-TOP: 0.06in; MARGIN-LEFT: 0.22in; LINE-HEIGHT: 96%; MARGIN-RIGHT: 0.56in" align=justify><A name=_bookmark17></A><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT face="Georgia, serif"><FONT style="FONT-SIZE: 8pt" size=1>Fig. 16</FONT></FONT><FONT face="Georgia, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 2pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 8pt" size=1>The throughput performance under </FONT><FONT style="FONT-SIZE: 8pt" size=1>YCSB </FONT><FONT style="FONT-SIZE: 8pt" size=1>heterogeneous workloads. </FONT><FONT style="FONT-SIZE: 8pt" size=1>YCSB-A </FONT><FONT style="FONT-SIZE: 8pt" size=1>throughput (left) : 1 million transactions, 2 operations per transaction; </FONT><FONT style="FONT-SIZE: 8pt" size=1>YCSB-</FONT><FONT style="FONT-SIZE: 8pt" size=1>C throughput (right) : 1 million transactions, 1000 operations per transaction; 1 million tuples; zipfian theta=0.0.</FONT></FONT></FONT></P>
<P class=western><FONT class=extract><BR></FONT></P>
<P class=western><FONT class=extract><BR></FONT></P>
<P class=western><FONT class=extract><BR></FONT></P>
<P class=western style="MARGIN-TOP: 0.09in"><FONT class=extract><BR></FONT></P>
<P class=western style="MARGIN-RIGHT: 0.34in" align=center><SPAN style="LETTER-SPACING: -0.3pt"><FONT class=extract>19</FONT></SPAN></P>
<P class=western style="PAGE-BREAK-BEFORE: always; MARGIN-LEFT: 1.08in"><FONT class=extract><IMG border=0 name="Image 657" src="file:///C:/Users/aaron/AppData/Local/Temp/lu21164a2h8qi.tmp/lu21164a2h8vc_tmp_c34e25f871a8fb3a.jpg" width=599 align=bottom height=256> </FONT></P>
<P class=western style="MARGIN-TOP: 0.05in; MARGIN-LEFT: 0.56in; LINE-HEIGHT: 96%; MARGIN-RIGHT: 0.22in" align=justify><A name=_bookmark18></A><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT face="Georgia, serif"><FONT style="FONT-SIZE: 8pt" size=1>Fig. 17</FONT></FONT><FONT face="Georgia, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 2pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 8pt" size=1>The throughput performance under </FONT><FONT style="FONT-SIZE: 8pt" size=1>YCSB </FONT><FONT style="FONT-SIZE: 8pt" size=1>heterogeneous workloads. </FONT><FONT style="FONT-SIZE: 8pt" size=1>YCSB-A </FONT><FONT style="FONT-SIZE: 8pt" size=1>throughput (left): 1 million transactions, 2 operations per transaction; </FONT><FONT style="FONT-SIZE: 8pt" size=1>YCSB-</FONT><FONT style="FONT-SIZE: 8pt" size=1>C throughput (right): 1 million transactions, 1000 operations per transaction; 1 million tuples; zipfian theta=0.99.</FONT></FONT></FONT></P>
<P class=western style="MARGIN-TOP: 0.08in"><FONT style="FONT-SIZE: 11pt" size=2><FONT style="FONT-SIZE: 8pt; BACKGROUND-COLOR: #7be1e1" size=1>mance under TPC-C heterogeneous workloads. NewOrder/Stock- level,90/10 (left); NewOrder/Stocklevel,50/50 (right); 10 warehouses, 0.1 million transactions.</FONT></FONT></P>
<P class=western style="MARGIN-TOP: 0.03in"><FONT class=extract><BR></FONT></P>
<OL>
<OL start=4>
<LI>
<H2 class=western style="LINE-HEIGHT: 100%; TEXT-INDENT: 0in" align=left><A name="Latency Analysis"></A><FONT class=extract><FONT face="Palatino Linotype, serif">Latency</FONT><FONT face="Palatino Linotype, serif"><SPAN style="LETTER-SPACING: 1.4pt"> </SPAN></FONT><FONT face="Palatino Linotype, serif"><SPAN style="LETTER-SPACING: -0.1pt">Analysis</SPAN></FONT></FONT></H2></LI></OL></OL>
<P class=western style="MARGIN-TOP: 0.07in; MARGIN-LEFT: 0.56in; LINE-HEIGHT: 98%; MARGIN-RIGHT: 0.22in" align=justify><FONT class=extract>In this experiment, we perform latency analysis. We run the different number of NewOrder transaction threads and one TPC-CH-Q2 transaction thread simultane- ously<SPAN style="LETTER-SPACING: 1.4pt"> </SPAN>to<SPAN style="LETTER-SPACING: 1.4pt"> </SPAN>emulate<SPAN style="LETTER-SPACING: 1.4pt"> </SPAN>a<SPAN style="LETTER-SPACING: 1.4pt"> </SPAN>long-running,<SPAN style="LETTER-SPACING: 1.4pt"> </SPAN>complex<SPAN style="LETTER-SPACING: 1.4pt"> </SPAN>query.<SPAN style="LETTER-SPACING: 1.4pt"> </SPAN>Because<SPAN style="LETTER-SPACING: 1.4pt"> </SPAN>the<SPAN style="LETTER-SPACING: 1.4pt"> </SPAN>majority<SPAN style="LETTER-SPACING: 1.4pt"> </SPAN>of<SPAN style="LETTER-SPACING: 1.4pt"> </SPAN>CH-Q2<SPAN style="LETTER-SPACING: 1.4pt"> </SPAN>access is<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>in<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>the<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>item<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>and<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>stock<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>tables,<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>a<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>CH-Q2<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>transaction<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>will<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>frequently<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>conflict<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>with<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>the NewOrder transaction.</FONT></P>
<P class=western style="MARGIN-TOP: 0in; MARGIN-LEFT: 0.56in; LINE-HEIGHT: 98%; MARGIN-RIGHT: 0.22in; TEXT-INDENT: 0.21in" align=justify><FONT class=extract>Figure<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT><A href="file:///C:/SuperMemo/systems/Incremental/temp/HTMLFile.htm#_bookmark20"><FONT class=extract color=#0000ff>19</FONT></A><FONT class=extract><FONT color=#0000ff><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT>shows<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>the<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>latency<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>of<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>the<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>CH-Q2<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>query<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>over<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>varying<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>numbers<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>of<SPAN style="LETTER-SPACING: -0.3pt"> </SPAN>NewOrder threads. Note that the latency of the CH-Q2 transaction is proportional to the number of threads in the NewOrder workload. The Stock table, which is heavily accessed by NewOrder transactions, grows proportionally to the scale factor, leading to long ver- sion<SPAN style="LETTER-SPACING: -0.5pt"> </SPAN>chains.<SPAN style="LETTER-SPACING: -0.5pt"> </SPAN>The<SPAN style="LETTER-SPACING: -0.5pt"> </SPAN>scalable<SPAN style="LETTER-SPACING: -0.5pt"> </SPAN>version-aware<SPAN style="LETTER-SPACING: -0.5pt"> </SPAN>data<SPAN style="LETTER-SPACING: -0.6pt"> </SPAN>placement<SPAN style="LETTER-SPACING: -0.5pt"> </SPAN>accelerates<SPAN style="LETTER-SPACING: -0.5pt"> </SPAN>the<SPAN style="LETTER-SPACING: -0.5pt"> </SPAN>scan<SPAN style="LETTER-SPACING: -0.5pt"> </SPAN>operations of<SPAN style="LETTER-SPACING: 1.7pt"> </SPAN>the<SPAN style="LETTER-SPACING: 1.7pt"> </SPAN>CH-Q2<SPAN style="LETTER-SPACING: 1.7pt"> </SPAN>query<SPAN style="LETTER-SPACING: 1.7pt"> </SPAN>to<SPAN style="LETTER-SPACING: 1.7pt"> </SPAN>shorten<SPAN style="LETTER-SPACING: 1.7pt"> </SPAN>the<SPAN style="LETTER-SPACING: 1.7pt"> </SPAN>latency,<SPAN style="LETTER-SPACING: 1.7pt"> </SPAN>thus<SPAN style="LETTER-SPACING: 1.7pt"> </SPAN>improving<SPAN style="LETTER-SPACING: 1.7pt"> </SPAN>query<SPAN style="LETTER-SPACING: 1.7pt"> </SPAN>throughput.</FONT></P>
<P class=western style="MARGIN-TOP: 0in; MARGIN-LEFT: 0.56in; LINE-HEIGHT: 98%; MARGIN-RIGHT: 0.22in; TEXT-INDENT: 0.21in" align=justify><FONT class=extract>Since the update operations within the NewOrder transaction often access the current versions, they rarely suffer from the extended version chains. The scalable version-aware data placement stores the current versions in the tree index, saving<SPAN style="LETTER-SPACING: 4pt"> </SPAN>one<SPAN style="LETTER-SPACING: 0.9pt"> </SPAN>cache<SPAN style="LETTER-SPACING: 0.9pt"> </SPAN>miss<SPAN style="LETTER-SPACING: 0.9pt"> </SPAN>for<SPAN style="LETTER-SPACING: 0.9pt"> </SPAN>transactions<SPAN style="LETTER-SPACING: 0.9pt"> </SPAN>accessing<SPAN style="LETTER-SPACING: 0.9pt"> </SPAN>the<SPAN style="LETTER-SPACING: 0.9pt"> </SPAN>current<SPAN style="LETTER-SPACING: 0.9pt"> </SPAN>versions.<SPAN style="LETTER-SPACING: 0.9pt"> </SPAN>We<SPAN style="LETTER-SPACING: 0.9pt"> </SPAN>observe<SPAN style="LETTER-SPACING: 0.9pt"> </SPAN>that<SPAN style="LETTER-SPACING: 0.9pt"> </SPAN><SPAN style="LETTER-SPACING: -0.3pt">the</SPAN></FONT></P>
<P class=western><FONT class=extract><BR></FONT></P>
<P class=western style="MARGIN-TOP: 0in"><FONT class=extract><BR></FONT></P>
<P class=western style="MARGIN-LEFT: 0.34in" align=center><SPAN style="LETTER-SPACING: -0.3pt"><FONT class=extract>20</FONT></SPAN></P>
<P class=western style="PAGE-BREAK-BEFORE: always; MARGIN-LEFT: 0.74in"><FONT class=extract><IMG border=0 name="Image 659" src="file:///C:/Users/aaron/AppData/Local/Temp/lu21164a2h8qi.tmp/lu21164a2h8vc_tmp_26bd205d198cb7a3.jpg" width=599 align=bottom height=256> </FONT></P>
<P class=western style="MARGIN-TOP: 0.06in; MARGIN-LEFT: 0.22in; LINE-HEIGHT: 96%; MARGIN-RIGHT: 0.56in" align=justify><A name=_bookmark20></A><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT face="Georgia, serif"><FONT style="FONT-SIZE: 8pt" size=1>Fig. 19</FONT></FONT><FONT face="Georgia, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 2pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 8pt" size=1>The throughput performance under </FONT><FONT style="FONT-SIZE: 8pt" size=1>TPC-</FONT><FONT style="FONT-SIZE: 8pt" size=1>C heterogeneous workloads. </FONT><FONT style="FONT-SIZE: 8pt" size=1>TPCC </FONT><FONT style="FONT-SIZE: 8pt" size=1>NewOrder throughput (left); </FONT><FONT style="FONT-SIZE: 8pt" size=1>CH-</FONT><FONT style="FONT-SIZE: 8pt" size=1>Q2 throughput (right); 10 warehouses, 0.1 million transactions.</FONT></FONT></FONT></P>
<P class=western style="MARGIN-TOP: 0.08in"><FONT class=extract><BR></FONT></P>
<P class=western style="MARGIN-LEFT: 0.22in; LINE-HEIGHT: 98%; MARGIN-RIGHT: 0.56in" align=justify><FONT class=extract>NewOrder transaction throughput cannot significantly benefit from scalable version- aware data placement. However, long-running query transactions would access older versions, and they generally suffer severe latency problems. If these update-intensive transaction throughputs become much higher, then performance collapse may arise due<SPAN style="LETTER-SPACING: 2pt"> </SPAN>to long version chains. Thus, the scalable version-aware data placement gains impor- tance because version partitioning can reduce unnecessary version accesses, saving more cache misses.</FONT></P>
<OL>
<OL start=5>
<LI>
<H2 class=western style="MARGIN-TOP: 0.15in; LINE-HEIGHT: 100%; TEXT-INDENT: 0in" align=left><A name="Partition Size"></A><FONT class=extract><FONT face="Palatino Linotype, serif">Partition</FONT><FONT face="Palatino Linotype, serif"><SPAN style="LETTER-SPACING: 2.7pt"> </SPAN></FONT><FONT face="Palatino Linotype, serif"><SPAN style="LETTER-SPACING: -0.2pt">Size</SPAN></FONT></FONT></H2></LI></OL></OL>
<P class=western style="MARGIN-TOP: 0.07in; MARGIN-LEFT: 0.22in; LINE-HEIGHT: 98%; MARGIN-RIGHT: 0.56in" align=justify><FONT class=extract>The<SPAN style="LETTER-SPACING: 0.8pt"> </SPAN>optimal<SPAN style="LETTER-SPACING: 0.8pt"> </SPAN>partition<SPAN style="LETTER-SPACING: 0.8pt"> </SPAN>size<SPAN style="LETTER-SPACING: 0.8pt"> </SPAN>depends<SPAN style="LETTER-SPACING: 0.8pt"> </SPAN>on<SPAN style="LETTER-SPACING: 0.8pt"> </SPAN>the<SPAN style="LETTER-SPACING: 0.8pt"> </SPAN>workload<SPAN style="LETTER-SPACING: 0.8pt"> </SPAN>and<SPAN style="LETTER-SPACING: 0.8pt"> </SPAN>the<SPAN style="LETTER-SPACING: 0.8pt"> </SPAN>performance<SPAN style="LETTER-SPACING: 0.8pt"> </SPAN>of<SPAN style="LETTER-SPACING: 0.8pt"> </SPAN>the<SPAN style="LETTER-SPACING: 0.8pt"> </SPAN>system. A<SPAN style="LETTER-SPACING: -0.5pt"> </SPAN>faster<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>system<SPAN style="LETTER-SPACING: -0.5pt"> </SPAN>with<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>high<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>update<SPAN style="LETTER-SPACING: -0.5pt"> </SPAN>rates<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>generates<SPAN style="LETTER-SPACING: -0.5pt"> </SPAN>more<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>versions<SPAN style="LETTER-SPACING: -0.5pt"> </SPAN>and<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>has<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>to<SPAN style="LETTER-SPACING: -0.5pt"> </SPAN>tune<SPAN style="LETTER-SPACING: -0.5pt"> </SPAN>the partition size. We run a heterogeneous workload by combining 20 YCSB-A worker threads and 1 YCSB-C worker thread with significant skew access. Figure <FONT color=#0000ff><A href="file:///C:/SuperMemo/systems/Incremental/temp/HTMLFile.htm#_bookmark21"><FONT color=#000080>20</FONT></A> </FONT>shows the throughput when varying the partition size.</FONT></P>
<P class=western style="MARGIN-TOP: 0in; MARGIN-LEFT: 0.22in; LINE-HEIGHT: 98%; MARGIN-RIGHT: 0.56in; TEXT-INDENT: 0.21in" align=justify><FONT class=extract>For<SPAN style="LETTER-SPACING: 2pt"> </SPAN>the<SPAN style="LETTER-SPACING: 2pt"> </SPAN>range<SPAN style="LETTER-SPACING: 2pt"> </SPAN>partition<SPAN style="LETTER-SPACING: 2pt"> </SPAN>data<SPAN style="LETTER-SPACING: 2pt"> </SPAN>placement,<SPAN style="LETTER-SPACING: 2pt"> </SPAN>we<SPAN style="LETTER-SPACING: 2pt"> </SPAN>see<SPAN style="LETTER-SPACING: 2pt"> </SPAN>the<SPAN style="LETTER-SPACING: 2pt"> </SPAN>best<SPAN style="LETTER-SPACING: 2pt"> </SPAN>results<SPAN style="LETTER-SPACING: 2pt"> </SPAN>when<SPAN style="LETTER-SPACING: 2pt"> </SPAN>we<SPAN style="LETTER-SPACING: 2pt"> </SPAN>tune the<SPAN style="LETTER-SPACING: 2pt"> </SPAN>range<SPAN style="LETTER-SPACING: 2pt"> </SPAN>to<SPAN style="LETTER-SPACING: 2pt"> </SPAN>be<SPAN style="LETTER-SPACING: 2pt"> </SPAN>as<SPAN style="LETTER-SPACING: 2pt"> </SPAN>large<SPAN style="LETTER-SPACING: 2pt"> </SPAN>as<SPAN style="LETTER-SPACING: 2pt"> </SPAN>possible.<SPAN style="LETTER-SPACING: 2pt"> </SPAN>While<SPAN style="LETTER-SPACING: 2pt"> </SPAN>a<SPAN style="LETTER-SPACING: 2pt"> </SPAN>large<SPAN style="LETTER-SPACING: 2pt"> </SPAN>range<SPAN style="LETTER-SPACING: 2pt"> </SPAN>partition<SPAN style="LETTER-SPACING: 2pt"> </SPAN>enables<SPAN style="LETTER-SPACING: 2pt"> </SPAN>skipping more unnecessary version accesses, it increases the overhead of maintaining the range partition<SPAN style="LETTER-SPACING: 2pt"> </SPAN>and<SPAN style="LETTER-SPACING: 2pt"> </SPAN>traversing<SPAN style="LETTER-SPACING: 2pt"> </SPAN>in<SPAN style="LETTER-SPACING: 2pt"> </SPAN>the<SPAN style="LETTER-SPACING: 2pt"> </SPAN>target<SPAN style="LETTER-SPACING: 2pt"> </SPAN>range<SPAN style="LETTER-SPACING: 2pt"> </SPAN>partition.</FONT></P>
<P class=western style="MARGIN-TOP: 0in; MARGIN-LEFT: 0.22in; LINE-HEIGHT: 98%; MARGIN-RIGHT: 0.56in; TEXT-INDENT: 0.21in" align=justify><FONT class=extract>For the epoch partition data placement, it is best to set the epoch threshold as<SPAN style="LETTER-SPACING: 4pt"> </SPAN>high as possible. However, a large epoch threshold would incur more hash conflicts under a significant skew. We achieved the best results by setting the threshold to 100 ms. This gives the best tradeoff between fast version searching and the maintenance overhead for the thread-local partitioning.</FONT></P>
<OL start=7>
<LI>
<H1 class=western style="LINE-HEIGHT: 100%; TEXT-INDENT: 0in" align=left><A name="Related Work"></A><FONT class=extract>Related<SPAN style="LETTER-SPACING: 1.2pt"> </SPAN><SPAN style="LETTER-SPACING: -0.2pt">Work</SPAN></FONT></H1></LI></OL>
<P class=western style="MARGIN-TOP: 0.1in; MARGIN-LEFT: 0.22in; LINE-HEIGHT: 98%; MARGIN-RIGHT: 0.56in" align=justify><FONT class=extract><FONT face="Georgia, serif">Data Partitioning. </FONT>Data partitioning has been an important technique in database systems. With it, queries can skip partitions based on their partition key ranges or achieve high data cache performance with good spatial locality. Partitioning a relation is NP-hard [</FONT><A href="file:///C:/SuperMemo/systems/Incremental/temp/HTMLFile.htm#_bookmark45"><FONT class=extract color=#0000ff>29</FONT></A><FONT class=extract>]. Many research efforts have been devoted to optimal partitioning schemes.<SPAN style="LETTER-SPACING: 1pt"> </SPAN>Some<SPAN style="LETTER-SPACING: 1pt"> </SPAN>approaches<SPAN style="LETTER-SPACING: 1pt"> </SPAN>partition<SPAN style="LETTER-SPACING: 1pt"> </SPAN>data<SPAN style="LETTER-SPACING: 1pt"> </SPAN>across<SPAN style="LETTER-SPACING: 1pt"> </SPAN>both<SPAN style="LETTER-SPACING: 1pt"> </SPAN>rows<SPAN style="LETTER-SPACING: 1pt"> </SPAN>and<SPAN style="LETTER-SPACING: 1pt"> </SPAN>columns<SPAN style="LETTER-SPACING: 1pt"> </SPAN>to<SPAN style="LETTER-SPACING: 1pt"> </SPAN><SPAN style="LETTER-SPACING: -0.1pt">account</SPAN></FONT></P>
<P class=western style="MARGIN-TOP: 0.12in"><FONT class=extract><BR></FONT></P>
<P class=western style="MARGIN-RIGHT: 0.34in" align=center><SPAN style="LETTER-SPACING: -0.3pt"><FONT class=extract>21</FONT></SPAN></P>
<P class=western style="PAGE-BREAK-BEFORE: always; MARGIN-LEFT: 0.74in; LINE-HEIGHT: 100%"><FONT class=extract><IMG border=0 name="Image 660" src="file:///C:/Users/aaron/AppData/Local/Temp/lu21164a2h8qi.tmp/lu21164a2h8vc_tmp_dd69129761d5b43d.png" width=330 align=bottom height=146> <FONT style="FONT-SIZE: 11pt" size=2><FONT style="FONT-SIZE: 10pt" size=2></FONT><IMG border=0 name="Image 661" src="file:///C:/Users/aaron/AppData/Local/Temp/lu21164a2h8qi.tmp/lu21164a2h8vc_tmp_dc6a31b82de6b8a6.png" width=330 align=bottom height=146> </FONT></FONT></P>
<P class=western style="MARGIN-TOP: 0.1in; MARGIN-LEFT: 0.56in; LINE-HEIGHT: 96%; MARGIN-RIGHT: 0.22in" align=justify><A name=_bookmark21></A><FONT style="FONT-SIZE: 11pt" size=2><FONT class=extract><FONT face="Georgia, serif"><FONT style="FONT-SIZE: 8pt" size=1>Fig. 20</FONT></FONT><FONT face="Georgia, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 2pt"> </SPAN></FONT></FONT><FONT style="FONT-SIZE: 8pt" size=1>The throughput performance under </FONT><FONT style="FONT-SIZE: 8pt" size=1>YCSB </FONT><FONT style="FONT-SIZE: 8pt" size=1>heterogeneous workloads. 0.01 million tuples (left), 0.1 million tuples (right), 20 </FONT><FONT style="FONT-SIZE: 8pt" size=1>YCSB-A </FONT><FONT style="FONT-SIZE: 8pt" size=1>threads and 1 </FONT><FONT style="FONT-SIZE: 8pt" size=1>YCSB-</FONT><FONT style="FONT-SIZE: 8pt" size=1>C thread, 1 million transactions, 2 operations per </FONT><FONT style="FONT-SIZE: 8pt" size=1>YCSB-</FONT><FONT style="FONT-SIZE: 8pt" size=1>A, 1000 operations per </FONT><FONT style="FONT-SIZE: 8pt" size=1>YCSB-</FONT><FONT style="FONT-SIZE: 8pt" size=1>C, zipfian theta=0.99.</FONT></FONT></FONT></P>
<P class=western style="MARGIN-TOP: 0.07in"><FONT class=extract><BR></FONT></P>
<P class=western style="MARGIN-LEFT: 0.56in; LINE-HEIGHT: 98%; MARGIN-RIGHT: 0.22in" align=justify><FONT class=extract>for different read access patterns. Other approaches partition data based on features or representative filters extracted from the workload. In the past decade, researchers have developed a number of data partitioning techniques, such as: data skipping [</FONT><A href="file:///C:/SuperMemo/systems/Incremental/temp/HTMLFile.htm#_bookmark46"><FONT class=extract color=#0000ff>30</FONT></A><FONT class=extract>&#8211; </FONT><A href="file:///C:/SuperMemo/systems/Incremental/temp/HTMLFile.htm#_bookmark47"><FONT class=extract color=#0000ff>36</FONT></A><FONT class=extract>],<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>workload-driven<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>partitioning<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>[</FONT><A href="file:///C:/SuperMemo/systems/Incremental/temp/HTMLFile.htm#_bookmark48"><FONT class=extract color=#0000ff>37</FONT></A><FONT class=extract>&#8211;</FONT><A href="file:///C:/SuperMemo/systems/Incremental/temp/HTMLFile.htm#_bookmark49"><FONT class=extract color=#0000ff>47</FONT></A><FONT class=extract>],<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>column-oriented<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>partitioning<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>[</FONT><A href="file:///C:/SuperMemo/systems/Incremental/temp/HTMLFile.htm#_bookmark24"><FONT class=extract color=#0000ff>3</FONT></A><FONT class=extract>,<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT><A href="file:///C:/SuperMemo/systems/Incremental/temp/HTMLFile.htm#_bookmark36"><FONT class=extract color=#0000ff>20</FONT></A><FONT class=extract>,<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT><A href="file:///C:/SuperMemo/systems/Incremental/temp/HTMLFile.htm#_bookmark50"><FONT class=extract color=#0000ff>48</FONT></A><FONT class=extract>&#8211;</FONT><A href="file:///C:/SuperMemo/systems/Incremental/temp/HTMLFile.htm#_bookmark51"><FONT class=extract color=#0000ff>56</FONT></A><FONT class=extract>], learning data partitioning [</FONT><A href="file:///C:/SuperMemo/systems/Incremental/temp/HTMLFile.htm#_bookmark52"><FONT class=extract color=#0000ff>57</FONT></A><FONT class=extract>&#8211;</FONT><A href="file:///C:/SuperMemo/systems/Incremental/temp/HTMLFile.htm#_bookmark53"><FONT class=extract color=#0000ff>63</FONT></A><FONT class=extract>].</FONT></P>
<P class=western style="MARGIN-TOP: 0in; MARGIN-LEFT: 0.56in; LINE-HEIGHT: 98%; MARGIN-RIGHT: 0.22in; TEXT-INDENT: 0.21in" align=justify><FONT class=extract><FONT face="Georgia, serif">Transaction Timestamp. </FONT>In the strictest serializable transaction scheme, the execution schedule must be equivalent to a schedule where all the transactions are executed sequentially. In a timestamp ordering-based concurrency control algorithm, this serial order is expressed using timestamps. Each transaction is assigned a unique and<SPAN style="LETTER-SPACING: 2pt"> </SPAN>monotonically<SPAN style="LETTER-SPACING: 2pt"> </SPAN>increasing<SPAN style="LETTER-SPACING: 2pt"> </SPAN>timestamp<SPAN style="LETTER-SPACING: 2pt"> </SPAN>as<SPAN style="LETTER-SPACING: 2pt"> </SPAN>the<SPAN style="LETTER-SPACING: 2pt"> </SPAN>serial<SPAN style="LETTER-SPACING: 2pt"> </SPAN>order<SPAN style="LETTER-SPACING: 2pt"> </SPAN>that<SPAN style="LETTER-SPACING: 2pt"> </SPAN>is<SPAN style="LETTER-SPACING: 2pt"> </SPAN>used<SPAN style="LETTER-SPACING: 2pt"> </SPAN>for<SPAN style="LETTER-SPACING: 2pt"> </SPAN>con- flict detection. Multi-version and optimistic concurrency control algorithms are both timestamp-based. In modern multi-core systems, a centralized timestamp allocation would incur significant performance overhead. Most recent studies have focused on addressing such contention [</FONT><A href="file:///C:/SuperMemo/systems/Incremental/temp/HTMLFile.htm#_bookmark29"><FONT class=extract color=#0000ff>12</FONT></A><FONT class=extract>, </FONT><A href="file:///C:/SuperMemo/systems/Incremental/temp/HTMLFile.htm#_bookmark31"><FONT class=extract color=#0000ff>15</FONT></A><FONT class=extract>, </FONT><A href="file:///C:/SuperMemo/systems/Incremental/temp/HTMLFile.htm#_bookmark54"><FONT class=extract color=#0000ff>64</FONT></A><FONT class=extract>&#8211;</FONT><A href="file:///C:/SuperMemo/systems/Incremental/temp/HTMLFile.htm#_bookmark55"><FONT class=extract color=#0000ff>68</FONT></A><FONT class=extract>]. Hence, all the prior arts above differ from our approach as to motivation and exhibit the limitation that the legacy linear search algorithm over multiple versions still needs to be addressed.</FONT></P>
<P class=western style="MARGIN-TOP: 0.01in; MARGIN-LEFT: 0.56in; LINE-HEIGHT: 98%; MARGIN-RIGHT: 0.22in; TEXT-INDENT: 0.21in" align=justify><FONT class=extract><FONT face="Georgia, serif">Version Searching. </FONT>Multi-version concurrency Control (MVCC) is the most com- mon concurrency control mechanism in database systems. Although multi-versioning itself is non-blocking and scalable, it produces long version chains and causes massive read amplifies for heterogeneous workloads. However, for the past decades, we have seen<SPAN style="LETTER-SPACING: 1.3pt"> </SPAN>remarkable<SPAN style="LETTER-SPACING: 1.3pt"> </SPAN>progress<SPAN style="LETTER-SPACING: 1.3pt"> </SPAN>in<SPAN style="LETTER-SPACING: 1.3pt"> </SPAN>query<SPAN style="LETTER-SPACING: 1.3pt"> </SPAN>optimizations<SPAN style="LETTER-SPACING: 1.3pt"> </SPAN>and<SPAN style="LETTER-SPACING: 1.3pt"> </SPAN>access<SPAN style="LETTER-SPACING: 1.3pt"> </SPAN>methods,<SPAN style="LETTER-SPACING: 1.3pt"> </SPAN>all<SPAN style="LETTER-SPACING: 1.3pt"> </SPAN>the<SPAN style="LETTER-SPACING: 1.3pt"> </SPAN>effort to expedite the search for the most recently updated tuples, taking no heed of ver- sioned<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>data<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>[</FONT><A href="file:///C:/SuperMemo/systems/Incremental/temp/HTMLFile.htm#_bookmark32"><FONT class=extract color=#0000ff>16</FONT></A><FONT class=extract>].<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>Existing<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>approaches<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>amend<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>multi-versioning<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>overheads<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>by<SPAN style="LETTER-SPACING: -0.1pt"> </SPAN>frequently collecting<SPAN style="LETTER-SPACING: 2pt"> </SPAN>unreachable<SPAN style="LETTER-SPACING: 2pt"> </SPAN>versions<SPAN style="LETTER-SPACING: 2pt"> </SPAN>through<SPAN style="LETTER-SPACING: 2pt"> </SPAN>active<SPAN style="LETTER-SPACING: 2pt"> </SPAN>or<SPAN style="LETTER-SPACING: 2pt"> </SPAN>passive<SPAN style="LETTER-SPACING: 2pt"> </SPAN>garbage<SPAN style="LETTER-SPACING: 2pt"> </SPAN>collection<SPAN style="LETTER-SPACING: 2pt"> </SPAN>(GC) [</FONT><A href="file:///C:/SuperMemo/systems/Incremental/temp/HTMLFile.htm#_bookmark27"><FONT class=extract color=#0000ff>10</FONT></A><FONT class=extract>,<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT><A href="file:///C:/SuperMemo/systems/Incremental/temp/HTMLFile.htm#_bookmark28"><FONT class=extract color=#0000ff>11</FONT></A><FONT class=extract>,<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT><A href="file:///C:/SuperMemo/systems/Incremental/temp/HTMLFile.htm#_bookmark56"><FONT class=extract color=#0000ff>69</FONT></A><FONT class=extract>,<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT><A href="file:///C:/SuperMemo/systems/Incremental/temp/HTMLFile.htm#_bookmark57"><FONT class=extract color=#0000ff>70</FONT></A><FONT class=extract>].<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>There<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>are<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>researches<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>on<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>multi-version<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>B-trees<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>whose<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>index<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>would<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>span an index record and its versions to overcome the linear version traversal through nest- ing a version search structure [</FONT><A href="file:///C:/SuperMemo/systems/Incremental/temp/HTMLFile.htm#_bookmark35"><FONT class=extract color=#0000ff>19</FONT></A><FONT class=extract>, </FONT><A href="file:///C:/SuperMemo/systems/Incremental/temp/HTMLFile.htm#_bookmark58"><FONT class=extract color=#0000ff>71</FONT></A><FONT class=extract>, </FONT><A href="file:///C:/SuperMemo/systems/Incremental/temp/HTMLFile.htm#_bookmark59"><FONT class=extract color=#0000ff>72</FONT></A><FONT class=extract>]. Another research focuses on a lightweight access method for multi-versioned data that is constructed by weaving per record fru- gal skip lists [</FONT><A href="file:///C:/SuperMemo/systems/Incremental/temp/HTMLFile.htm#_bookmark32"><FONT class=extract color=#0000ff>16</FONT></A><FONT class=extract>]. Despite its merits, this approach should be used carefully due to the cost of reorganizing version search structures and increased memory space overhead.</FONT></P>
<P class=western><FONT class=extract><BR></FONT></P>
<P class=western><FONT class=extract><BR></FONT></P>
<P class=western><FONT class=extract><BR></FONT></P>
<P class=western><FONT class=extract><BR></FONT></P>
<P class=western><FONT class=extract><BR></FONT></P>
<P class=western style="MARGIN-TOP: 0.1in"><FONT class=extract><BR></FONT></P>
<P class=western style="MARGIN-LEFT: 0.34in" align=center><SPAN style="LETTER-SPACING: -0.3pt"><FONT class=extract>22</FONT></SPAN></P>
<OL start=8>
<LI>
<H1 class=western style="MARGIN-TOP: 0in; PAGE-BREAK-BEFORE: always; LINE-HEIGHT: 100%; TEXT-INDENT: 0in" align=left><A name=Conclusion></A><SPAN style="LETTER-SPACING: -0.1pt"><FONT class=extract>Conclusion</FONT></SPAN></H1></LI></OL>
<P class=western style="MARGIN-TOP: 0.1in; MARGIN-LEFT: 0.22in; LINE-HEIGHT: 98%; MARGIN-RIGHT: 0.56in" align=justify><FONT class=extract>In this paper, we introduce scalable version-aware data placement as an efficient approach for accelerating version searching in in-memory MVCC databases. We pre- sented a suite of techniques to reduce the cost and maintenance overheads of version timestamp partitioning-based data placement techniques and to alleviate memory allocation contention, avoid transaction abort, and eliminate write amplification. Scal- able<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>version-aware<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>data<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>placement<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>works<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>well<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>for<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>transactional<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>workloads<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>since<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>tables&#8217; current tuple versions are partitioned into leaf nodes, allowing index-only visibility check and data access. It is particularly beneficial for heterogeneous workloads since long chains of versions exist due to the mix of short-lived update transactions and<SPAN style="LETTER-SPACING: 2pt"> </SPAN>long-running queries. Both range partitioning and epoch partitioning improve the query latency. We integrated our design into the existing in-memory MVCC engine<SPAN style="LETTER-SPACING: 4pt"> </SPAN>and showed that the system with scalable version-aware data placement improved its throughput performance.</FONT>