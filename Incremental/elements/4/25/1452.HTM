<b> : </b><FONT color=#231f20>Information</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN></FONT><FONT color=#231f20>Hiding</FONT></H1></LI></OL>
<P class=western style="MARGIN-TOP: 0.06in; MARGIN-LEFT: 0.28in; LINE-HEIGHT: 93%; MARGIN-RIGHT: 0.1in"><FONT color=#231f20>Sections 4 to 7 describe our recommendations and detail how we</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT><FONT color=#231f20>applied them to complete the Raft proof. This section shows how</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT><FONT color=#231f20>to extend classical information hiding techniques with </FONT><FONT color=#231f20><FONT face="Times New Roman, serif"><B>interface</B></FONT></FONT><FONT color=#231f20><FONT face="Times New Roman, serif"><SPAN style="LETTER-SPACING: 0.1pt"><B> </B></SPAN></FONT></FONT><FONT color=#231f20><FONT face="Times New Roman, serif"><B>lemmas</B></FONT></FONT><FONT color=#231f20><FONT face="Times New Roman, serif"><SPAN style="LETTER-SPACING: 0.6pt"><B> </B></SPAN></FONT></FONT><FONT color=#231f20>that</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.9pt"> </SPAN></FONT><FONT color=#231f20>support</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.9pt"> </SPAN></FONT><FONT color=#231f20>formal</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.9pt"> </SPAN></FONT><FONT color=#231f20>reasoning</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.9pt"> </SPAN></FONT><FONT color=#231f20>about</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.9pt"> </SPAN></FONT><FONT color=#231f20>hidden</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.9pt"> </SPAN></FONT><FONT color=#231f20>de&#64257;nitions.</FONT></P>
<P class=western style="MARGIN-TOP: 0in; MARGIN-LEFT: 0.28in; LINE-HEIGHT: 93%; MARGIN-RIGHT: 0.09in; TEXT-INDENT: 0.17in"><FONT color=#231f20>In software development, hiding information from clients (e.g.,</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -1.8pt"> </SPAN></FONT><FONT color=#231f20>callers of functions) prevents them from depending on implemen-</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -1.8pt"> </SPAN></FONT><FONT color=#231f20>tation details and thus enables code to be updated without requiring</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT><FONT color=#231f20>any change to clients. Applying these software engineering princi-</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -1.8pt"> </SPAN></FONT><FONT color=#231f20>ples in the context of proof assistants can signi&#64257;cantly reduce the</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT><FONT color=#231f20>cost of rework in response to the inevitable changes that arise during</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT><FONT color=#231f20>the iterative system veri&#64257;cation process. However, to apply tradi-</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT><FONT color=#231f20>tional</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN></FONT><FONT color=#231f20>information</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN></FONT><FONT color=#231f20>hiding</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN></FONT><FONT color=#231f20>techniques</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN></FONT><FONT color=#231f20>in</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN></FONT><FONT color=#231f20>the</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN></FONT><FONT color=#231f20>context</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN></FONT><FONT color=#231f20>of</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN></FONT><FONT color=#231f20>Coq</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN></FONT><FONT color=#231f20>requires</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -1.8pt"> </SPAN></FONT><FONT color=#231f20>enriching the traditional notion of interface to support formally</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT><FONT color=#231f20>reasoning</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT><FONT color=#231f20>about</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT><FONT color=#231f20>hidden</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT><FONT color=#231f20>de&#64257;nitions,</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT><FONT color=#231f20>rather</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT><FONT color=#231f20>than</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT><FONT color=#231f20>just</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT><FONT color=#231f20>using</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT><FONT color=#231f20>them.</FONT></P>
<P class=western style="MARGIN-TOP: 0.01in; MARGIN-LEFT: 0.28in; LINE-HEIGHT: 93%; MARGIN-RIGHT: 0.09in; TEXT-INDENT: 0.17in"><FONT color=#231f20>The core challenge to applying information hiding techniques in</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT><FONT color=#231f20>Coq arises due to the nature of equality as it is de&#64257;ned in Coq. Coq</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -1.8pt"> </SPAN></FONT><FONT color=#231f20>relies on </FONT><FONT color=#231f20><I>de&#64257;nitional equality</I></FONT><FONT color=#231f20>, which captures the computational</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT><FONT color=#231f20>behavior</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN></FONT><FONT color=#231f20>of</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN></FONT><FONT color=#231f20>terms.</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT><FONT color=#231f20>Since</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN></FONT><FONT color=#231f20>evaluation</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT><FONT color=#231f20>depends</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN></FONT><FONT color=#231f20>on</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN></FONT><FONT color=#231f20>a</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT><FONT color=#231f20>term&#8217;s</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN></FONT><FONT color=#231f20>de&#64257;nition,</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -1.8pt"> </SPAN></FONT><FONT color=#231f20>techniques that hide the details of how a term is de&#64257;ned typically</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT><FONT color=#231f20>also</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT><FONT color=#231f20>hide</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT><FONT color=#231f20>that</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT><FONT color=#231f20>term&#8217;s</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT><FONT color=#231f20>de&#64257;nitional</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT><FONT color=#231f20>equalites,</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT><FONT color=#231f20>and</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT><FONT color=#231f20>thus</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT><FONT color=#231f20>make</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT><FONT color=#231f20>equality</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -1.8pt"> </SPAN></FONT><FONT color=#231f20>proofs</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.5pt"> </SPAN></FONT><FONT color=#231f20>over</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN></FONT><FONT color=#231f20>that</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN></FONT><FONT color=#231f20>term</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN></FONT><FONT color=#231f20>much</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN></FONT><FONT color=#231f20>more</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN></FONT><FONT color=#231f20>dif&#64257;cult</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN></FONT><FONT color=#231f20>or</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN></FONT><FONT color=#231f20>impossible.</FONT></P>
<P class=western style="MARGIN-TOP: 0in; MARGIN-LEFT: 0.27in; LINE-HEIGHT: 95%; MARGIN-RIGHT: 0.09in; TEXT-INDENT: 0.18in"><FONT color=#231f20>Typical systems developments in Coq try to ease the proof effort</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT><FONT color=#231f20>by exposing all details of their functions and type de&#64257;nitions.</FONT><FONT color=#231f20><SUP>12</SUP></FONT><FONT color=#231f20> The</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT><FONT color=#231f20>result is predictable: once the system has been veri&#64257;ed, it tends to</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -1.8pt"> </SPAN></FONT><FONT color=#231f20>&#8220;freeze&#8221;, since making any change to one part of the system impacts</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT><FONT color=#231f20>many other parts of the system and requires reworking numerous</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -1.8pt"> </SPAN></FONT><FONT color=#231f20>proofs.</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT><FONT color=#231f20>To</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT><FONT color=#231f20>address</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT><FONT color=#231f20>this</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT><FONT color=#231f20>dif&#64257;culty,</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT><FONT color=#231f20>we</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT><FONT color=#231f20>recommend</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT><FONT color=#231f20>hiding</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT><FONT color=#231f20>the</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT><FONT color=#231f20>de&#64257;ni-</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -1.8pt"> </SPAN></FONT><FONT color=#231f20>tion of functions and datatypes, but enriching their interfaces with</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -1.8pt"> </SPAN></FONT><FONT color=#231f20>all</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.8pt"> </SPAN></FONT><FONT color=#231f20>the</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.8pt"> </SPAN></FONT><FONT color=#231f20>necessary</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.8pt"> </SPAN></FONT><FONT color=#231f20>lemmas</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.7pt"> </SPAN></FONT><FONT color=#231f20>to</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.8pt"> </SPAN></FONT><FONT color=#231f20>reason</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.8pt"> </SPAN></FONT><FONT color=#231f20>about</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.8pt"> </SPAN></FONT><FONT color=#231f20>them</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.8pt"> </SPAN></FONT><FONT color=#231f20>throughout</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.8pt"> </SPAN></FONT><FONT color=#231f20>the</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.8pt"> </SPAN></FONT><FONT color=#231f20>rest</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT><FONT color=#231f20>of</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.2pt"> </SPAN></FONT><FONT color=#231f20>the</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.2pt"> </SPAN></FONT><FONT color=#231f20>system.</FONT></P>
<P class=western style="MARGIN-TOP: 0.08in; MARGIN-LEFT: 0.28in; LINE-HEIGHT: 93%; MARGIN-RIGHT: 0.11in"><FONT color=#231f20><FONT face="Times New Roman, serif"><B>Recommendation 1.</B></FONT></FONT><FONT color=#231f20><FONT face="Times New Roman, serif"><SPAN style="LETTER-SPACING: 0.1pt"><B> </B></SPAN></FONT></FONT><FONT color=#231f20>Hide the de&#64257;nitions of functions and types</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT><FONT color=#231f20>behind interfaces, and expose only the facts needed through lemmas</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT><FONT color=#231f20>in</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.2pt"> </SPAN></FONT><FONT color=#231f20>the</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.2pt"> </SPAN></FONT><FONT color=#231f20>interface.</FONT></P>
<P class=western style="MARGIN-TOP: 0.08in; MARGIN-LEFT: 0.28in; LINE-HEIGHT: 93%; MARGIN-RIGHT: 0.09in; TEXT-INDENT: 0.17in"><FONT color=#231f20>Following this recommendation, de&#64257;nitions are only unfolded</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT><FONT color=#231f20>in</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.6pt"> </SPAN></FONT><FONT color=#231f20>proofs</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.6pt"> </SPAN></FONT><FONT color=#231f20>of</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.6pt"> </SPAN></FONT><FONT color=#231f20>their</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.6pt"> </SPAN></FONT><FONT color=#231f20>interface</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.6pt"> </SPAN></FONT><FONT color=#231f20>lemmas.</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.6pt"> </SPAN></FONT><FONT color=#231f20>Then</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.6pt"> </SPAN></FONT><FONT color=#231f20>all</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.6pt"> </SPAN></FONT><FONT color=#231f20>other</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.6pt"> </SPAN></FONT><FONT color=#231f20>proofs</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.6pt"> </SPAN></FONT><FONT color=#231f20>in</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.6pt"> </SPAN></FONT><FONT color=#231f20>the</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.6pt"> </SPAN></FONT><FONT color=#231f20>rest</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT><FONT color=#231f20>of</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT><FONT color=#231f20>the</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT><FONT color=#231f20>system</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT><FONT color=#231f20>must</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT><FONT color=#231f20>be</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT><FONT color=#231f20>completed</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT><FONT color=#231f20>in</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT><FONT color=#231f20>terms</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT><FONT color=#231f20>of</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT><FONT color=#231f20>the</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT><FONT color=#231f20>interface</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT><FONT color=#231f20>lemmas.</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -1.8pt"> </SPAN></FONT><FONT color=#231f20>This allows details of the implementation to be changed without</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT><FONT color=#231f20>affecting</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT><FONT color=#231f20>any</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT><FONT color=#231f20>clients,</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT><FONT color=#231f20>as</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT><FONT color=#231f20>long</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT><FONT color=#231f20>as</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT><FONT color=#231f20>all</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT><FONT color=#231f20>the</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT><FONT color=#231f20>interface</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT><FONT color=#231f20>lemmas</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT><FONT color=#231f20>can</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT><FONT color=#231f20>still</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT><FONT color=#231f20>be</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -1.8pt"> </SPAN></FONT><FONT color=#231f20>proven</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT><FONT color=#231f20>for</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT><FONT color=#231f20>the</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT><FONT color=#231f20>updated</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT><FONT color=#231f20>implementation.</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT><FONT color=#231f20>It</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT><FONT color=#231f20>is</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT><FONT color=#231f20>dif&#64257;cult</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT><FONT color=#231f20>to</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT><FONT color=#231f20>determine</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -1.8pt"> </SPAN></FONT><FONT color=#231f20>a</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN></FONT><FONT color=#231f20><I>complete</I></FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.4pt"><I> </I></SPAN></FONT><FONT color=#231f20>set</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN></FONT><FONT color=#231f20>of</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN></FONT><FONT color=#231f20>interface</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN></FONT><FONT color=#231f20>lemmas</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN></FONT><FONT color=#231f20>in</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN></FONT><FONT color=#231f20>advance.</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN></FONT><FONT color=#231f20>When</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN></FONT><FONT color=#231f20>one</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN></FONT><FONT color=#231f20>discovers</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -1.8pt"> </SPAN></FONT><FONT color=#231f20>that the interface is not suf&#64257;cient to prove a particular theorem,</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.1pt">one</SPAN></FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN></FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.1pt">can</SPAN></FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.1pt">add</SPAN></FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.1pt">additional</SPAN></FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT><FONT color=#231f20>lemmas</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT><FONT color=#231f20>to</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN></FONT><FONT color=#231f20>the</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT><FONT color=#231f20>interface</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT><FONT color=#231f20>without</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT><FONT color=#231f20>forcing</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT><FONT color=#231f20>any</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -1.8pt"> </SPAN></FONT><FONT color=#231f20>other clients to change. Less often, the interface must be changed in</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT><FONT color=#231f20>response</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN></FONT><FONT color=#231f20>to</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT><FONT color=#231f20>an</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT><FONT color=#231f20>implementation</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT><FONT color=#231f20>change.</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT><FONT color=#231f20>This</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT><FONT color=#231f20>may</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN></FONT><FONT color=#231f20>require</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT><FONT color=#231f20>updating</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -1.8pt"> </SPAN></FONT><FONT color=#231f20>clients, but only those that use the particular parts of the interface</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -1.8pt"> </SPAN></FONT><FONT color=#231f20>that</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT><FONT color=#231f20>have</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.2pt"> </SPAN></FONT><FONT color=#231f20>been</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.2pt"> </SPAN></FONT><FONT color=#231f20>updated.</FONT></P>
<P class=western style="MARGIN-TOP: 0.01in; MARGIN-LEFT: 0.28in; LINE-HEIGHT: 93%; MARGIN-RIGHT: 0.09in; TEXT-INDENT: 0.17in"><FONT color=#231f20>Throughout our Raft proof, we speci&#64257;ed and proved interface</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT><FONT color=#231f20>lemmas characterizing the behavior of all message handlers and</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.1pt">helper functions; </SPAN></FONT><FONT color=#231f20>two examples are shown in Figure 6. Many of</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -1.9pt"> </SPAN></FONT><FONT color=#231f20>these interface lemmas &#8220;overlap,&#8221; in that they are more general</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT><FONT color=#231f20>versions of another interface lemma which we found to be too</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT><FONT color=#231f20>specialized to its original use. However, instead of changing the</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT><FONT color=#231f20>interface</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT><FONT color=#231f20>and</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT><FONT color=#231f20>updating</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT><FONT color=#231f20>numerous</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT><FONT color=#231f20>proofs,</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT><FONT color=#231f20>our</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT><FONT color=#231f20>approach</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT><FONT color=#231f20>allowed</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT><FONT color=#231f20>us</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -1.8pt"> </SPAN></FONT><FONT color=#231f20>to</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT><FONT color=#231f20>simply</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT><FONT color=#231f20>extend</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT><FONT color=#231f20>the</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT><FONT color=#231f20>interface</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT><FONT color=#231f20>and</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT><FONT color=#231f20>continue</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT><FONT color=#231f20>making</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT><FONT color=#231f20>progress.</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT><FONT color=#231f20>Also,</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -1.8pt"> </SPAN></FONT><FONT color=#231f20>these lemmas often specify the behavior of functions (especially</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT><FONT color=#231f20>message handlers) at various levels of detail depending on the needs</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT><FONT color=#231f20>of</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 1.2pt"> </SPAN></FONT><FONT color=#231f20>the</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 1.2pt"> </SPAN></FONT><FONT color=#231f20>client</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 1.2pt"> </SPAN></FONT><FONT color=#231f20>(i.e.,</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 1.2pt"> </SPAN></FONT><FONT color=#231f20>the</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 1.2pt"> </SPAN></FONT><FONT color=#231f20>invariant</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 1.2pt"> </SPAN></FONT><FONT color=#231f20>proof</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 1.2pt"> </SPAN></FONT><FONT color=#231f20>that</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 1.2pt"> </SPAN></FONT><FONT color=#231f20>uses</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 1.2pt"> </SPAN></FONT><FONT color=#231f20>the</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 1.2pt"> </SPAN></FONT><FONT color=#231f20>speci&#64257;cation</FONT></P></DIV>
<DIV id=Section9 dir=ltr>
<P class=western style="MARGIN-LEFT: 0.75in; LINE-HEIGHT: 0.14in" align=left><FONT color=#231f20>of</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.8pt"> </SPAN></FONT><FONT color=#231f20>them</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.8pt"> </SPAN></FONT><FONT color=#231f20>at</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.8pt"> </SPAN></FONT><FONT color=#231f20>that</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.9pt"> </SPAN></FONT><FONT color=#231f20>term,</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.8pt"> </SPAN></FONT><FONT color=#231f20>so</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.8pt"> </SPAN></FONT><FONT color=#231f20>they</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.8pt"> </SPAN></FONT><FONT color=#231f20>must</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.9pt"> </SPAN></FONT><FONT color=#231f20>be</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.8pt"> </SPAN></FONT><FONT color=#231f20>the</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.8pt"> </SPAN></FONT><FONT color=#231f20>same</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.9pt"> </SPAN></FONT><FONT color=#231f20>node.</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.8pt"> </SPAN></FONT><FONT color=#231f20>Therefore,</FONT><FONT color=#231f20> </FONT><FONT color=#231f20><FONT face="Times New Roman, serif"><U></U></FONT></FONT><FONT color=#231f20><FONT face="Times New Roman, serif"><U></U></FONT></FONT></P></DIV>
<DIV id=Section10 style="column-count: 2" dir=ltr gutter="4">
<P class=western style="MARGIN-LEFT: 0.75in; LINE-HEIGHT: 0.14in" align=left><SPAN class=sd-abs-pos style="WIDTH: 239px; POSITION: absolute; LEFT: 0.75in; TOP: 0.23in"></SPAN><SPAN class=sd-abs-pos style="WIDTH: 11px; POSITION: absolute; LEFT: 3.98in; TOP: 0.03in"></SPAN><FONT color=#231f20>Election</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.5pt"> </SPAN></FONT><FONT color=#231f20>Safety</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.5pt"> </SPAN></FONT><FONT color=#231f20>holds.</FONT></P>
<P class=western style="MARGIN-LEFT: 0.75in; LINE-HEIGHT: 86%; TEXT-INDENT: -0.01in" align=left><FONT style="FONT-SIZE: 11pt" size=2><FONT color=#231f20><SUP><FONT style="FONT-SIZE: 6pt" size=1>10</FONT></SUP></FONT><FONT color=#231f20><SUP><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT></SUP></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1>The</FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.4pt"> </SPAN></FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1>proof</FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.4pt"> </SPAN></FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1>of</FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.4pt"> </SPAN></FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1>Leader</FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.4pt"> </SPAN></FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1>Completeness</FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.4pt"> </SPAN></FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1>is</FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.4pt"> </SPAN></FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1>available</FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.4pt"> </SPAN></FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1>in</FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.4pt"> </SPAN></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>raft-proofs/</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -3.9pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>LeaderCompletenessProof.v</FONT></FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1>.</FONT></FONT></FONT></P>
<P class=western style="MARGIN-TOP: 0.01in; MARGIN-LEFT: 0.74in" align=left><FONT style="FONT-SIZE: 11pt" size=2><FONT color=#231f20><SUP><FONT style="FONT-SIZE: 6pt" size=1>11</FONT></SUP></FONT><FONT color=#231f20><SUP><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: 1.8pt"> </SPAN></FONT></SUP></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1>See</FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 2.4pt"> </SPAN></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>raft-proofs/OneLeaderPerTermProof.v</FONT></FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1>.</FONT></FONT></FONT></P>
<P class=western style="MARGIN-TOP: 0.02in; MARGIN-LEFT: 0.29in; LINE-HEIGHT: 0.14in" align=left><FONT style="FONT-SIZE: 11pt" size=2><FONT color=#231f20><SUP><FONT style="FONT-SIZE: 6pt" size=1>12</FONT></SUP></FONT><FONT color=#231f20><SUP><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: 0.3pt"> </SPAN></FONT></SUP></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1>There</FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.2pt"> </SPAN></FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1>are</FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1>a</FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.2pt"> </SPAN></FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1>few</FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.2pt"> </SPAN></FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1>notable</FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1>exceptions</FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1>to</FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.2pt"> </SPAN></FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1>this</FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.2pt"> </SPAN></FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1>rule</FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.2pt"> </SPAN></FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1>[3,</FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.2pt"> </SPAN></FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1>12,</FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.2pt"> </SPAN></FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1>25].</FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.2pt"> </SPAN></FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1>For</FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.2pt"> </SPAN></FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1>example,</FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.2pt"> </SPAN></FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1>the</FONT></FONT></FONT></P>
<P class=western style="MARGIN-TOP: 0in; MARGIN-LEFT: 0.29in; LINE-HEIGHT: 95%; MARGIN-RIGHT: 0.11in" align=justify><FONT style="FONT-SIZE: 11pt" size=2><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1>Coq standard library includes implementations of some data structures that</FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1>use</FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1>module</FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1>signatures</FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1>to</FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1>hide</FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1>implementation</FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1>details.</FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1>This</FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1>is</FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1>a</FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1>step</FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1>in</FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1>the</FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -1.6pt"> </SPAN></FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1>right</FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.5pt"> </SPAN></FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1>direction,</FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.5pt"> </SPAN></FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1>but</FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.5pt"> </SPAN></FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1>such</FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.5pt"> </SPAN></FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1>techniques</FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.5pt"> </SPAN></FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1>should</FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.5pt"> </SPAN></FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1>be</FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.5pt"> </SPAN></FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1>more</FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.5pt"> </SPAN></FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1>widely</FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.5pt"> </SPAN></FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1>used,</FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.5pt"> </SPAN></FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1>even</FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.5pt"> </SPAN></FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1>when</FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -1.5pt"> </SPAN></FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.1pt">a</SPAN></FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.1pt">clean</SPAN></FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.1pt">interface</SPAN></FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.1pt">is</SPAN></FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.1pt">not</SPAN></FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1>available</FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1>in</FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1>advance,</FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1>and</FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1>so</FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1>some</FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1>churn</FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1>is</FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1>expected.</FONT></FONT></FONT></P></DIV>
<DIV id=Section11 style="column-count: 2" dir=ltr gutter="4">
<P class=western style="MARGIN-TOP: 0.05in; PAGE-BREAK-BEFORE: always; MARGIN-LEFT: 0.75in; LINE-HEIGHT: 86%; MARGIN-RIGHT: 1.48in" align=left><FONT style="FONT-SIZE: 11pt" size=2><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>(*</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>Simple</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>specification</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>lemma</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>*)</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -4.1pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>Lemma</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>handleTimeout_log</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>:</FONT></FONT></FONT></FONT></P>
<P class=western style="MARGIN-LEFT: 0.87in; LINE-HEIGHT: 0.12in" align=left><FONT style="FONT-SIZE: 11pt" size=2><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>forall</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>h st out st&#8217; l,</FONT></FONT></FONT></FONT></P>
<P class=western style="MARGIN-TOP: 0.01in; MARGIN-LEFT: 0.98in; LINE-HEIGHT: 86%; MARGIN-RIGHT: 0.89in" align=left><FONT style="FONT-SIZE: 11pt" size=2><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>handleTimeout</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.3pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>h</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.3pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>st</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.3pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>=</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.3pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>(out,</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.3pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>st&#8217;,</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.3pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>l)</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.3pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>-&gt;</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -3.9pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>log</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>st&#8217;</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>=</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>log</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>st.</FONT></FONT></FONT></FONT></P>
<P class=western style="MARGIN-TOP: 0in" align=left><BR></P>
<P class=western style="MARGIN-LEFT: 0.75in; LINE-HEIGHT: 86%; MARGIN-RIGHT: 1.14in; TEXT-INDENT: -0.01in" align=left><FONT style="FONT-SIZE: 11pt" size=2><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>(*</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>More</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>complex</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>specification</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>lemma</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>*)</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -4.1pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>Lemma</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>handleAppendEntries_type</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>:</FONT></FONT></FONT></FONT></P>
<P class=western style="MARGIN-LEFT: 0.87in; LINE-HEIGHT: 0.12in" align=left><FONT style="FONT-SIZE: 11pt" size=2><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>forall</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>h</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>st</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>st&#8217;</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>ps,</FONT></FONT></FONT></FONT></P>
<P class=western style="MARGIN-TOP: 0.01in; MARGIN-LEFT: 0.98in; LINE-HEIGHT: 86%; MARGIN-RIGHT: 0.49in" align=left><FONT style="FONT-SIZE: 11pt" size=2><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>handleAppendEntries</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.4pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>h</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.5pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>st</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.5pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>...</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.5pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>=</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.4pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>(st&#8217;,</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.5pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>ps)</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.5pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>-&gt;</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>type</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>st&#8217; = Follower \/ (type st&#8217; = type st /\</FONT></FONT></FONT></FONT></P>
<P class=western style="MARGIN-LEFT: 1.1in; LINE-HEIGHT: 0.13in" align=left><FONT style="FONT-SIZE: 11pt" size=2><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>currentTerm</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.5pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>st&#8217;</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.5pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>=</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.5pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>currentTerm</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.5pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>st).</FONT></FONT></FONT></FONT></P>
<P class=western style="MARGIN-TOP: 0in" align=left><SPAN class=sd-abs-pos style="WIDTH: 478px; POSITION: absolute; LEFT: 0.75in; TOP: 0.14in"></SPAN><BR></P>
<P class=western style="MARGIN-TOP: 0.01in; MARGIN-LEFT: 0.75in; LINE-HEIGHT: 90%; MARGIN-RIGHT: 0.02in"><FONT color=#231f20><FONT face="Times New Roman, serif"><B>Figure 6. </B></FONT></FONT><FONT color=#231f20>Two speci&#64257;cation lemmas. The &#64257;rst states that the</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT><FONT color=#231f20>timeout handler never modi&#64257;es the Raft log. The second states that</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT><FONT color=#231f20>the </FONT><FONT color=#231f20><FONT face="SimSun, serif">AppendEntries </FONT></FONT><FONT color=#231f20>handler either maintains the node&#8217;s type and</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT><FONT color=#231f20>term or</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT><FONT color=#231f20>changes the</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT><FONT color=#231f20>node&#8217;s</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT><FONT color=#231f20>type to</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT><FONT color=#231f20><FONT face="SimSun, serif">Follower</FONT></FONT><FONT color=#231f20>.</FONT></P>
<P class=western align=left><BR></P>
<P class=western style="MARGIN-TOP: 0.12in; MARGIN-LEFT: 0.75in; LINE-HEIGHT: 93%; MARGIN-RIGHT: 0.02in; TEXT-INDENT: 0in"><FONT color=#231f20>lemma). For example, for some invariants, the only fact needed</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT><FONT color=#231f20>about Raft&#8217;s timeout handler is that it does not modify the log. When</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT><FONT color=#231f20>proving</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN></FONT><FONT color=#231f20>an</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN></FONT><FONT color=#231f20>invariant</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN></FONT><FONT color=#231f20>about</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN></FONT><FONT color=#231f20>Raft,</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN></FONT><FONT color=#231f20>we</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN></FONT><FONT color=#231f20>never</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN></FONT><FONT color=#231f20>unfold</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN></FONT><FONT color=#231f20>the</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN></FONT><FONT color=#231f20>de&#64257;nition</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN></FONT><FONT color=#231f20>of</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN></FONT><FONT color=#231f20>a</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -1.8pt"> </SPAN></FONT><FONT color=#231f20>handler function, and instead always apply the relevant speci&#64257;cation</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT><FONT color=#231f20>lemmas. This makes invariant proofs more maintainable, as they</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT><FONT color=#231f20>will</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN></FONT><FONT color=#231f20>continue</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT><FONT color=#231f20>working</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT><FONT color=#231f20>even</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT><FONT color=#231f20>if</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN></FONT><FONT color=#231f20>the</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT><FONT color=#231f20>de&#64257;nition</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT><FONT color=#231f20>of</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT><FONT color=#231f20>the</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN></FONT><FONT color=#231f20>handler</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT><FONT color=#231f20>function</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -1.8pt"> </SPAN></FONT><FONT color=#231f20>changes,</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT><FONT color=#231f20>as</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT><FONT color=#231f20>long</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT><FONT color=#231f20>as</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT><FONT color=#231f20>the</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT><FONT color=#231f20>new</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT><FONT color=#231f20>de&#64257;nition</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT><FONT color=#231f20>leaves the</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT><FONT color=#231f20>log</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT><FONT color=#231f20>unchanged.</FONT></P>
<OL start=5>
<LI>