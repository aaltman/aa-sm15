<b> : </b><FONT color=#231f20>Representation</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN></FONT><FONT color=#231f20>Invariants</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT><FONT color=#231f20>on</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN></FONT><FONT color=#231f20>Logs</FONT></H3></LI></OL></OL>
<P class=western style="MARGIN-TOP: 0.06in; MARGIN-LEFT: 0.28in; LINE-HEIGHT: 95%; MARGIN-RIGHT: 0.09in; TEXT-INDENT: 0in"><FONT color=#231f20>There</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN></FONT><FONT color=#231f20>are</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN></FONT><FONT color=#231f20>several</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN></FONT><FONT color=#231f20>representation</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN></FONT><FONT color=#231f20>invariants</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN></FONT><FONT color=#231f20>Raft</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN></FONT><FONT color=#231f20>maintains</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN></FONT><FONT color=#231f20>on</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN></FONT><FONT color=#231f20>logs.</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -1.8pt"> </SPAN></FONT><FONT color=#231f20>For</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT><FONT color=#231f20>example,</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT><FONT color=#231f20>our</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT><FONT color=#231f20>implementation</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT><FONT color=#231f20>of</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT><FONT color=#231f20>Raft</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT><FONT color=#231f20>represents</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT><FONT color=#231f20>logs</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT><FONT color=#231f20>as</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT><FONT color=#231f20>lists</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT><FONT color=#231f20>of</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -1.8pt"> </SPAN></FONT><FONT color=#231f20>entries, sorted in decreasing order of index. Logs never contain two</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT><FONT color=#231f20>entries with the same index, and all indices are greater than 0. To</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT><FONT color=#231f20>complete</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN></FONT><FONT color=#231f20>our</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN></FONT><FONT color=#231f20>proof</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN></FONT><FONT color=#231f20>of</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN></FONT><FONT color=#231f20>safety,</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN></FONT><FONT color=#231f20>we</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN></FONT><FONT color=#231f20>needed</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN></FONT><FONT color=#231f20>these</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT><FONT color=#231f20>properties</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN></FONT><FONT color=#231f20>on</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN></FONT><FONT color=#231f20>all</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN></FONT><FONT color=#231f20>the</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -1.8pt"> </SPAN></FONT><FONT color=#231f20>logs in Raft, including the log at each host as well as logs in ghost</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT><FONT color=#231f20>variables. Instead of proving these properties for each occurrence</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -1.8pt"> </SPAN></FONT><FONT color=#231f20>of a log in Raft we proved an af&#64257;nity lemma: if any property holds</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT><FONT color=#231f20>of every entry in a node&#8217;s log, then it is also true of every entry in</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT><FONT color=#231f20>the</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT><FONT color=#231f20>logs</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.2pt"> </SPAN></FONT><FONT color=#231f20>in</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.2pt"> </SPAN></FONT><FONT color=#231f20>ghost</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT><FONT color=#231f20>variables.</FONT><FONT color=#231f20><SUP>15</SUP></FONT></P>
<P class=western style="MARGIN-TOP: 0.1in; MARGIN-LEFT: 0.4in; LINE-HEIGHT: 0.13in" align=left><FONT style="FONT-SIZE: 11pt" size=2><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>Lemma</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>votes_affinity</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>:</FONT></FONT></FONT></FONT></P>
<P class=western style="MARGIN-TOP: 0.01in; MARGIN-LEFT: 0.63in; LINE-HEIGHT: 86%; MARGIN-RIGHT: 1.45in; TEXT-INDENT: -0.12in" align=left><FONT style="FONT-SIZE: 11pt" size=2><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>forall</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>(P</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>:</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>logEntry</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>-&gt;</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>Prop),</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -4.1pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>(forall</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>net</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>h</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>e,</FONT></FONT></FONT></FONT></P>
<P class=western style="MARGIN-LEFT: 0.75in; LINE-HEIGHT: 0.12in" align=left><FONT style="FONT-SIZE: 11pt" size=2><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>raft_intermediate_reachable</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>net</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>-&gt;</FONT></FONT></FONT></FONT></P>
<P class=western style="MARGIN-TOP: 0.01in; MARGIN-LEFT: 0.63in; LINE-HEIGHT: 86%; MARGIN-RIGHT: 0.81in; TEXT-INDENT: 0.12in" align=left><FONT style="FONT-SIZE: 11pt" size=2><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>In</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>e</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>(log</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>(nwState</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>net</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>h))</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>-&gt;</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>P</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>e)</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>-&gt;</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -4.1pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>forall</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>net</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>h</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>e</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>n,</FONT></FONT></FONT></FONT></P>
<P class=western style="MARGIN-LEFT: 0.75in; LINE-HEIGHT: 0.12in" align=left><FONT style="FONT-SIZE: 11pt" size=2><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>raft_intermediate_reachable</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>net</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>-&gt;</FONT></FONT></FONT></FONT></P>
<P class=western style="MARGIN-LEFT: 0.75in; LINE-HEIGHT: 0.12in" align=left><FONT style="FONT-SIZE: 11pt" size=2><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>In</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>(n,e)</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>(allEntries</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>(nwState</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>net</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>h))</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>-&gt;</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>P</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>e.</FONT></FONT></FONT></FONT></P>
<P class=western style="MARGIN-LEFT: 0.4in; LINE-HEIGHT: 0.12in" align=left><FONT style="FONT-SIZE: 11pt" size=2><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>Proof.</FONT></FONT></FONT></FONT></P>
<P class=western style="MARGIN-TOP: 0.01in; MARGIN-LEFT: 0.69in; LINE-HEIGHT: 86%; MARGIN-RIGHT: 0.46in; TEXT-INDENT: -0.18in" align=justify><FONT style="FONT-SIZE: 11pt" size=2><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>(*</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>by</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>induction</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>on</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.4pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>raft_intermediate_reachable,</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -4.1pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>since</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>the</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>only</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>entries</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>present</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>in</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>allEntries</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -4.1pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>were</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>at</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>one</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>time</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>also</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>present</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>in</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>the</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>log</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>*)</FONT></FONT></FONT></FONT></P></DIV>
<DIV id=Section14 style="column-count: 2" dir=ltr gutter="4">
<P class=western style="MARGIN-TOP: 0.01in; MARGIN-LEFT: 0.75in; LINE-HEIGHT: 91%; TEXT-INDENT: 0.17in"><FONT color=#231f20>In our proof of Raft, we used two instances of this technique,</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT><FONT color=#231f20>both related to the Raft log. The &#64257;rst shows that any invariant of the</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT><FONT color=#231f20>log is also an invariant of log data structures elsewhere in the system,</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -1.7pt"> </SPAN></FONT><FONT color=#231f20>including on ghost variables. The second shows that any invariant</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -1.8pt"> </SPAN></FONT><FONT color=#231f20>of the data on an </FONT><FONT color=#231f20><FONT face="SimSun, serif">AppendEntries </FONT></FONT><FONT color=#231f20>message is also an invariant of</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT><FONT color=#231f20>the</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.2pt"> </SPAN></FONT><FONT color=#231f20>data</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.2pt"> </SPAN></FONT><FONT color=#231f20>on</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.3pt"> </SPAN></FONT><FONT color=#231f20>an</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.2pt"> </SPAN></FONT><FONT color=#231f20><FONT face="SimSun, serif">Acknowledgment</FONT></FONT><FONT color=#231f20>.</FONT></P>
<P class=western style="MARGIN-TOP: 0in" align=left><SPAN class=sd-abs-pos style="WIDTH: 239px; POSITION: absolute; LEFT: 0.75in; TOP: 0.17in"></SPAN><BR></P>
<P class=western style="MARGIN-LEFT: 0.74in; LINE-HEIGHT: 0.13in" align=left><FONT style="FONT-SIZE: 11pt" size=2><FONT color=#231f20><SUP><FONT style="FONT-SIZE: 6pt" size=1>14</FONT></SUP></FONT><FONT color=#231f20><SUP><FONT style="FONT-SIZE: 6pt" size=1><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT></SUP></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1>Coq</FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.7pt"> </SPAN></FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1>is</FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.7pt"> </SPAN></FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1>based</FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.7pt"> </SPAN></FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1>on</FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.7pt"> </SPAN></FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1>constructive</FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.7pt"> </SPAN></FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1>logic,</FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.7pt"> </SPAN></FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1>which</FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.7pt"> </SPAN></FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1>allows</FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.7pt"> </SPAN></FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1>case</FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.7pt"> </SPAN></FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1>analysis</FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.7pt"> </SPAN></FONT></FONT><FONT color=#231f20><FONT style="FONT-SIZE: 8pt" size=1>only</FONT></FONT></FONT></P>
<P class=western style="MARGIN-LEFT: 0.4in; LINE-HEIGHT: 0.13in" align=left><FONT style="FONT-SIZE: 11pt" size=2><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>Qed.</FONT></FONT></FONT></FONT></P>
<P class=western style="MARGIN-TOP: 0in" align=left><BR></P>
<OL start=6>
<OL start=2>
<LI>