<b> : </b><FONT color=#231f20>Intermediate</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT><FONT color=#231f20>Reachability</FONT></H3></LI></OL></OL>
<P class=western style="MARGIN-TOP: 0.07in; MARGIN-LEFT: 0.75in; LINE-HEIGHT: 91%; MARGIN-RIGHT: 0in; TEXT-INDENT: 0in"><FONT color=#231f20>As</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT><FONT color=#231f20>discussed</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT><FONT color=#231f20>in</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT><FONT color=#231f20>Section</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT><FONT color=#231f20>3.2,</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT><FONT color=#231f20>the</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT><FONT color=#231f20>implementation</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT><FONT color=#231f20>of</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT><FONT color=#231f20>Raft</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT><FONT color=#231f20>in</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT><FONT color=#231f20>Verdi</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -1.9pt"> </SPAN></FONT><FONT color=#231f20>consists</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT><FONT color=#231f20>of</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT><FONT color=#231f20>event</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT><FONT color=#231f20>handlers</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT><FONT color=#231f20>which</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT><FONT color=#231f20>process</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT><FONT color=#231f20>client</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT><FONT color=#231f20>requests,</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT><FONT color=#231f20>timeouts,</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -1.8pt"> </SPAN></FONT><FONT color=#231f20>and</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.9pt"> </SPAN></FONT><FONT color=#231f20>internal</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.9pt"> </SPAN></FONT><FONT color=#231f20>messages</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 1pt"> </SPAN></FONT><FONT color=#231f20>exchanged</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.9pt"> </SPAN></FONT><FONT color=#231f20>between</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.9pt"> </SPAN></FONT><FONT color=#231f20>nodes</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 1pt"> </SPAN></FONT><FONT color=#231f20>of</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.9pt"> </SPAN></FONT><FONT color=#231f20>the</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.9pt"> </SPAN></FONT><FONT color=#231f20>system.</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 1pt"> </SPAN></FONT><FONT color=#231f20>All</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -1.7pt"> </SPAN></FONT><FONT color=#231f20>of these handlers call two helper functions, </FONT><FONT color=#231f20><FONT face="SimSun, serif">leaderHeartbeat </FONT></FONT><FONT color=#231f20>and</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT><FONT color=#231f20><FONT face="SimSun, serif">executeEntries</FONT></FONT><FONT color=#231f20>, which run on every event and perform common</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT><FONT color=#231f20>tasks</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT><FONT color=#231f20>such</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT><FONT color=#231f20>as</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT><FONT color=#231f20>committing</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT><FONT color=#231f20>log entries</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT><FONT color=#231f20>and</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT><FONT color=#231f20>executing</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT><FONT color=#231f20>commands.</FONT></P>
<P class=western style="MARGIN-TOP: 0in; MARGIN-LEFT: 0.75in; LINE-HEIGHT: 93%; TEXT-INDENT: 0.17in"><FONT color=#231f20>To show that a property is an invariant of a Verdi system, one</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT><FONT color=#231f20>typically proceeds by induction on the execution of the system.</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT><FONT color=#231f20>The base case requires showing that the property is true for the</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT><FONT color=#231f20>initial state of all nodes in the empty network, before any events are</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT><FONT color=#231f20>handled. The induction case requires showing that the property is</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -1.8pt"> </SPAN></FONT><FONT color=#231f20>preserved</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT><FONT color=#231f20>by</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT><FONT color=#231f20>all</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT><FONT color=#231f20>event</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT><FONT color=#231f20>and</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT><FONT color=#231f20>message</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT><FONT color=#231f20>handlers.</FONT></P>
<P class=western style="MARGIN-TOP: 0.03in; MARGIN-LEFT: 0.28in; LINE-HEIGHT: 0.13in" align=left><FONT style="FONT-SIZE: 11pt" size=2><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>Inductive</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>raft_intermediate_reachable</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>:</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>state</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>-&gt;</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>Prop</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>:=</FONT></FONT></FONT></FONT></P>
<P class=western style="MARGIN-LEFT: 0.28in; LINE-HEIGHT: 0.12in" align=left><FONT style="FONT-SIZE: 11pt" size=2><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>|</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>RIR_init</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>:</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>raft_intermediate_reachable</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>init</FONT></FONT></FONT></FONT></P>
<P class=western style="MARGIN-LEFT: 0.28in; LINE-HEIGHT: 0.12in" align=left><FONT style="FONT-SIZE: 11pt" size=2><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>|</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>RIR_step</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>:</FONT></FONT></FONT></FONT></P>
<P class=western style="MARGIN-TOP: 0.01in; MARGIN-LEFT: 0.51in; LINE-HEIGHT: 86%; MARGIN-RIGHT: 1.22in; TEXT-INDENT: -0.12in" align=left><FONT style="FONT-SIZE: 11pt" size=2><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>forall net net&#8217;,</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>raft_intermediate_reachable</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.7pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>net</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.6pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>-&gt;</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -4.1pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>step net net&#8217; -&gt;</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>raft_intermediate_reachable</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.7pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>net&#8217;</FONT></FONT></FONT></FONT></P>
<P class=western style="MARGIN-LEFT: 0.28in; LINE-HEIGHT: 0.12in" align=left><FONT style="FONT-SIZE: 11pt" size=2><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>|</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>RIR_leaderHeartbeat</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.2pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>:</FONT></FONT></FONT></FONT></P>
<P class=western style="MARGIN-TOP: 0.01in; MARGIN-LEFT: 0.51in; LINE-HEIGHT: 86%; MARGIN-RIGHT: 0.93in; TEXT-INDENT: -0.12in" align=left><FONT style="FONT-SIZE: 11pt" size=2><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>forall net net&#8217;,</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>raft_intermediate_reachable net -&gt;</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>one_node_leader_heartbeat</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.6pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>net</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.6pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>net&#8217;</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: 0.7pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>-&gt;</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -3.9pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>raft_intermediate_reachable</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.9pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>net&#8217;</FONT></FONT></FONT></FONT></P>
<P class=western style="MARGIN-LEFT: 0.28in; LINE-HEIGHT: 0.13in" align=left><FONT style="FONT-SIZE: 11pt" size=2><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>|</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>...</FONT></FONT></FONT></FONT></P>
<P class=western align=left><BR></P>
<P class=western style="MARGIN-LEFT: 0.28in; LINE-HEIGHT: 0.13in" align=left><FONT style="FONT-SIZE: 11pt" size=2><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>Lemma</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>RIR_properties_inductive</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>:</FONT></FONT></FONT></FONT></P>
<P class=western style="MARGIN-TOP: 0.01in; MARGIN-LEFT: 0.51in; LINE-HEIGHT: 86%; MARGIN-RIGHT: 1.63in; TEXT-INDENT: -0.12in" align=left><FONT style="FONT-SIZE: 11pt" size=2><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>forall</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>(P</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>:</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>network</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>-&gt;</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>Prop),</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -4.1pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>(forall</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>net,</FONT></FONT></FONT></FONT></P>
<P class=western style="MARGIN-TOP: 0in; MARGIN-LEFT: 0.51in; LINE-HEIGHT: 86%; MARGIN-RIGHT: 0.52in; TEXT-INDENT: 0.12in" align=left><FONT style="FONT-SIZE: 11pt" size=2><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>raft_intermediate_reachable</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>net</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>-&gt;</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>P</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>net)</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>-&gt;</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -4.1pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>(forall</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>net,</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>step_star</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>init</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>net</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>-&gt;</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>P</FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT></FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><FONT style="FONT-SIZE: 8pt" size=1>net)</FONT></FONT></FONT></FONT></P>
<P class=western style="MARGIN-TOP: 0in" align=left><SPAN class=sd-abs-pos style="WIDTH: 478px; POSITION: absolute; LEFT: 0.28in; TOP: 0.15in"></SPAN><BR></P>
<P class=western style="MARGIN-TOP: 0.01in; MARGIN-LEFT: 0.28in; LINE-HEIGHT: 93%; MARGIN-RIGHT: 0.11in"><FONT color=#231f20><FONT face="Times New Roman, serif"><B>Figure 7.</B></FONT></FONT><FONT color=#231f20><FONT face="Times New Roman, serif"><SPAN style="LETTER-SPACING: 0.1pt"><B> </B></SPAN></FONT></FONT><FONT color=#231f20>Intermediate</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT><FONT color=#231f20>reachability</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT><FONT color=#231f20>is</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT><FONT color=#231f20>de&#64257;ned</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT><FONT color=#231f20>inductively</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT><FONT color=#231f20>as</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT><FONT color=#231f20>a</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT><FONT color=#231f20>predicate on states. States reachable via the network semantics&#8217; step</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT><FONT color=#231f20>relation are reachable. States reachable via Raft-speci&#64257;c actions</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT><FONT color=#231f20>such</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT><FONT color=#231f20>as</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT><FONT color=#231f20>a</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT><FONT color=#231f20>leader</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT><FONT color=#231f20>heartbeat</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT><FONT color=#231f20>are</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT><FONT color=#231f20>also</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.1pt"> </SPAN></FONT><FONT color=#231f20>reachable.</FONT></P>
<P class=western align=left><BR></P>
<P class=western style="MARGIN-TOP: 0.11in; MARGIN-LEFT: 0.28in; LINE-HEIGHT: 92%; MARGIN-RIGHT: 0.09in; TEXT-INDENT: 0in"><FONT color=#231f20>event, a direct</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT><FONT color=#231f20>proof would</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT><FONT color=#231f20>proceed by case</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT><FONT color=#231f20>analysis on the</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 1.8pt"> </SPAN></FONT><FONT color=#231f20>kind</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -1.8pt"> </SPAN></FONT><FONT color=#231f20>of event and then reason about each branch independently. The</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.1pt">three top-level </SPAN></FONT><FONT color=#231f20>handlers make calls to </FONT><FONT color=#231f20><FONT face="SimSun, serif">leaderHeartbeat </FONT></FONT><FONT color=#231f20>and</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT><FONT color=#231f20><FONT face="SimSun, serif">executeEntries</FONT></FONT><FONT color=#231f20>, whose tasks are independent of the event being</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT><FONT color=#231f20>handled. Direct proof by case analysis would thus require reasoning</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT><FONT color=#231f20>about </FONT><FONT color=#231f20><FONT face="SimSun, serif">leaderHeartbeat </FONT></FONT><FONT color=#231f20>and </FONT><FONT color=#231f20><FONT face="SimSun, serif">executeEntries </FONT></FONT><FONT color=#231f20>multiple times.</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT><FONT color=#231f20>Instead, these cases should each be proved to preserve the invari-</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -1.8pt"> </SPAN></FONT><FONT color=#231f20>ant once. To do so requires constructing intermediate states of the</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT><FONT color=#231f20>system that occur before and after the calls to these helper func-</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT><FONT color=#231f20>tions. These intermediate states may not themselves be reachable</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -1.8pt"> </SPAN></FONT><FONT color=#231f20>under the network semantics. Instead, we introduce the notion of</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT><FONT color=#231f20><I>intermediate</I></FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 1.5pt"><I> </I></SPAN></FONT><FONT color=#231f20><I>reachability</I></FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 1.5pt"><I> </I></SPAN></FONT><FONT color=#231f20>(shown</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 1.5pt"> </SPAN></FONT><FONT color=#231f20>in</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 1.5pt"> </SPAN></FONT><FONT color=#231f20>Figure</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 1.5pt"> </SPAN></FONT><FONT color=#231f20>7),</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 1.5pt"> </SPAN></FONT><FONT color=#231f20>which</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 1.5pt"> </SPAN></FONT><FONT color=#231f20>rephrases</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT><FONT color=#231f20>the network semantics into event speci&#64257;c handlers, helper func-</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT><FONT color=#231f20>tions, and the network and machine faults. Note that network states</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT><FONT color=#231f20>which are reachable via this relation are not necessarily reachable</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -1.8pt"> </SPAN></FONT><FONT color=#231f20>in</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.3pt"> </SPAN></FONT><FONT color=#231f20>the</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.4pt"> </SPAN></FONT><FONT color=#231f20>running</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.4pt"> </SPAN></FONT><FONT color=#231f20>system;</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.4pt"> </SPAN></FONT><FONT color=#231f20>the</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.4pt"> </SPAN></FONT><FONT color=#231f20>set</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.4pt"> </SPAN></FONT><FONT color=#231f20>of</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.4pt"> </SPAN></FONT><FONT color=#231f20>intermediate-reachable</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.4pt"> </SPAN></FONT><FONT color=#231f20>states</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.3pt"> </SPAN></FONT><FONT color=#231f20>is</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -1.8pt"> </SPAN></FONT><FONT color=#231f20>a strict superset of the set of actually reachable states. Thus, if a</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT><FONT color=#231f20>property holds for all intermediate-reachable states, it is guaran-</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT><FONT color=#231f20>teed to hold for all actually reachable states. To use intermediate</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT><FONT color=#231f20>reachability</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT><FONT color=#231f20>to</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT><FONT color=#231f20>prove</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT><FONT color=#231f20>an</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT><FONT color=#231f20>invariant</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT><FONT color=#231f20>of</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT><FONT color=#231f20>Raft,</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT><FONT color=#231f20>we</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT><FONT color=#231f20>prove</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT><FONT color=#231f20>that</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT><FONT color=#231f20>event-</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -0.3pt"> </SPAN></FONT><FONT color=#231f20>and</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: -1.8pt"> </SPAN></FONT><FONT color=#231f20>message-speci&#64257;c handling code, as well as </FONT><FONT color=#231f20><FONT face="SimSun, serif">executeEntries </FONT></FONT><FONT color=#231f20>and</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT><FONT color=#231f20><FONT face="SimSun, serif">leaderHeartbeat</FONT></FONT><FONT color=#231f20><FONT face="SimSun, serif"><SPAN style="LETTER-SPACING: -2.1pt"> </SPAN></FONT></FONT><FONT color=#231f20>all</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.4pt"> </SPAN></FONT><FONT color=#231f20>preserve</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.4pt"> </SPAN></FONT><FONT color=#231f20>the</FONT><FONT color=#231f20><SPAN style="LETTER-SPACING: 0.4pt"> </SPAN></FONT><FONT color=#231f20>invariant.</FONT></P>
<OL>
<OL start=2>
<LI>