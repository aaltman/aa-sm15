<b> : </b><A name="3.7 Raft"></A><A name="3.7 Raft1"></A>Raft</H2></LI></OL></OL>
<P class=western style="MARGIN-TOP: 0.1in; LINE-HEIGHT: 100%; MARGIN-RIGHT: 0.27in">The<SPAN style="LETTER-SPACING: 1.6pt"> </SPAN>Raft<SPAN style="LETTER-SPACING: 1.6pt"> </SPAN>is<SPAN style="LETTER-SPACING: 1.6pt"> </SPAN>designed<SPAN style="LETTER-SPACING: 1.6pt"> </SPAN>to<SPAN style="LETTER-SPACING: 1.6pt"> </SPAN>facilitate<SPAN style="LETTER-SPACING: 1.6pt"> </SPAN>the<SPAN style="LETTER-SPACING: 1.6pt"> </SPAN>understanding<SPAN style="LETTER-SPACING: 1.6pt"> </SPAN>of<SPAN style="LETTER-SPACING: 1.6pt"> </SPAN>consensus<SPAN style="LETTER-SPACING: 1.6pt"> </SPAN>problem<SPAN style="LETTER-SPACING: 1.6pt"> </SPAN>by<SPAN style="LETTER-SPACING: 1.6pt"> </SPAN>dividing<SPAN style="LETTER-SPACING: 1.6pt"> </SPAN>it<SPAN style="LETTER-SPACING: -2.5pt"> </SPAN>to different sub problems to get to better quality in consensus <A href="file:///C:/SuperMemo/systems/Incremental/temp/HTMLFile.htm#_bookmark61"><FONT color=#000080>[49].</FONT></A> It would be helpful to<SPAN style="LETTER-SPACING: 0.1pt"> </SPAN>take<SPAN style="LETTER-SPACING: 0.7pt"> </SPAN>a<SPAN style="LETTER-SPACING: 0.7pt"> </SPAN>look<SPAN style="LETTER-SPACING: 0.7pt"> </SPAN>at<SPAN style="LETTER-SPACING: 0.6pt"> </SPAN>the<SPAN style="LETTER-SPACING: 0.7pt"> </SPAN>concept<SPAN style="LETTER-SPACING: 0.7pt"> </SPAN>of<SPAN style="LETTER-SPACING: 0.7pt"> </SPAN>distributed<SPAN style="LETTER-SPACING: 0.7pt"> </SPAN>consensus,<SPAN style="LETTER-SPACING: 0.7pt"> </SPAN>to<SPAN style="LETTER-SPACING: 0.7pt"> </SPAN>have<SPAN style="LETTER-SPACING: 0.7pt"> </SPAN>a<SPAN style="LETTER-SPACING: 0.6pt"> </SPAN>clear<SPAN style="LETTER-SPACING: 0.7pt"> </SPAN>perception<SPAN style="LETTER-SPACING: 0.7pt"> </SPAN>of<SPAN style="LETTER-SPACING: 0.6pt"> </SPAN>Raft.</P>
<P class=western style="LINE-HEIGHT: 100%; MARGIN-RIGHT: 0.27in; TEXT-INDENT: 0.23in">In<SPAN style="LETTER-SPACING: 0.1pt"> </SPAN>a<SPAN style="LETTER-SPACING: 0.1pt"> </SPAN>system<SPAN style="LETTER-SPACING: 0.1pt"> </SPAN>with<SPAN style="LETTER-SPACING: 0.1pt"> </SPAN>multiple<SPAN style="LETTER-SPACING: 0.1pt"> </SPAN>processes,<SPAN style="LETTER-SPACING: 0.1pt"> </SPAN>each<SPAN style="LETTER-SPACING: 0.1pt"> </SPAN>process<SPAN style="LETTER-SPACING: 0.1pt"> </SPAN>might<SPAN style="LETTER-SPACING: 0.1pt"> </SPAN>be<SPAN style="LETTER-SPACING: 0.1pt"> </SPAN>at<SPAN style="LETTER-SPACING: 2.5pt"> </SPAN>one<SPAN style="LETTER-SPACING: 2.5pt"> </SPAN>of<SPAN style="LETTER-SPACING: 2.5pt"> </SPAN>these<SPAN style="LETTER-SPACING: 2.5pt"> </SPAN>states:<SPAN style="LETTER-SPACING: 0.1pt"> </SPAN>follower state, candidate state or leader state.<SPAN style="LETTER-SPACING: 0.1pt"> </SPAN>All the processes are initially at the follower<SPAN style="LETTER-SPACING: 0.1pt"> </SPAN>state.<SPAN style="LETTER-SPACING: 0.1pt"> </SPAN>If<SPAN style="LETTER-SPACING: 0.1pt"> </SPAN>they<SPAN style="LETTER-SPACING: 0.1pt"> </SPAN>do<SPAN style="LETTER-SPACING: 0.1pt"> </SPAN>not<SPAN style="LETTER-SPACING: 0.1pt"> </SPAN>receive<SPAN style="LETTER-SPACING: 0.1pt"> </SPAN>a<SPAN style="LETTER-SPACING: 0.1pt"> </SPAN>message<SPAN style="LETTER-SPACING: 0.1pt"> </SPAN>from<SPAN style="LETTER-SPACING: 0.1pt"> </SPAN>the<SPAN style="LETTER-SPACING: 0.1pt"> </SPAN>leader,<SPAN style="LETTER-SPACING: 0.1pt"> </SPAN>they<SPAN style="LETTER-SPACING: 2.5pt"> </SPAN>can<SPAN style="LETTER-SPACING: 2.5pt"> </SPAN>go to<SPAN style="LETTER-SPACING: 2.5pt"> </SPAN>candidate<SPAN style="LETTER-SPACING: 2.5pt"> </SPAN>state.<SPAN style="LETTER-SPACING: -2.4pt"> </SPAN>Candid<SPAN style="LETTER-SPACING: 2.3pt"> </SPAN>process<SPAN style="LETTER-SPACING: 2.3pt"> </SPAN>requests<SPAN style="LETTER-SPACING: 2.3pt"> </SPAN>for<SPAN style="LETTER-SPACING: 2.3pt"> </SPAN>votes<SPAN style="LETTER-SPACING: 2.4pt"> </SPAN>from<SPAN style="LETTER-SPACING: 2.3pt"> </SPAN>other<SPAN style="LETTER-SPACING: 2.3pt"> </SPAN>processes<SPAN style="LETTER-SPACING: 2.3pt"> </SPAN>and<SPAN style="LETTER-SPACING: 2.3pt"> </SPAN>the<SPAN style="LETTER-SPACING: 2.4pt"> </SPAN>candid<SPAN style="LETTER-SPACING: 2.3pt"> </SPAN>with<SPAN style="LETTER-SPACING: 2.3pt"> </SPAN>the<SPAN style="LETTER-SPACING: 2.3pt"> </SPAN>majority<SPAN style="LETTER-SPACING: -2.4pt"> </SPAN>of<SPAN style="LETTER-SPACING: 2.5pt"> </SPAN>votes<SPAN style="LETTER-SPACING: 2.5pt"> </SPAN>becomes<SPAN style="LETTER-SPACING: 2.5pt"> </SPAN>a<SPAN style="LETTER-SPACING: 2.5pt"> </SPAN>leader.<SPAN style="LETTER-SPACING: 2.6pt"> </SPAN>This<SPAN style="LETTER-SPACING: 2.5pt"> </SPAN>process<SPAN style="LETTER-SPACING: 2.5pt"> </SPAN>is<SPAN style="LETTER-SPACING: 2.5pt"> </SPAN>called<SPAN style="LETTER-SPACING: 2.5pt"> </SPAN>leader<SPAN style="LETTER-SPACING: 2.5pt"> </SPAN>election. Then,<SPAN style="LETTER-SPACING: 2.5pt"> </SPAN>all<SPAN style="LETTER-SPACING: 2.5pt"> </SPAN>the<SPAN style="LETTER-SPACING: 2.5pt"> </SPAN>changes<SPAN style="LETTER-SPACING: 0.1pt"> </SPAN>of the system are supervised by the new leader.<SPAN style="LETTER-SPACING: 0.1pt"> </SPAN>For the consensus,<SPAN style="LETTER-SPACING: 2.5pt"> </SPAN>leader waits for the<SPAN style="LETTER-SPACING: 0.1pt"> </SPAN>majority<SPAN style="LETTER-SPACING: 1.9pt"> </SPAN>of<SPAN style="LETTER-SPACING: 1.9pt"> </SPAN>processes<SPAN style="LETTER-SPACING: 2pt"> </SPAN>to<SPAN style="LETTER-SPACING: 1.9pt"> </SPAN>write<SPAN style="LETTER-SPACING: 2pt"> </SPAN>their<SPAN style="LETTER-SPACING: 1.9pt"> </SPAN>entries<SPAN style="LETTER-SPACING: 2pt"> </SPAN>in<SPAN style="LETTER-SPACING: 1.9pt"> </SPAN>the<SPAN style="LETTER-SPACING: 1.9pt"> </SPAN>log<SPAN style="LETTER-SPACING: 2pt"> </SPAN>and<SPAN style="LETTER-SPACING: 1.9pt"> </SPAN>after<SPAN style="LETTER-SPACING: 2pt"> </SPAN>the<SPAN style="LETTER-SPACING: 1.9pt"> </SPAN>completion<SPAN style="LETTER-SPACING: 2pt"> </SPAN>of<SPAN style="LETTER-SPACING: 1.9pt"> </SPAN>the<SPAN style="LETTER-SPACING: 1.9pt"> </SPAN>log,<SPAN style="LETTER-SPACING: -2.4pt"> </SPAN>leader<SPAN style="LETTER-SPACING: 1.3pt"> </SPAN>notifies<SPAN style="LETTER-SPACING: 1.3pt"> </SPAN>the<SPAN style="LETTER-SPACING: 1.3pt"> </SPAN>followers<SPAN style="LETTER-SPACING: 1.3pt"> </SPAN>about<SPAN style="LETTER-SPACING: 1.3pt"> </SPAN>the<SPAN style="LETTER-SPACING: 1.3pt"> </SPAN>completion<SPAN style="LETTER-SPACING: 1.3pt"> </SPAN>and<SPAN style="LETTER-SPACING: 1.3pt"> </SPAN>consensus<SPAN style="LETTER-SPACING: 1.3pt"> </SPAN>result<SPAN style="LETTER-SPACING: 1.3pt"> </SPAN><A href="file:///C:/SuperMemo/systems/Incremental/temp/HTMLFile.htm#_bookmark61"><FONT color=#000080>[49].</FONT></A></P>
<P class=western style="LINE-HEIGHT: 100%; MARGIN-RIGHT: 0.27in; TEXT-INDENT: 0.23in">Given<SPAN style="LETTER-SPACING: -0.5pt"> </SPAN>the<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>leader<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>approach,<SPAN style="LETTER-SPACING: -0.2pt"> </SPAN>Raft<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>disjoints<SPAN style="LETTER-SPACING: -0.5pt"> </SPAN>the<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>consensus<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>problem<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>into<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>three<SPAN style="LETTER-SPACING: -0.4pt"> </SPAN>independent<SPAN style="LETTER-SPACING: -2.5pt"> </SPAN>sub-problems<SPAN style="LETTER-SPACING: 1pt"> </SPAN>as<SPAN style="LETTER-SPACING: 1pt"> </SPAN>follows:</P>
<P class=western style="MARGIN-TOP: 0in; MARGIN-LEFT: 0in" align=left><BR></P>
<OL start=3>
<OL>
<UL>
<LI>
<P style="LINE-HEIGHT: 100%" align=left><FONT style="FONT-SIZE: 11pt" size=2><FONT style="FONT-SIZE: 11pt" size=2>Leader</FONT><FONT style="FONT-SIZE: 11pt" size=2><SPAN style="LETTER-SPACING: 1.6pt"> </SPAN></FONT><FONT style="FONT-SIZE: 11pt" size=2>election:</FONT><FONT style="FONT-SIZE: 11pt" size=2><SPAN style="LETTER-SPACING: 0.6pt"> </SPAN></FONT><FONT style="FONT-SIZE: 11pt" size=2>a</FONT><FONT style="FONT-SIZE: 11pt" size=2><SPAN style="LETTER-SPACING: 1.6pt"> </SPAN></FONT><FONT style="FONT-SIZE: 11pt" size=2>new</FONT><FONT style="FONT-SIZE: 11pt" size=2><SPAN style="LETTER-SPACING: 1.7pt"> </SPAN></FONT><FONT style="FONT-SIZE: 11pt" size=2>leader</FONT><FONT style="FONT-SIZE: 11pt" size=2><SPAN style="LETTER-SPACING: 1.7pt"> </SPAN></FONT><FONT style="FONT-SIZE: 11pt" size=2>must</FONT><FONT style="FONT-SIZE: 11pt" size=2><SPAN style="LETTER-SPACING: 1.7pt"> </SPAN></FONT><FONT style="FONT-SIZE: 11pt" size=2>be</FONT><FONT style="FONT-SIZE: 11pt" size=2><SPAN style="LETTER-SPACING: 1.7pt"> </SPAN></FONT><FONT style="FONT-SIZE: 11pt" size=2>chosen</FONT><FONT style="FONT-SIZE: 11pt" size=2><SPAN style="LETTER-SPACING: 1.7pt"> </SPAN></FONT><FONT style="FONT-SIZE: 11pt" size=2>when</FONT><FONT style="FONT-SIZE: 11pt" size=2><SPAN style="LETTER-SPACING: 1.6pt"> </SPAN></FONT><FONT style="FONT-SIZE: 11pt" size=2>an</FONT><FONT style="FONT-SIZE: 11pt" size=2><SPAN style="LETTER-SPACING: 1.7pt"> </SPAN></FONT><FONT style="FONT-SIZE: 11pt" size=2>existing</FONT><FONT style="FONT-SIZE: 11pt" size=2><SPAN style="LETTER-SPACING: 1.7pt"> </SPAN></FONT><FONT style="FONT-SIZE: 11pt" size=2>leader</FONT><FONT style="FONT-SIZE: 11pt" size=2><SPAN style="LETTER-SPACING: 1.7pt"> </SPAN></FONT><FONT style="FONT-SIZE: 11pt" size=2>fails.</FONT></FONT></P>
<LI>
<P style="MARGIN-TOP: 0.13in; LINE-HEIGHT: 100%; MARGIN-RIGHT: 0.27in" align=justify><FONT style="FONT-SIZE: 11pt" size=2><FONT style="FONT-SIZE: 11pt" size=2>Log replication:</FONT><FONT style="FONT-SIZE: 11pt" size=2><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT><FONT style="FONT-SIZE: 11pt" size=2>the leader must accept log entries from clients and replicate them</FONT><FONT style="FONT-SIZE: 11pt" size=2><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT><FONT style="FONT-SIZE: 11pt" size=2>across</FONT><FONT style="FONT-SIZE: 11pt" size=2><SPAN style="LETTER-SPACING: 0.8pt"> </SPAN></FONT><FONT style="FONT-SIZE: 11pt" size=2>the</FONT><FONT style="FONT-SIZE: 11pt" size=2><SPAN style="LETTER-SPACING: 0.9pt"> </SPAN></FONT><FONT style="FONT-SIZE: 11pt" size=2>cluster,</FONT><FONT style="FONT-SIZE: 11pt" size=2><SPAN style="LETTER-SPACING: 0.9pt"> </SPAN></FONT><FONT style="FONT-SIZE: 11pt" size=2>forcing</FONT><FONT style="FONT-SIZE: 11pt" size=2><SPAN style="LETTER-SPACING: 0.9pt"> </SPAN></FONT><FONT style="FONT-SIZE: 11pt" size=2>the</FONT><FONT style="FONT-SIZE: 11pt" size=2><SPAN style="LETTER-SPACING: 0.9pt"> </SPAN></FONT><FONT style="FONT-SIZE: 11pt" size=2>other</FONT><FONT style="FONT-SIZE: 11pt" size=2><SPAN style="LETTER-SPACING: 0.8pt"> </SPAN></FONT><FONT style="FONT-SIZE: 11pt" size=2>logs</FONT><FONT style="FONT-SIZE: 11pt" size=2><SPAN style="LETTER-SPACING: 0.9pt"> </SPAN></FONT><FONT style="FONT-SIZE: 11pt" size=2>to</FONT><FONT style="FONT-SIZE: 11pt" size=2><SPAN style="LETTER-SPACING: 0.9pt"> </SPAN></FONT><FONT style="FONT-SIZE: 11pt" size=2>agree</FONT><FONT style="FONT-SIZE: 11pt" size=2><SPAN style="LETTER-SPACING: 0.8pt"> </SPAN></FONT><FONT style="FONT-SIZE: 11pt" size=2>with</FONT><FONT style="FONT-SIZE: 11pt" size=2><SPAN style="LETTER-SPACING: 0.9pt"> </SPAN></FONT><FONT style="FONT-SIZE: 11pt" size=2>its</FONT><FONT style="FONT-SIZE: 11pt" size=2><SPAN style="LETTER-SPACING: 0.9pt"> </SPAN></FONT><FONT style="FONT-SIZE: 11pt" size=2>own.</FONT></FONT></P>
<LI>
<P style="MARGIN-TOP: 0.12in; LINE-HEIGHT: 100%; MARGIN-RIGHT: 0.27in" align=justify><FONT style="FONT-SIZE: 11pt" size=2><FONT style="FONT-SIZE: 11pt" size=2>Safety: the key safety property for Raft is the State Machine Safety Property: if any</FONT><FONT style="FONT-SIZE: 11pt" size=2><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT><FONT style="FONT-SIZE: 11pt" size=2>server has applied a particular log entry to its state machine, then no other server</FONT><FONT style="FONT-SIZE: 11pt" size=2><SPAN style="LETTER-SPACING: 0.1pt"> </SPAN></FONT><FONT style="FONT-SIZE: 11pt" size=2>may</FONT><FONT style="FONT-SIZE: 11pt" size=2><SPAN style="LETTER-SPACING: 0.9pt"> </SPAN></FONT><FONT style="FONT-SIZE: 11pt" size=2>use</FONT><FONT style="FONT-SIZE: 11pt" size=2><SPAN style="LETTER-SPACING: 0.9pt"> </SPAN></FONT><FONT style="FONT-SIZE: 11pt" size=2>a</FONT><FONT style="FONT-SIZE: 11pt" size=2><SPAN style="LETTER-SPACING: 0.9pt"> </SPAN></FONT><FONT style="FONT-SIZE: 11pt" size=2>different</FONT><FONT style="FONT-SIZE: 11pt" size=2><SPAN style="LETTER-SPACING: 0.9pt"> </SPAN></FONT><FONT style="FONT-SIZE: 11pt" size=2>command</FONT><FONT style="FONT-SIZE: 11pt" size=2><SPAN style="LETTER-SPACING: 0.9pt"> </SPAN></FONT><FONT style="FONT-SIZE: 11pt" size=2>for</FONT><FONT style="FONT-SIZE: 11pt" size=2><SPAN style="LETTER-SPACING: 0.9pt"> </SPAN></FONT><FONT style="FONT-SIZE: 11pt" size=2>the</FONT><FONT style="FONT-SIZE: 11pt" size=2><SPAN style="LETTER-SPACING: 0.9pt"> </SPAN></FONT><FONT style="FONT-SIZE: 11pt" size=2>same</FONT><FONT style="FONT-SIZE: 11pt" size=2><SPAN style="LETTER-SPACING: 0.9pt"> </SPAN></FONT><FONT style="FONT-SIZE: 11pt" size=2>log</FONT><FONT style="FONT-SIZE: 11pt" size=2><SPAN style="LETTER-SPACING: 0.9pt"> </SPAN></FONT><FONT style="FONT-SIZE: 11pt" size=2>index.</FONT></FONT></P></LI></UL></OL></OL>
<P class=western style="MARGIN-TOP: 0in; MARGIN-LEFT: 0in" align=left><BR></P>
<P class=western style="LINE-HEIGHT: 100%; MARGIN-RIGHT: 0.27in; TEXT-INDENT: 0.23in">As<SPAN style="LETTER-SPACING: 2pt"> </SPAN>the<SPAN style="LETTER-SPACING: 2pt"> </SPAN>last<SPAN style="LETTER-SPACING: 2pt"> </SPAN>notion,<SPAN style="LETTER-SPACING: 2.2pt"> </SPAN>it<SPAN style="LETTER-SPACING: 2pt"> </SPAN>must<SPAN style="LETTER-SPACING: 2pt"> </SPAN>be<SPAN style="LETTER-SPACING: 2pt"> </SPAN>stated<SPAN style="LETTER-SPACING: 2pt"> </SPAN>that<SPAN style="LETTER-SPACING: 2pt"> </SPAN>Raft<SPAN style="LETTER-SPACING: 2pt"> </SPAN>is<SPAN style="LETTER-SPACING: 2pt"> </SPAN>similar<SPAN style="LETTER-SPACING: 2pt"> </SPAN>to<SPAN style="LETTER-SPACING: 2pt"> </SPAN>Paxos<SPAN style="LETTER-SPACING: 2pt"> </SPAN>from<SPAN style="LETTER-SPACING: 2pt"> </SPAN>a<SPAN style="LETTER-SPACING: 2pt"> </SPAN>structural<SPAN style="LETTER-SPACING: -2.5pt"> </SPAN>point of view. But, it is simpler and more understandable, and it can cope with the problem<SPAN style="LETTER-SPACING: -2.5pt"> </SPAN>of read/write request latency. In the next section, we will show that Paxos can be replaced<SPAN style="LETTER-SPACING: 0.1pt"> </SPAN>by Raft in Cassandra database system to achieve better performance. Experimental results<SPAN style="LETTER-SPACING: 0.1pt"> </SPAN>can<SPAN style="LETTER-SPACING: 1pt"> </SPAN>prove<SPAN style="LETTER-SPACING: 1pt"> </SPAN>our<SPAN style="LETTER-SPACING: 1pt"> </SPAN>claim.</P>
<P class=western style="MARGIN-LEFT: 0in" align=left><BR></P>
<OL start=3>
<OL start=8>
<LI>